function gw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function mw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yw={exports:{}},ed={},vw={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=Symbol.for("react.element"),cI=Symbol.for("react.portal"),dI=Symbol.for("react.fragment"),hI=Symbol.for("react.strict_mode"),fI=Symbol.for("react.profiler"),pI=Symbol.for("react.provider"),gI=Symbol.for("react.context"),mI=Symbol.for("react.forward_ref"),yI=Symbol.for("react.suspense"),vI=Symbol.for("react.memo"),_I=Symbol.for("react.lazy"),Uy=Symbol.iterator;function wI(t){return t===null||typeof t!="object"?null:(t=Uy&&t[Uy]||t["@@iterator"],typeof t=="function"?t:null)}var _w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ww=Object.assign,Ew={};function vs(t,e,n){this.props=t,this.context=e,this.refs=Ew,this.updater=n||_w}vs.prototype.isReactComponent={};vs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sw(){}Sw.prototype=vs.prototype;function _g(t,e,n){this.props=t,this.context=e,this.refs=Ew,this.updater=n||_w}var wg=_g.prototype=new Sw;wg.constructor=_g;ww(wg,vs.prototype);wg.isPureReactComponent=!0;var zy=Array.isArray,xw=Object.prototype.hasOwnProperty,Eg={current:null},Tw={key:!0,ref:!0,__self:!0,__source:!0};function Cw(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)xw.call(e,r)&&!Tw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_l,type:t,key:o,ref:s,props:i,_owner:Eg.current}}function EI(t,e){return{$$typeof:_l,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sg(t){return typeof t=="object"&&t!==null&&t.$$typeof===_l}function SI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var By=/\/+/g;function vh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SI(""+t.key):e.toString(36)}function Vu(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case _l:case cI:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+vh(s,0):r,zy(i)?(n="",t!=null&&(n=t.replace(By,"$&/")+"/"),Vu(i,e,n,"",function(u){return u})):i!=null&&(Sg(i)&&(i=EI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(By,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",zy(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+vh(o,a);s+=Vu(o,e,n,l,i)}else if(l=wI(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+vh(o,a++),s+=Vu(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ru(t,e,n){if(t==null)return t;var r=[],i=0;return Vu(t,r,"","",function(o){return e.call(n,o,i++)}),r}function xI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},$u={transition:null},TI={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:$u,ReactCurrentOwner:Eg};he.Children={map:ru,forEach:function(t,e,n){ru(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ru(t,function(){e++}),e},toArray:function(t){return ru(t,function(e){return e})||[]},only:function(t){if(!Sg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=vs;he.Fragment=dI;he.Profiler=fI;he.PureComponent=_g;he.StrictMode=hI;he.Suspense=yI;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TI;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ww({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Eg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xw.call(e,l)&&!Tw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:_l,type:t.type,key:i,ref:o,props:r,_owner:s}};he.createContext=function(t){return t={$$typeof:gI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pI,_context:t},t.Consumer=t};he.createElement=Cw;he.createFactory=function(t){var e=Cw.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:mI,render:t}};he.isValidElement=Sg;he.lazy=function(t){return{$$typeof:_I,_payload:{_status:-1,_result:t},_init:xI}};he.memo=function(t,e){return{$$typeof:vI,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=$u.transition;$u.transition={};try{t()}finally{$u.transition=e}};he.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};he.useCallback=function(t,e){return qt.current.useCallback(t,e)};he.useContext=function(t){return qt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};he.useEffect=function(t,e){return qt.current.useEffect(t,e)};he.useId=function(){return qt.current.useId()};he.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return qt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};he.useRef=function(t){return qt.current.useRef(t)};he.useState=function(t){return qt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return qt.current.useTransition()};he.version="18.2.0";vw.exports=he;var E=vw.exports;const Iw=mw(E),Rw=gw({__proto__:null,default:Iw},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI=E,II=Symbol.for("react.element"),RI=Symbol.for("react.fragment"),PI=Object.prototype.hasOwnProperty,AI=CI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kI={key:!0,ref:!0,__self:!0,__source:!0};function Pw(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)PI.call(e,r)&&!kI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:II,type:t,key:o,ref:s,props:i,_owner:AI.current}}ed.Fragment=RI;ed.jsx=Pw;ed.jsxs=Pw;yw.exports=ed;var h=yw.exports,Df={},Aw={exports:{}},dn={},kw={exports:{}},Dw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var K=F.length;F.push(W);e:for(;0<K;){var ae=K-1>>>1,_e=F[ae];if(0<i(_e,W))F[ae]=W,F[K]=_e,K=ae;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],K=F.pop();if(K!==W){F[0]=K;e:for(var ae=0,_e=F.length,ne=_e>>>1;ae<ne;){var Ne=2*(ae+1)-1,st=F[Ne],Ye=Ne+1,Fn=F[Ye];if(0>i(st,K))Ye<_e&&0>i(Fn,st)?(F[ae]=Fn,F[Ye]=K,ae=Ye):(F[ae]=st,F[Ne]=K,ae=Ne);else if(Ye<_e&&0>i(Fn,K))F[ae]=Fn,F[Ye]=K,ae=Ye;else break e}}return W}function i(F,W){var K=F.sortIndex-W.sortIndex;return K!==0?K:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,_=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(F){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=F)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function T(F){if(g=!1,v(F),!_)if(n(l)!==null)_=!0,Ze(R);else{var W=n(u);W!==null&&ge(T,W.startTime-F)}}function R(F,W){_=!1,g&&(g=!1,y(A),A=-1),p=!0;var K=f;try{for(v(W),d=n(l);d!==null&&(!(d.expirationTime>W)||F&&!H());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,f=d.priorityLevel;var _e=ae(d.expirationTime<=W);W=t.unstable_now(),typeof _e=="function"?d.callback=_e:d===n(l)&&r(l),v(W)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var Ne=n(u);Ne!==null&&ge(T,Ne.startTime-W),ne=!1}return ne}finally{d=null,f=K,p=!1}}var S=!1,P=null,A=-1,M=5,$=-1;function H(){return!(t.unstable_now()-$<M)}function j(){if(P!==null){var F=t.unstable_now();$=F;var W=!0;try{W=P(!0,F)}finally{W?te():(S=!1,P=null)}}else S=!1}var te;if(typeof m=="function")te=function(){m(j)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,ot=we.port2;we.port1.onmessage=j,te=function(){ot.postMessage(null)}}else te=function(){w(j,0)};function Ze(F){P=F,S||(S=!0,te())}function ge(F,W){A=w(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,Ze(R))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var K=f;f=W;try{return F()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=f;f=F;try{return W()}finally{f=K}},t.unstable_scheduleCallback=function(F,W,K){var ae=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ae+K:ae):K=ae,F){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=K+_e,F={id:c++,callback:W,priorityLevel:F,startTime:K,expirationTime:_e,sortIndex:-1},K>ae?(F.sortIndex=K,e(u,F),n(l)===null&&F===n(u)&&(g?(y(A),A=-1):g=!0,ge(T,K-ae))):(F.sortIndex=_e,e(l,F),_||p||(_=!0,Ze(R))),F},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(F){var W=f;return function(){var K=f;f=W;try{return F.apply(this,arguments)}finally{f=K}}}})(Dw);kw.exports=Dw;var DI=kw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw=E,ln=DI;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bw=new Set,Oa={};function ao(t,e){ts(t,e),ts(t+"Capture",e)}function ts(t,e){for(Oa[t]=e,t=0;t<e.length;t++)bw.add(e[t])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=Object.prototype.hasOwnProperty,NI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hy={},Wy={};function bI(t){return Nf.call(Wy,t)?!0:Nf.call(Hy,t)?!1:NI.test(t)?Wy[t]=!0:(Hy[t]=!0,!1)}function MI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OI(t,e,n,r){if(e===null||typeof e>"u"||MI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xg=/[\-:]([a-z])/g;function Tg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xg,Tg);Rt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xg,Tg);Rt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xg,Tg);Rt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cg(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OI(e,n,i,r)&&(n=null),r||i===null?bI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tr=Nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iu=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Ro=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),bf=Symbol.for("react.profiler"),Mw=Symbol.for("react.provider"),Ow=Symbol.for("react.context"),Rg=Symbol.for("react.forward_ref"),Mf=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),Pg=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),Fw=Symbol.for("react.offscreen"),Gy=Symbol.iterator;function Vs(t){return t===null||typeof t!="object"?null:(t=Gy&&t[Gy]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,_h;function sa(t){if(_h===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_h=e&&e[1]||""}return`
`+_h+t}var wh=!1;function Eh(t,e){if(!t||wh)return"";wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{wh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sa(t):""}function FI(t){switch(t.tag){case 5:return sa(t.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return t=Eh(t.type,!1),t;case 11:return t=Eh(t.type.render,!1),t;case 1:return t=Eh(t.type,!0),t;default:return""}}function Ff(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ro:return"Fragment";case Io:return"Portal";case bf:return"Profiler";case Ig:return"StrictMode";case Mf:return"Suspense";case Of:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ow:return(t.displayName||"Context")+".Consumer";case Mw:return(t._context.displayName||"Context")+".Provider";case Rg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pg:return e=t.displayName||null,e!==null?e:Ff(t.type)||"Memo";case Vr:e=t._payload,t=t._init;try{return Ff(t(e))}catch{}}return null}function LI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ff(e);case 8:return e===Ig?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VI(t){var e=Lw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ou(t){t._valueTracker||(t._valueTracker=VI(t))}function Vw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Lw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lf(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $w(t,e){e=e.checked,e!=null&&Cg(t,"checked",e,!1)}function Vf(t,e){$w(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$f(t,e.type,n):e.hasOwnProperty("defaultValue")&&$f(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ky(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $f(t,e,n){(e!=="number"||sc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var aa=Array.isArray;function zo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(aa(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function jw(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Uw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Uw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var su,zw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(su=su||document.createElement("div"),su.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=su.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$I=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(t){$I.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ya[e]=ya[t]})});function Bw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ya.hasOwnProperty(t)&&ya[t]?(""+e).trim():e+"px"}function Hw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Bw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jI=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zf(t,e){if(e){if(jI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=null;function Ag(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wf=null,Bo=null,Ho=null;function Xy(t){if(t=Sl(t)){if(typeof Wf!="function")throw Error(b(280));var e=t.stateNode;e&&(e=od(e),Wf(t.stateNode,t.type,e))}}function Ww(t){Bo?Ho?Ho.push(t):Ho=[t]:Bo=t}function Gw(){if(Bo){var t=Bo,e=Ho;if(Ho=Bo=null,Xy(t),e)for(t=0;t<e.length;t++)Xy(e[t])}}function qw(t,e){return t(e)}function Kw(){}var Sh=!1;function Qw(t,e,n){if(Sh)return t(e,n);Sh=!0;try{return qw(t,e,n)}finally{Sh=!1,(Bo!==null||Ho!==null)&&(Kw(),Gw())}}function La(t,e){var n=t.stateNode;if(n===null)return null;var r=od(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Gf=!1;if(yr)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Gf=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Gf=!1}function UI(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var va=!1,ac=null,lc=!1,qf=null,zI={onError:function(t){va=!0,ac=t}};function BI(t,e,n,r,i,o,s,a,l){va=!1,ac=null,UI.apply(zI,arguments)}function HI(t,e,n,r,i,o,s,a,l){if(BI.apply(this,arguments),va){if(va){var u=ac;va=!1,ac=null}else throw Error(b(198));lc||(lc=!0,qf=u)}}function lo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jy(t){if(lo(t)!==t)throw Error(b(188))}function WI(t){var e=t.alternate;if(!e){if(e=lo(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jy(i),t;if(o===r)return Jy(i),e;o=o.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function Xw(t){return t=WI(t),t!==null?Jw(t):null}function Jw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jw(t);if(e!==null)return e;t=t.sibling}return null}var Zw=ln.unstable_scheduleCallback,Zy=ln.unstable_cancelCallback,GI=ln.unstable_shouldYield,qI=ln.unstable_requestPaint,Je=ln.unstable_now,KI=ln.unstable_getCurrentPriorityLevel,kg=ln.unstable_ImmediatePriority,eE=ln.unstable_UserBlockingPriority,uc=ln.unstable_NormalPriority,QI=ln.unstable_LowPriority,tE=ln.unstable_IdlePriority,td=null,Hn=null;function YI(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(td,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:ZI,XI=Math.log,JI=Math.LN2;function ZI(t){return t>>>=0,t===0?32:31-(XI(t)/JI|0)|0}var au=64,lu=4194304;function la(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=la(a):(o&=s,o!==0&&(r=la(o)))}else s=n&~i,s!==0?r=la(s):o!==0&&(r=la(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),i=1<<n,r|=t[n],e&=~i;return r}function eR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-kn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=eR(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nE(){var t=au;return au<<=1,!(au&4194240)&&(au=64),t}function xh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function nR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Dg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function rE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iE,Ng,oE,sE,aE,Qf=!1,uu=[],Yr=null,Xr=null,Jr=null,Va=new Map,$a=new Map,jr=[],rR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ev(t,e){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Va.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$a.delete(e.pointerId)}}function js(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Sl(e),e!==null&&Ng(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iR(t,e,n,r,i){switch(e){case"focusin":return Yr=js(Yr,t,e,n,r,i),!0;case"dragenter":return Xr=js(Xr,t,e,n,r,i),!0;case"mouseover":return Jr=js(Jr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Va.set(o,js(Va.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,$a.set(o,js($a.get(o)||null,t,e,n,r,i)),!0}return!1}function lE(t){var e=Di(t.target);if(e!==null){var n=lo(e);if(n!==null){if(e=n.tag,e===13){if(e=Yw(n),e!==null){t.blockedOn=e,aE(t.priority,function(){oE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hf=r,n.target.dispatchEvent(r),Hf=null}else return e=Sl(n),e!==null&&Ng(e),t.blockedOn=n,!1;e.shift()}return!0}function tv(t,e,n){ju(t)&&n.delete(e)}function oR(){Qf=!1,Yr!==null&&ju(Yr)&&(Yr=null),Xr!==null&&ju(Xr)&&(Xr=null),Jr!==null&&ju(Jr)&&(Jr=null),Va.forEach(tv),$a.forEach(tv)}function Us(t,e){t.blockedOn===e&&(t.blockedOn=null,Qf||(Qf=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,oR)))}function ja(t){function e(i){return Us(i,t)}if(0<uu.length){Us(uu[0],t);for(var n=1;n<uu.length;n++){var r=uu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yr!==null&&Us(Yr,t),Xr!==null&&Us(Xr,t),Jr!==null&&Us(Jr,t),Va.forEach(e),$a.forEach(e),n=0;n<jr.length;n++)r=jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jr.length&&(n=jr[0],n.blockedOn===null);)lE(n),n.blockedOn===null&&jr.shift()}var Wo=Tr.ReactCurrentBatchConfig,dc=!0;function sR(t,e,n,r){var i=Ie,o=Wo.transition;Wo.transition=null;try{Ie=1,bg(t,e,n,r)}finally{Ie=i,Wo.transition=o}}function aR(t,e,n,r){var i=Ie,o=Wo.transition;Wo.transition=null;try{Ie=4,bg(t,e,n,r)}finally{Ie=i,Wo.transition=o}}function bg(t,e,n,r){if(dc){var i=Yf(t,e,n,r);if(i===null)bh(t,e,r,hc,n),ev(t,r);else if(iR(i,t,e,n,r))r.stopPropagation();else if(ev(t,r),e&4&&-1<rR.indexOf(t)){for(;i!==null;){var o=Sl(i);if(o!==null&&iE(o),o=Yf(t,e,n,r),o===null&&bh(t,e,r,hc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else bh(t,e,r,null,n)}}var hc=null;function Yf(t,e,n,r){if(hc=null,t=Ag(r),t=Di(t),t!==null)if(e=lo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hc=t,null}function uE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KI()){case kg:return 1;case eE:return 4;case uc:case QI:return 16;case tE:return 536870912;default:return 16}default:return 16}}var Gr=null,Mg=null,Uu=null;function cE(){if(Uu)return Uu;var t,e=Mg,n=e.length,r,i="value"in Gr?Gr.value:Gr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Uu=i.slice(t,1<r?1-r:void 0)}function zu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cu(){return!0}function nv(){return!1}function hn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cu:nv,this.isPropagationStopped=nv,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cu)},persist:function(){},isPersistent:cu}),e}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Og=hn(_s),El=ze({},_s,{view:0,detail:0}),lR=hn(El),Th,Ch,zs,nd=ze({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zs&&(zs&&t.type==="mousemove"?(Th=t.screenX-zs.screenX,Ch=t.screenY-zs.screenY):Ch=Th=0,zs=t),Th)},movementY:function(t){return"movementY"in t?t.movementY:Ch}}),rv=hn(nd),uR=ze({},nd,{dataTransfer:0}),cR=hn(uR),dR=ze({},El,{relatedTarget:0}),Ih=hn(dR),hR=ze({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),fR=hn(hR),pR=ze({},_s,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gR=hn(pR),mR=ze({},_s,{data:0}),iv=hn(mR),yR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_R={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_R[t])?!!e[t]:!1}function Fg(){return wR}var ER=ze({},El,{key:function(t){if(t.key){var e=yR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fg,charCode:function(t){return t.type==="keypress"?zu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SR=hn(ER),xR=ze({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ov=hn(xR),TR=ze({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fg}),CR=hn(TR),IR=ze({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),RR=hn(IR),PR=ze({},nd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AR=hn(PR),kR=[9,13,27,32],Lg=yr&&"CompositionEvent"in window,_a=null;yr&&"documentMode"in document&&(_a=document.documentMode);var DR=yr&&"TextEvent"in window&&!_a,dE=yr&&(!Lg||_a&&8<_a&&11>=_a),sv=" ",av=!1;function hE(t,e){switch(t){case"keyup":return kR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Po=!1;function NR(t,e){switch(t){case"compositionend":return fE(e);case"keypress":return e.which!==32?null:(av=!0,sv);case"textInput":return t=e.data,t===sv&&av?null:t;default:return null}}function bR(t,e){if(Po)return t==="compositionend"||!Lg&&hE(t,e)?(t=cE(),Uu=Mg=Gr=null,Po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dE&&e.locale!=="ko"?null:e.data;default:return null}}var MR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MR[t.type]:e==="textarea"}function pE(t,e,n,r){Ww(r),e=fc(e,"onChange"),0<e.length&&(n=new Og("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wa=null,Ua=null;function OR(t){CE(t,0)}function rd(t){var e=Do(t);if(Vw(e))return t}function FR(t,e){if(t==="change")return e}var gE=!1;if(yr){var Rh;if(yr){var Ph="oninput"in document;if(!Ph){var uv=document.createElement("div");uv.setAttribute("oninput","return;"),Ph=typeof uv.oninput=="function"}Rh=Ph}else Rh=!1;gE=Rh&&(!document.documentMode||9<document.documentMode)}function cv(){wa&&(wa.detachEvent("onpropertychange",mE),Ua=wa=null)}function mE(t){if(t.propertyName==="value"&&rd(Ua)){var e=[];pE(e,Ua,t,Ag(t)),Qw(OR,e)}}function LR(t,e,n){t==="focusin"?(cv(),wa=e,Ua=n,wa.attachEvent("onpropertychange",mE)):t==="focusout"&&cv()}function VR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rd(Ua)}function $R(t,e){if(t==="click")return rd(e)}function jR(t,e){if(t==="input"||t==="change")return rd(e)}function UR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:UR;function za(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nf.call(e,i)||!bn(t[i],e[i]))return!1}return!0}function dv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hv(t,e){var n=dv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dv(n)}}function yE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vE(){for(var t=window,e=sc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sc(t.document)}return e}function Vg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zR(t){var e=vE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yE(n.ownerDocument.documentElement,n)){if(r!==null&&Vg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=hv(n,o);var s=hv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BR=yr&&"documentMode"in document&&11>=document.documentMode,Ao=null,Xf=null,Ea=null,Jf=!1;function fv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jf||Ao==null||Ao!==sc(r)||(r=Ao,"selectionStart"in r&&Vg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ea&&za(Ea,r)||(Ea=r,r=fc(Xf,"onSelect"),0<r.length&&(e=new Og("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ao)))}function du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ko={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},Ah={},_E={};yr&&(_E=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function id(t){if(Ah[t])return Ah[t];if(!ko[t])return t;var e=ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _E)return Ah[t]=e[n];return t}var wE=id("animationend"),EE=id("animationiteration"),SE=id("animationstart"),xE=id("transitionend"),TE=new Map,pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,e){TE.set(t,e),ao(e,[t])}for(var kh=0;kh<pv.length;kh++){var Dh=pv[kh],HR=Dh.toLowerCase(),WR=Dh[0].toUpperCase()+Dh.slice(1);gi(HR,"on"+WR)}gi(wE,"onAnimationEnd");gi(EE,"onAnimationIteration");gi(SE,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(xE,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function gv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HI(r,e,void 0,t),t.currentTarget=null}function CE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;gv(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;gv(i,a,u),o=l}}}if(lc)throw t=qf,lc=!1,qf=null,t}function Me(t,e){var n=e[rp];n===void 0&&(n=e[rp]=new Set);var r=t+"__bubble";n.has(r)||(IE(e,t,2,!1),n.add(r))}function Nh(t,e,n){var r=0;e&&(r|=4),IE(n,t,r,e)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Ba(t){if(!t[hu]){t[hu]=!0,bw.forEach(function(n){n!=="selectionchange"&&(GR.has(n)||Nh(n,!1,t),Nh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hu]||(e[hu]=!0,Nh("selectionchange",!1,e))}}function IE(t,e,n,r){switch(uE(e)){case 1:var i=sR;break;case 4:i=aR;break;default:i=bg}n=i.bind(null,e,n,t),i=void 0,!Gf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Di(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Qw(function(){var u=o,c=Ag(n),d=[];e:{var f=TE.get(t);if(f!==void 0){var p=Og,_=t;switch(t){case"keypress":if(zu(n)===0)break e;case"keydown":case"keyup":p=SR;break;case"focusin":_="focus",p=Ih;break;case"focusout":_="blur",p=Ih;break;case"beforeblur":case"afterblur":p=Ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CR;break;case wE:case EE:case SE:p=fR;break;case xE:p=RR;break;case"scroll":p=lR;break;case"wheel":p=AR;break;case"copy":case"cut":case"paste":p=gR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ov}var g=(e&4)!==0,w=!g&&t==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var m=u,v;m!==null;){v=m;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,y!==null&&(T=La(m,y),T!=null&&g.push(Ha(m,T,v)))),w)break;m=m.return}0<g.length&&(f=new p(f,_,null,n,c),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Hf&&(_=n.relatedTarget||n.fromElement)&&(Di(_)||_[vr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?Di(_):null,_!==null&&(w=lo(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(g=rv,T="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=ov,T="onPointerLeave",y="onPointerEnter",m="pointer"),w=p==null?f:Do(p),v=_==null?f:Do(_),f=new g(T,m+"leave",p,n,c),f.target=w,f.relatedTarget=v,T=null,Di(c)===u&&(g=new g(y,m+"enter",_,n,c),g.target=v,g.relatedTarget=w,T=g),w=T,p&&_)t:{for(g=p,y=_,m=0,v=g;v;v=yo(v))m++;for(v=0,T=y;T;T=yo(T))v++;for(;0<m-v;)g=yo(g),m--;for(;0<v-m;)y=yo(y),v--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=yo(g),y=yo(y)}g=null}else g=null;p!==null&&mv(d,f,p,g,!1),_!==null&&w!==null&&mv(d,w,_,g,!0)}}e:{if(f=u?Do(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var R=FR;else if(lv(f))if(gE)R=jR;else{R=VR;var S=LR}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=$R);if(R&&(R=R(t,u))){pE(d,R,n,c);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&$f(f,"number",f.value)}switch(S=u?Do(u):window,t){case"focusin":(lv(S)||S.contentEditable==="true")&&(Ao=S,Xf=u,Ea=null);break;case"focusout":Ea=Xf=Ao=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,fv(d,n,c);break;case"selectionchange":if(BR)break;case"keydown":case"keyup":fv(d,n,c)}var P;if(Lg)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Po?hE(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(dE&&n.locale!=="ko"&&(Po||A!=="onCompositionStart"?A==="onCompositionEnd"&&Po&&(P=cE()):(Gr=c,Mg="value"in Gr?Gr.value:Gr.textContent,Po=!0)),S=fc(u,A),0<S.length&&(A=new iv(A,t,null,n,c),d.push({event:A,listeners:S}),P?A.data=P:(P=fE(n),P!==null&&(A.data=P)))),(P=DR?NR(t,n):bR(t,n))&&(u=fc(u,"onBeforeInput"),0<u.length&&(c=new iv("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=P))}CE(d,e)})}function Ha(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=La(t,n),o!=null&&r.unshift(Ha(t,o,i)),o=La(t,e),o!=null&&r.push(Ha(t,o,i))),t=t.return}return r}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=La(n,o),l!=null&&s.unshift(Ha(n,l,a))):i||(l=La(n,o),l!=null&&s.push(Ha(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var qR=/\r\n?/g,KR=/\u0000|\uFFFD/g;function yv(t){return(typeof t=="string"?t:""+t).replace(qR,`
`).replace(KR,"")}function fu(t,e,n){if(e=yv(e),yv(t)!==e&&n)throw Error(b(425))}function pc(){}var Zf=null,ep=null;function tp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var np=typeof setTimeout=="function"?setTimeout:void 0,QR=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,YR=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(t){return vv.resolve(null).then(t).catch(XR)}:np;function XR(t){setTimeout(function(){throw t})}function Mh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ja(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ja(e)}function Zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _v(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ws=Math.random().toString(36).slice(2),$n="__reactFiber$"+ws,Wa="__reactProps$"+ws,vr="__reactContainer$"+ws,rp="__reactEvents$"+ws,JR="__reactListeners$"+ws,ZR="__reactHandles$"+ws;function Di(t){var e=t[$n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vr]||n[$n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_v(t);t!==null;){if(n=t[$n])return n;t=_v(t)}return e}t=n,n=t.parentNode}return null}function Sl(t){return t=t[$n]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Do(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function od(t){return t[Wa]||null}var ip=[],No=-1;function mi(t){return{current:t}}function Fe(t){0>No||(t.current=ip[No],ip[No]=null,No--)}function ke(t,e){No++,ip[No]=t.current,t.current=e}var ci={},Vt=mi(ci),Jt=mi(!1),Wi=ci;function ns(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(t){return t=t.childContextTypes,t!=null}function gc(){Fe(Jt),Fe(Vt)}function wv(t,e,n){if(Vt.current!==ci)throw Error(b(168));ke(Vt,e),ke(Jt,n)}function RE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,LI(t)||"Unknown",i));return ze({},n,r)}function mc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,Wi=Vt.current,ke(Vt,t),ke(Jt,Jt.current),!0}function Ev(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=RE(t,e,Wi),r.__reactInternalMemoizedMergedChildContext=t,Fe(Jt),Fe(Vt),ke(Vt,t)):Fe(Jt),ke(Jt,n)}var sr=null,sd=!1,Oh=!1;function PE(t){sr===null?sr=[t]:sr.push(t)}function eP(t){sd=!0,PE(t)}function yi(){if(!Oh&&sr!==null){Oh=!0;var t=0,e=Ie;try{var n=sr;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sr=null,sd=!1}catch(i){throw sr!==null&&(sr=sr.slice(t+1)),Zw(kg,yi),i}finally{Ie=e,Oh=!1}}return null}var bo=[],Mo=0,yc=null,vc=0,pn=[],gn=0,Gi=null,ar=1,lr="";function Ii(t,e){bo[Mo++]=vc,bo[Mo++]=yc,yc=t,vc=e}function AE(t,e,n){pn[gn++]=ar,pn[gn++]=lr,pn[gn++]=Gi,Gi=t;var r=ar;t=lr;var i=32-kn(r)-1;r&=~(1<<i),n+=1;var o=32-kn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ar=1<<32-kn(e)+i|n<<i|r,lr=o+t}else ar=1<<o|n<<i|r,lr=t}function $g(t){t.return!==null&&(Ii(t,1),AE(t,1,0))}function jg(t){for(;t===yc;)yc=bo[--Mo],bo[Mo]=null,vc=bo[--Mo],bo[Mo]=null;for(;t===Gi;)Gi=pn[--gn],pn[gn]=null,lr=pn[--gn],pn[gn]=null,ar=pn[--gn],pn[gn]=null}var sn=null,on=null,Ve=!1,Pn=null;function kE(t,e){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,on=Zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gi!==null?{id:ar,overflow:lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,on=null,!0):!1;default:return!1}}function op(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sp(t){if(Ve){var e=on;if(e){var n=e;if(!Sv(t,e)){if(op(t))throw Error(b(418));e=Zr(n.nextSibling);var r=sn;e&&Sv(t,e)?kE(r,n):(t.flags=t.flags&-4097|2,Ve=!1,sn=t)}}else{if(op(t))throw Error(b(418));t.flags=t.flags&-4097|2,Ve=!1,sn=t}}}function xv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function pu(t){if(t!==sn)return!1;if(!Ve)return xv(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tp(t.type,t.memoizedProps)),e&&(e=on)){if(op(t))throw DE(),Error(b(418));for(;e;)kE(t,e),e=Zr(e.nextSibling)}if(xv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){on=Zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}on=null}}else on=sn?Zr(t.stateNode.nextSibling):null;return!0}function DE(){for(var t=on;t;)t=Zr(t.nextSibling)}function rs(){on=sn=null,Ve=!1}function Ug(t){Pn===null?Pn=[t]:Pn.push(t)}var tP=Tr.ReactCurrentBatchConfig;function Tn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var _c=mi(null),wc=null,Oo=null,zg=null;function Bg(){zg=Oo=wc=null}function Hg(t){var e=_c.current;Fe(_c),t._currentValue=e}function ap(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Go(t,e){wc=t,zg=Oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(zg!==t)if(t={context:t,memoizedValue:e,next:null},Oo===null){if(wc===null)throw Error(b(308));Oo=t,wc.dependencies={lanes:0,firstContext:t}}else Oo=Oo.next=t;return e}var Ni=null;function Wg(t){Ni===null?Ni=[t]:Ni.push(t)}function NE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Wg(e)):(n.next=i.next,i.next=n),e.interleaved=n,_r(t,r)}function _r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $r=!1;function Gg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_r(t,n)}return i=r.interleaved,i===null?(e.next=e,Wg(r)):(e.next=i.next,i.next=e),r.interleaved=e,_r(t,n)}function Bu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dg(t,n)}}function Tv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ec(t,e,n,r){var i=t.updateQueue;$r=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,g=a;switch(f=e,p=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){d=_.call(p,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,f=typeof _=="function"?_.call(p,d,f):_,f==null)break e;d=ze({},d,f);break e;case 2:$r=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ki|=s,t.lanes=s,t.memoizedState=d}}function Cv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var ME=new Nw.Component().refs;function lp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ad={isMounted:function(t){return(t=t._reactInternals)?lo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=ni(t),o=pr(r,i);o.payload=e,n!=null&&(o.callback=n),e=ei(t,o,i),e!==null&&(Dn(e,t,i,r),Bu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=ni(t),o=pr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ei(t,o,i),e!==null&&(Dn(e,t,i,r),Bu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=ni(t),i=pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ei(t,i,r),e!==null&&(Dn(e,t,r,n),Bu(e,t,r))}};function Iv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!za(n,r)||!za(i,o):!0}function OE(t,e,n){var r=!1,i=ci,o=e.contextType;return typeof o=="object"&&o!==null?o=wn(o):(i=Zt(e)?Wi:Vt.current,r=e.contextTypes,o=(r=r!=null)?ns(t,i):ci),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ad,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Rv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ad.enqueueReplaceState(e,e.state,null)}function up(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ME,Gg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=wn(o):(o=Zt(e)?Wi:Vt.current,i.context=ns(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(lp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ad.enqueueReplaceState(i,i.state,null),Ec(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===ME&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function gu(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pv(t){var e=t._init;return e(t._payload)}function FE(t){function e(y,m){if(t){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=ri(y,m),y.index=0,y.sibling=null,y}function o(y,m,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,T){return m===null||m.tag!==6?(m=zh(v,y.mode,T),m.return=y,m):(m=i(m,v),m.return=y,m)}function l(y,m,v,T){var R=v.type;return R===Ro?c(y,m,v.props.children,T,v.key):m!==null&&(m.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Vr&&Pv(R)===m.type)?(T=i(m,v.props),T.ref=Bs(y,m,v),T.return=y,T):(T=Qu(v.type,v.key,v.props,null,y.mode,T),T.ref=Bs(y,m,v),T.return=y,T)}function u(y,m,v,T){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Bh(v,y.mode,T),m.return=y,m):(m=i(m,v.children||[]),m.return=y,m)}function c(y,m,v,T,R){return m===null||m.tag!==7?(m=zi(v,y.mode,T,R),m.return=y,m):(m=i(m,v),m.return=y,m)}function d(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=zh(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case iu:return v=Qu(m.type,m.key,m.props,null,y.mode,v),v.ref=Bs(y,null,m),v.return=y,v;case Io:return m=Bh(m,y.mode,v),m.return=y,m;case Vr:var T=m._init;return d(y,T(m._payload),v)}if(aa(m)||Vs(m))return m=zi(m,y.mode,v,null),m.return=y,m;gu(y,m)}return null}function f(y,m,v,T){var R=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return R!==null?null:a(y,m,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case iu:return v.key===R?l(y,m,v,T):null;case Io:return v.key===R?u(y,m,v,T):null;case Vr:return R=v._init,f(y,m,R(v._payload),T)}if(aa(v)||Vs(v))return R!==null?null:c(y,m,v,T,null);gu(y,v)}return null}function p(y,m,v,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(v)||null,a(m,y,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case iu:return y=y.get(T.key===null?v:T.key)||null,l(m,y,T,R);case Io:return y=y.get(T.key===null?v:T.key)||null,u(m,y,T,R);case Vr:var S=T._init;return p(y,m,v,S(T._payload),R)}if(aa(T)||Vs(T))return y=y.get(v)||null,c(m,y,T,R,null);gu(m,T)}return null}function _(y,m,v,T){for(var R=null,S=null,P=m,A=m=0,M=null;P!==null&&A<v.length;A++){P.index>A?(M=P,P=null):M=P.sibling;var $=f(y,P,v[A],T);if($===null){P===null&&(P=M);break}t&&P&&$.alternate===null&&e(y,P),m=o($,m,A),S===null?R=$:S.sibling=$,S=$,P=M}if(A===v.length)return n(y,P),Ve&&Ii(y,A),R;if(P===null){for(;A<v.length;A++)P=d(y,v[A],T),P!==null&&(m=o(P,m,A),S===null?R=P:S.sibling=P,S=P);return Ve&&Ii(y,A),R}for(P=r(y,P);A<v.length;A++)M=p(P,y,A,v[A],T),M!==null&&(t&&M.alternate!==null&&P.delete(M.key===null?A:M.key),m=o(M,m,A),S===null?R=M:S.sibling=M,S=M);return t&&P.forEach(function(H){return e(y,H)}),Ve&&Ii(y,A),R}function g(y,m,v,T){var R=Vs(v);if(typeof R!="function")throw Error(b(150));if(v=R.call(v),v==null)throw Error(b(151));for(var S=R=null,P=m,A=m=0,M=null,$=v.next();P!==null&&!$.done;A++,$=v.next()){P.index>A?(M=P,P=null):M=P.sibling;var H=f(y,P,$.value,T);if(H===null){P===null&&(P=M);break}t&&P&&H.alternate===null&&e(y,P),m=o(H,m,A),S===null?R=H:S.sibling=H,S=H,P=M}if($.done)return n(y,P),Ve&&Ii(y,A),R;if(P===null){for(;!$.done;A++,$=v.next())$=d(y,$.value,T),$!==null&&(m=o($,m,A),S===null?R=$:S.sibling=$,S=$);return Ve&&Ii(y,A),R}for(P=r(y,P);!$.done;A++,$=v.next())$=p(P,y,A,$.value,T),$!==null&&(t&&$.alternate!==null&&P.delete($.key===null?A:$.key),m=o($,m,A),S===null?R=$:S.sibling=$,S=$);return t&&P.forEach(function(j){return e(y,j)}),Ve&&Ii(y,A),R}function w(y,m,v,T){if(typeof v=="object"&&v!==null&&v.type===Ro&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case iu:e:{for(var R=v.key,S=m;S!==null;){if(S.key===R){if(R=v.type,R===Ro){if(S.tag===7){n(y,S.sibling),m=i(S,v.props.children),m.return=y,y=m;break e}}else if(S.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Vr&&Pv(R)===S.type){n(y,S.sibling),m=i(S,v.props),m.ref=Bs(y,S,v),m.return=y,y=m;break e}n(y,S);break}else e(y,S);S=S.sibling}v.type===Ro?(m=zi(v.props.children,y.mode,T,v.key),m.return=y,y=m):(T=Qu(v.type,v.key,v.props,null,y.mode,T),T.ref=Bs(y,m,v),T.return=y,y=T)}return s(y);case Io:e:{for(S=v.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=i(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=Bh(v,y.mode,T),m.return=y,y=m}return s(y);case Vr:return S=v._init,w(y,m,S(v._payload),T)}if(aa(v))return _(y,m,v,T);if(Vs(v))return g(y,m,v,T);gu(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,v),m.return=y,y=m):(n(y,m),m=zh(v,y.mode,T),m.return=y,y=m),s(y)):n(y,m)}return w}var is=FE(!0),LE=FE(!1),xl={},Wn=mi(xl),Ga=mi(xl),qa=mi(xl);function bi(t){if(t===xl)throw Error(b(174));return t}function qg(t,e){switch(ke(qa,e),ke(Ga,t),ke(Wn,xl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uf(e,t)}Fe(Wn),ke(Wn,e)}function os(){Fe(Wn),Fe(Ga),Fe(qa)}function VE(t){bi(qa.current);var e=bi(Wn.current),n=Uf(e,t.type);e!==n&&(ke(Ga,t),ke(Wn,n))}function Kg(t){Ga.current===t&&(Fe(Wn),Fe(Ga))}var je=mi(0);function Sc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fh=[];function Qg(){for(var t=0;t<Fh.length;t++)Fh[t]._workInProgressVersionPrimary=null;Fh.length=0}var Hu=Tr.ReactCurrentDispatcher,Lh=Tr.ReactCurrentBatchConfig,qi=0,Ue=null,at=null,gt=null,xc=!1,Sa=!1,Ka=0,nP=0;function At(){throw Error(b(321))}function Yg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function Xg(t,e,n,r,i,o){if(qi=o,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hu.current=t===null||t.memoizedState===null?sP:aP,t=n(r,i),Sa){o=0;do{if(Sa=!1,Ka=0,25<=o)throw Error(b(301));o+=1,gt=at=null,e.updateQueue=null,Hu.current=lP,t=n(r,i)}while(Sa)}if(Hu.current=Tc,e=at!==null&&at.next!==null,qi=0,gt=at=Ue=null,xc=!1,e)throw Error(b(300));return t}function Jg(){var t=Ka!==0;return Ka=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ue.memoizedState=gt=t:gt=gt.next=t,gt}function En(){if(at===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=gt===null?Ue.memoizedState:gt.next;if(e!==null)gt=e,at=t;else{if(t===null)throw Error(b(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},gt===null?Ue.memoizedState=gt=t:gt=gt.next=t}return gt}function Qa(t,e){return typeof e=="function"?e(t):e}function Vh(t){var e=En(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=at,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((qi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ue.lanes|=c,Ki|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,bn(r,e.memoizedState)||(Xt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ue.lanes|=o,Ki|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $h(t){var e=En(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);bn(o,e.memoizedState)||(Xt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function $E(){}function jE(t,e){var n=Ue,r=En(),i=e(),o=!bn(r.memoizedState,i);if(o&&(r.memoizedState=i,Xt=!0),r=r.queue,Zg(BE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Ya(9,zE.bind(null,n,r,i,e),void 0,null),mt===null)throw Error(b(349));qi&30||UE(n,e,i)}return i}function UE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zE(t,e,n,r){e.value=n,e.getSnapshot=r,HE(e)&&WE(t)}function BE(t,e,n){return n(function(){HE(e)&&WE(t)})}function HE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function WE(t){var e=_r(t,1);e!==null&&Dn(e,t,1,-1)}function Av(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:t},e.queue=t,t=t.dispatch=oP.bind(null,Ue,t),[e.memoizedState,t]}function Ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GE(){return En().memoizedState}function Wu(t,e,n,r){var i=Vn();Ue.flags|=t,i.memoizedState=Ya(1|e,n,void 0,r===void 0?null:r)}function ld(t,e,n,r){var i=En();r=r===void 0?null:r;var o=void 0;if(at!==null){var s=at.memoizedState;if(o=s.destroy,r!==null&&Yg(r,s.deps)){i.memoizedState=Ya(e,n,o,r);return}}Ue.flags|=t,i.memoizedState=Ya(1|e,n,o,r)}function kv(t,e){return Wu(8390656,8,t,e)}function Zg(t,e){return ld(2048,8,t,e)}function qE(t,e){return ld(4,2,t,e)}function KE(t,e){return ld(4,4,t,e)}function QE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YE(t,e,n){return n=n!=null?n.concat([t]):null,ld(4,4,QE.bind(null,e,t),n)}function em(){}function XE(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function JE(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZE(t,e,n){return qi&21?(bn(n,e)||(n=nE(),Ue.lanes|=n,Ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=n)}function rP(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=Lh.transition;Lh.transition={};try{t(!1),e()}finally{Ie=n,Lh.transition=r}}function eS(){return En().memoizedState}function iP(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tS(t))nS(e,n);else if(n=NE(t,e,n,r),n!==null){var i=Gt();Dn(n,t,r,i),rS(n,e,r)}}function oP(t,e,n){var r=ni(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tS(t))nS(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,bn(a,s)){var l=e.interleaved;l===null?(i.next=i,Wg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=NE(t,e,i,r),n!==null&&(i=Gt(),Dn(n,t,r,i),rS(n,e,r))}}function tS(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function nS(t,e){Sa=xc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dg(t,n)}}var Tc={readContext:wn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},sP={readContext:wn,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:kv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wu(4194308,4,QE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wu(4,2,t,e)},useMemo:function(t,e){var n=Vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iP.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:Av,useDebugValue:em,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=Av(!1),e=t[0];return t=rP.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=Vn();if(Ve){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),mt===null)throw Error(b(349));qi&30||UE(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,kv(BE.bind(null,r,o,t),[t]),r.flags|=2048,Ya(9,zE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Vn(),e=mt.identifierPrefix;if(Ve){var n=lr,r=ar;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ka++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aP={readContext:wn,useCallback:XE,useContext:wn,useEffect:Zg,useImperativeHandle:YE,useInsertionEffect:qE,useLayoutEffect:KE,useMemo:JE,useReducer:Vh,useRef:GE,useState:function(){return Vh(Qa)},useDebugValue:em,useDeferredValue:function(t){var e=En();return ZE(e,at.memoizedState,t)},useTransition:function(){var t=Vh(Qa)[0],e=En().memoizedState;return[t,e]},useMutableSource:$E,useSyncExternalStore:jE,useId:eS,unstable_isNewReconciler:!1},lP={readContext:wn,useCallback:XE,useContext:wn,useEffect:Zg,useImperativeHandle:YE,useInsertionEffect:qE,useLayoutEffect:KE,useMemo:JE,useReducer:$h,useRef:GE,useState:function(){return $h(Qa)},useDebugValue:em,useDeferredValue:function(t){var e=En();return at===null?e.memoizedState=t:ZE(e,at.memoizedState,t)},useTransition:function(){var t=$h(Qa)[0],e=En().memoizedState;return[t,e]},useMutableSource:$E,useSyncExternalStore:jE,useId:eS,unstable_isNewReconciler:!1};function ss(t,e){try{var n="",r=e;do n+=FI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function jh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uP=typeof WeakMap=="function"?WeakMap:Map;function iS(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ic||(Ic=!0,wp=r),cp(t,e)},n}function oS(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){cp(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Dv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xP.bind(null,t,e,n),e.then(t,t))}function Nv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var cP=Tr.ReactCurrentOwner,Xt=!1;function zt(t,e,n,r){e.child=t===null?LE(e,null,n,r):is(e,t.child,n,r)}function Mv(t,e,n,r,i){n=n.render;var o=e.ref;return Go(e,i),r=Xg(t,e,n,r,o,i),n=Jg(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(Ve&&n&&$g(e),e.flags|=1,zt(t,e,r,i),e.child)}function Ov(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!lm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,sS(t,e,o,r,i)):(t=Qu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:za,n(s,r)&&t.ref===e.ref)return wr(t,e,i)}return e.flags|=1,t=ri(o,r),t.ref=e.ref,t.return=e,e.child=t}function sS(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(za(o,r)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,wr(t,e,i)}return dp(t,e,n,r,i)}function aS(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Lo,rn),rn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Lo,rn),rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ke(Lo,rn),rn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ke(Lo,rn),rn|=r;return zt(t,e,i,n),e.child}function lS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dp(t,e,n,r,i){var o=Zt(n)?Wi:Vt.current;return o=ns(e,o),Go(e,i),n=Xg(t,e,n,r,o,i),r=Jg(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(Ve&&r&&$g(e),e.flags|=1,zt(t,e,n,i),e.child)}function Fv(t,e,n,r,i){if(Zt(n)){var o=!0;mc(e)}else o=!1;if(Go(e,i),e.stateNode===null)Gu(t,e),OE(e,n,r),up(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=Zt(n)?Wi:Vt.current,u=ns(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Rv(e,s,r,u),$r=!1;var f=e.memoizedState;s.state=f,Ec(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Jt.current||$r?(typeof c=="function"&&(lp(e,n,c,r),l=e.memoizedState),(a=$r||Iv(e,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,bE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Tn(e.type,a),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Zt(n)?Wi:Vt.current,l=ns(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Rv(e,s,r,l),$r=!1,f=e.memoizedState,s.state=f,Ec(e,r,s,i);var _=e.memoizedState;a!==d||f!==_||Jt.current||$r?(typeof p=="function"&&(lp(e,n,p,r),_=e.memoizedState),(u=$r||Iv(e,n,u,r,f,_,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return hp(t,e,n,r,o,i)}function hp(t,e,n,r,i,o){lS(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Ev(e,n,!1),wr(t,e,o);r=e.stateNode,cP.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=is(e,t.child,null,o),e.child=is(e,null,a,o)):zt(t,e,a,o),e.memoizedState=r.state,i&&Ev(e,n,!0),e.child}function uS(t){var e=t.stateNode;e.pendingContext?wv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wv(t,e.context,!1),qg(t,e.containerInfo)}function Lv(t,e,n,r,i){return rs(),Ug(i),e.flags|=256,zt(t,e,n,r),e.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function pp(t){return{baseLanes:t,cachePool:null,transitions:null}}function cS(t,e,n){var r=e.pendingProps,i=je.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(je,i&1),t===null)return sp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=dd(s,r,0,null),t=zi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=pp(n),e.memoizedState=fp,t):tm(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dP(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ri(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ri(a,o):(o=zi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?pp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=fp,r}return o=t.child,t=o.sibling,r=ri(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tm(t,e){return e=dd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mu(t,e,n,r){return r!==null&&Ug(r),is(e,t.child,null,n),t=tm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dP(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=jh(Error(b(422))),mu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=dd({mode:"visible",children:r.children},i,0,null),o=zi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&is(e,t.child,null,s),e.child.memoizedState=pp(s),e.memoizedState=fp,o);if(!(e.mode&1))return mu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(b(419)),r=jh(o,r,void 0),mu(t,e,s,r)}if(a=(s&t.childLanes)!==0,Xt||a){if(r=mt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_r(t,i),Dn(r,t,i,-1))}return am(),r=jh(Error(b(421))),mu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TP.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,on=Zr(i.nextSibling),sn=e,Ve=!0,Pn=null,t!==null&&(pn[gn++]=ar,pn[gn++]=lr,pn[gn++]=Gi,ar=t.id,lr=t.overflow,Gi=e),e=tm(e,r.children),e.flags|=4096,e)}function Vv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ap(t.return,e,n)}function Uh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function dS(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(zt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vv(t,n,e);else if(t.tag===19)Vv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Uh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Uh(e,!0,n,null,o);break;case"together":Uh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hP(t,e,n){switch(e.tag){case 3:uS(e),rs();break;case 5:VE(e);break;case 1:Zt(e.type)&&mc(e);break;case 4:qg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(_c,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?cS(t,e,n):(ke(je,je.current&1),t=wr(t,e,n),t!==null?t.sibling:null);ke(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,aS(t,e,n)}return wr(t,e,n)}var hS,gp,fS,pS;hS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gp=function(){};fS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bi(Wn.current);var o=null;switch(n){case"input":i=Lf(t,i),r=Lf(t,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=jf(t,i),r=jf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pc)}zf(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Me("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};pS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hs(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fP(t,e,n){var r=e.pendingProps;switch(jg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return Zt(e.type)&&gc(),kt(e),null;case 3:return r=e.stateNode,os(),Fe(Jt),Fe(Vt),Qg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(xp(Pn),Pn=null))),gp(t,e),kt(e),null;case 5:Kg(e);var i=bi(qa.current);if(n=e.type,t!==null&&e.stateNode!=null)fS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return kt(e),null}if(t=bi(Wn.current),pu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[$n]=e,r[Wa]=o,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<ua.length;i++)Me(ua[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":qy(r,o),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Me("invalid",r);break;case"textarea":Qy(r,o),Me("invalid",r)}zf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&fu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&fu(r.textContent,a,t),i=["children",""+a]):Oa.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Me("scroll",r)}switch(n){case"input":ou(r),Ky(r,o,!0);break;case"textarea":ou(r),Yy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=pc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Uw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[$n]=e,t[Wa]=r,hS(t,e,!1,!1),e.stateNode=t;e:{switch(s=Bf(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<ua.length;i++)Me(ua[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":qy(t,r),i=Lf(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Me("invalid",t);break;case"textarea":Qy(t,r),i=jf(t,r),Me("invalid",t);break;default:i=r}zf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Hw(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zw(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fa(t,l):typeof l=="number"&&Fa(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Oa.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Me("scroll",t):l!=null&&Cg(t,o,l,s))}switch(n){case"input":ou(t),Ky(t,r,!1);break;case"textarea":ou(t),Yy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?zo(t,!!r.multiple,o,!1):r.defaultValue!=null&&zo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)pS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=bi(qa.current),bi(Wn.current),pu(e)){if(r=e.stateNode,n=e.memoizedProps,r[$n]=e,(o=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:fu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$n]=e,e.stateNode=r}return kt(e),null;case 13:if(Fe(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&on!==null&&e.mode&1&&!(e.flags&128))DE(),rs(),e.flags|=98560,o=!1;else if(o=pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(b(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(b(317));o[$n]=e}else rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),o=!1}else Pn!==null&&(xp(Pn),Pn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?ut===0&&(ut=3):am())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return os(),gp(t,e),t===null&&Ba(e.stateNode.containerInfo),kt(e),null;case 10:return Hg(e.type._context),kt(e),null;case 17:return Zt(e.type)&&gc(),kt(e),null;case 19:if(Fe(je),o=e.memoizedState,o===null)return kt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Hs(o,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Sc(t),s!==null){for(e.flags|=128,Hs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(je,je.current&1|2),e.child}t=t.sibling}o.tail!==null&&Je()>as&&(e.flags|=128,r=!0,Hs(o,!1),e.lanes=4194304)}else{if(!r)if(t=Sc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ve)return kt(e),null}else 2*Je()-o.renderingStartTime>as&&n!==1073741824&&(e.flags|=128,r=!0,Hs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,n=je.current,ke(je,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return sm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rn&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function pP(t,e){switch(jg(e),e.tag){case 1:return Zt(e.type)&&gc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return os(),Fe(Jt),Fe(Vt),Qg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kg(e),null;case 13:if(Fe(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(je),null;case 4:return os(),null;case 10:return Hg(e.type._context),null;case 22:case 23:return sm(),null;case 24:return null;default:return null}}var yu=!1,Mt=!1,gP=typeof WeakSet=="function"?WeakSet:Set,U=null;function Fo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function mp(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var $v=!1;function mP(t,e){if(Zf=dc,t=vE(),Vg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ep={focusedElem:t,selectionRange:n},dc=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,w=_.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Tn(e.type,g),w);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(T){Ge(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return _=$v,$v=!1,_}function xa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&mp(e,n,o)}i=i.next}while(i!==r)}}function ud(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gS(t){var e=t.alternate;e!==null&&(t.alternate=null,gS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$n],delete e[Wa],delete e[rp],delete e[JR],delete e[ZR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mS(t){return t.tag===5||t.tag===3||t.tag===4}function jv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pc));else if(r!==4&&(t=t.child,t!==null))for(vp(t,e,n),t=t.sibling;t!==null;)vp(t,e,n),t=t.sibling}function _p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_p(t,e,n),t=t.sibling;t!==null;)_p(t,e,n),t=t.sibling}var wt=null,In=!1;function Dr(t,e,n){for(n=n.child;n!==null;)yS(t,e,n),n=n.sibling}function yS(t,e,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(td,n)}catch{}switch(n.tag){case 5:Mt||Fo(n,e);case 6:var r=wt,i=In;wt=null,Dr(t,e,n),wt=r,In=i,wt!==null&&(In?(t=wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(In?(t=wt,n=n.stateNode,t.nodeType===8?Mh(t.parentNode,n):t.nodeType===1&&Mh(t,n),ja(t)):Mh(wt,n.stateNode));break;case 4:r=wt,i=In,wt=n.stateNode.containerInfo,In=!0,Dr(t,e,n),wt=r,In=i;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&mp(n,e,s),i=i.next}while(i!==r)}Dr(t,e,n);break;case 1:if(!Mt&&(Fo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,Dr(t,e,n),Mt=r):Dr(t,e,n);break;default:Dr(t,e,n)}}function Uv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gP),e.forEach(function(r){var i=CP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,In=!1;break e;case 3:wt=a.stateNode.containerInfo,In=!0;break e;case 4:wt=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(wt===null)throw Error(b(160));yS(o,s,i),wt=null,In=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vS(e,t),e=e.sibling}function vS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),Ln(t),r&4){try{xa(3,t,t.return),ud(3,t)}catch(g){Ge(t,t.return,g)}try{xa(5,t,t.return)}catch(g){Ge(t,t.return,g)}}break;case 1:xn(e,t),Ln(t),r&512&&n!==null&&Fo(n,n.return);break;case 5:if(xn(e,t),Ln(t),r&512&&n!==null&&Fo(n,n.return),t.flags&32){var i=t.stateNode;try{Fa(i,"")}catch(g){Ge(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&$w(i,o),Bf(a,s);var u=Bf(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?Hw(i,d):c==="dangerouslySetInnerHTML"?zw(i,d):c==="children"?Fa(i,d):Cg(i,c,d,u)}switch(a){case"input":Vf(i,o);break;case"textarea":jw(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?zo(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?zo(i,!!o.multiple,o.defaultValue,!0):zo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Wa]=o}catch(g){Ge(t,t.return,g)}}break;case 6:if(xn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Ge(t,t.return,g)}}break;case 3:if(xn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ja(e.containerInfo)}catch(g){Ge(t,t.return,g)}break;case 4:xn(e,t),Ln(t);break;case 13:xn(e,t),Ln(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(im=Je())),r&4&&Uv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Mt=(u=Mt)||c,xn(e,t),Mt=u):xn(e,t),Ln(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(U=t,c=t.child;c!==null;){for(d=U=c;U!==null;){switch(f=U,p=f.child,f.tag){case 0:case 11:case 14:case 15:xa(4,f,f.return);break;case 1:Fo(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){Ge(r,n,g)}}break;case 5:Fo(f,f.return);break;case 22:if(f.memoizedState!==null){Bv(d);continue}}p!==null?(p.return=f,U=p):Bv(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Bw("display",s))}catch(g){Ge(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ge(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xn(e,t),Ln(t),r&4&&Uv(t);break;case 21:break;default:xn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mS(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fa(i,""),r.flags&=-33);var o=jv(t);_p(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=jv(t);vp(t,a,s);break;default:throw Error(b(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yP(t,e,n){U=t,_S(t)}function _S(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var i=U,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||yu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Mt;a=yu;var u=Mt;if(yu=s,(Mt=l)&&!u)for(U=i;U!==null;)s=U,l=s.child,s.tag===22&&s.memoizedState!==null?Hv(i):l!==null?(l.return=s,U=l):Hv(i);for(;o!==null;)U=o,_S(o),o=o.sibling;U=i,yu=a,Mt=u}zv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,U=o):zv(t)}}function zv(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mt||ud(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Cv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ja(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Mt||e.flags&512&&yp(e)}catch(f){Ge(e,e.return,f)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function Bv(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function Hv(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ud(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var o=e.return;try{yp(e)}catch(l){Ge(e,o,l)}break;case 5:var s=e.return;try{yp(e)}catch(l){Ge(e,s,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var vP=Math.ceil,Cc=Tr.ReactCurrentDispatcher,nm=Tr.ReactCurrentOwner,_n=Tr.ReactCurrentBatchConfig,ve=0,mt=null,nt=null,Tt=0,rn=0,Lo=mi(0),ut=0,Xa=null,Ki=0,cd=0,rm=0,Ta=null,Yt=null,im=0,as=1/0,ir=null,Ic=!1,wp=null,ti=null,vu=!1,qr=null,Rc=0,Ca=0,Ep=null,qu=-1,Ku=0;function Gt(){return ve&6?Je():qu!==-1?qu:qu=Je()}function ni(t){return t.mode&1?ve&2&&Tt!==0?Tt&-Tt:tP.transition!==null?(Ku===0&&(Ku=nE()),Ku):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:uE(t.type)),t):1}function Dn(t,e,n,r){if(50<Ca)throw Ca=0,Ep=null,Error(b(185));wl(t,n,r),(!(ve&2)||t!==mt)&&(t===mt&&(!(ve&2)&&(cd|=n),ut===4&&Ur(t,Tt)),en(t,r),n===1&&ve===0&&!(e.mode&1)&&(as=Je()+500,sd&&yi()))}function en(t,e){var n=t.callbackNode;tR(t,e);var r=cc(t,t===mt?Tt:0);if(r===0)n!==null&&Zy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zy(n),e===1)t.tag===0?eP(Wv.bind(null,t)):PE(Wv.bind(null,t)),YR(function(){!(ve&6)&&yi()}),n=null;else{switch(rE(r)){case 1:n=kg;break;case 4:n=eE;break;case 16:n=uc;break;case 536870912:n=tE;break;default:n=uc}n=RS(n,wS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wS(t,e){if(qu=-1,Ku=0,ve&6)throw Error(b(327));var n=t.callbackNode;if(qo()&&t.callbackNode!==n)return null;var r=cc(t,t===mt?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pc(t,r);else{e=r;var i=ve;ve|=2;var o=SS();(mt!==t||Tt!==e)&&(ir=null,as=Je()+500,Ui(t,e));do try{EP();break}catch(a){ES(t,a)}while(!0);Bg(),Cc.current=o,ve=i,nt!==null?e=0:(mt=null,Tt=0,e=ut)}if(e!==0){if(e===2&&(i=Kf(t),i!==0&&(r=i,e=Sp(t,i))),e===1)throw n=Xa,Ui(t,0),Ur(t,r),en(t,Je()),n;if(e===6)Ur(t,r);else{if(i=t.current.alternate,!(r&30)&&!_P(i)&&(e=Pc(t,r),e===2&&(o=Kf(t),o!==0&&(r=o,e=Sp(t,o))),e===1))throw n=Xa,Ui(t,0),Ur(t,r),en(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:Ri(t,Yt,ir);break;case 3:if(Ur(t,r),(r&130023424)===r&&(e=im+500-Je(),10<e)){if(cc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=np(Ri.bind(null,t,Yt,ir),e);break}Ri(t,Yt,ir);break;case 4:if(Ur(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-kn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vP(r/1960))-r,10<r){t.timeoutHandle=np(Ri.bind(null,t,Yt,ir),r);break}Ri(t,Yt,ir);break;case 5:Ri(t,Yt,ir);break;default:throw Error(b(329))}}}return en(t,Je()),t.callbackNode===n?wS.bind(null,t):null}function Sp(t,e){var n=Ta;return t.current.memoizedState.isDehydrated&&(Ui(t,e).flags|=256),t=Pc(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&xp(e)),t}function xp(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function _P(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!bn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ur(t,e){for(e&=~rm,e&=~cd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function Wv(t){if(ve&6)throw Error(b(327));qo();var e=cc(t,0);if(!(e&1))return en(t,Je()),null;var n=Pc(t,e);if(t.tag!==0&&n===2){var r=Kf(t);r!==0&&(e=r,n=Sp(t,r))}if(n===1)throw n=Xa,Ui(t,0),Ur(t,e),en(t,Je()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ri(t,Yt,ir),en(t,Je()),null}function om(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(as=Je()+500,sd&&yi())}}function Qi(t){qr!==null&&qr.tag===0&&!(ve&6)&&qo();var e=ve;ve|=1;var n=_n.transition,r=Ie;try{if(_n.transition=null,Ie=1,t)return t()}finally{Ie=r,_n.transition=n,ve=e,!(ve&6)&&yi()}}function sm(){rn=Lo.current,Fe(Lo)}function Ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QR(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(jg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gc();break;case 3:os(),Fe(Jt),Fe(Vt),Qg();break;case 5:Kg(r);break;case 4:os();break;case 13:Fe(je);break;case 19:Fe(je);break;case 10:Hg(r.type._context);break;case 22:case 23:sm()}n=n.return}if(mt=t,nt=t=ri(t.current,null),Tt=rn=e,ut=0,Xa=null,rm=cd=Ki=0,Yt=Ta=null,Ni!==null){for(e=0;e<Ni.length;e++)if(n=Ni[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ni=null}return t}function ES(t,e){do{var n=nt;try{if(Bg(),Hu.current=Tc,xc){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xc=!1}if(qi=0,gt=at=Ue=null,Sa=!1,Ka=0,nm.current=null,n===null||n.return===null){ut=1,Xa=e,nt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Nv(s);if(p!==null){p.flags&=-257,bv(p,s,a,o,e),p.mode&1&&Dv(o,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){Dv(o,u,e),am();break e}l=Error(b(426))}}else if(Ve&&a.mode&1){var w=Nv(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),bv(w,s,a,o,e),Ug(ss(l,a));break e}}o=l=ss(l,a),ut!==4&&(ut=2),Ta===null?Ta=[o]:Ta.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=iS(o,l,e);Tv(o,y);break e;case 1:a=l;var m=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ti===null||!ti.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=oS(o,a,e);Tv(o,T);break e}}o=o.return}while(o!==null)}TS(n)}catch(R){e=R,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function SS(){var t=Cc.current;return Cc.current=Tc,t===null?Tc:t}function am(){(ut===0||ut===3||ut===2)&&(ut=4),mt===null||!(Ki&268435455)&&!(cd&268435455)||Ur(mt,Tt)}function Pc(t,e){var n=ve;ve|=2;var r=SS();(mt!==t||Tt!==e)&&(ir=null,Ui(t,e));do try{wP();break}catch(i){ES(t,i)}while(!0);if(Bg(),ve=n,Cc.current=r,nt!==null)throw Error(b(261));return mt=null,Tt=0,ut}function wP(){for(;nt!==null;)xS(nt)}function EP(){for(;nt!==null&&!GI();)xS(nt)}function xS(t){var e=IS(t.alternate,t,rn);t.memoizedProps=t.pendingProps,e===null?TS(t):nt=e,nm.current=null}function TS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pP(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,nt=null;return}}else if(n=fP(n,e,rn),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);ut===0&&(ut=5)}function Ri(t,e,n){var r=Ie,i=_n.transition;try{_n.transition=null,Ie=1,SP(t,e,n,r)}finally{_n.transition=i,Ie=r}return null}function SP(t,e,n,r){do qo();while(qr!==null);if(ve&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(nR(t,o),t===mt&&(nt=mt=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vu||(vu=!0,RS(uc,function(){return qo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_n.transition,_n.transition=null;var s=Ie;Ie=1;var a=ve;ve|=4,nm.current=null,mP(t,n),vS(n,t),zR(ep),dc=!!Zf,ep=Zf=null,t.current=n,yP(n),qI(),ve=a,Ie=s,_n.transition=o}else t.current=n;if(vu&&(vu=!1,qr=t,Rc=i),o=t.pendingLanes,o===0&&(ti=null),YI(n.stateNode),en(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ic)throw Ic=!1,t=wp,wp=null,t;return Rc&1&&t.tag!==0&&qo(),o=t.pendingLanes,o&1?t===Ep?Ca++:(Ca=0,Ep=t):Ca=0,yi(),null}function qo(){if(qr!==null){var t=rE(Rc),e=_n.transition,n=Ie;try{if(_n.transition=null,Ie=16>t?16:t,qr===null)var r=!1;else{if(t=qr,qr=null,Rc=0,ve&6)throw Error(b(331));var i=ve;for(ve|=4,U=t.current;U!==null;){var o=U,s=o.child;if(U.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(U=u;U!==null;){var c=U;switch(c.tag){case 0:case 11:case 15:xa(8,c,o)}var d=c.child;if(d!==null)d.return=c,U=d;else for(;U!==null;){c=U;var f=c.sibling,p=c.return;if(gS(c),c===u){U=null;break}if(f!==null){f.return=p,U=f;break}U=p}}}var _=o.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}U=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,U=s;else e:for(;U!==null;){if(o=U,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xa(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,U=y;break e}U=o.return}}var m=t.current;for(U=m;U!==null;){s=U;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,U=v;else e:for(s=m;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ud(9,a)}}catch(R){Ge(a,a.return,R)}if(a===s){U=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,U=T;break e}U=a.return}}if(ve=i,yi(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(td,t)}catch{}r=!0}return r}finally{Ie=n,_n.transition=e}}return!1}function Gv(t,e,n){e=ss(n,e),e=iS(t,e,1),t=ei(t,e,1),e=Gt(),t!==null&&(wl(t,1,e),en(t,e))}function Ge(t,e,n){if(t.tag===3)Gv(t,t,n);else for(;e!==null;){if(e.tag===3){Gv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=ss(n,t),t=oS(e,t,1),e=ei(e,t,1),t=Gt(),e!==null&&(wl(e,1,t),en(e,t));break}}e=e.return}}function xP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(Tt&n)===n&&(ut===4||ut===3&&(Tt&130023424)===Tt&&500>Je()-im?Ui(t,0):rm|=n),en(t,e)}function CS(t,e){e===0&&(t.mode&1?(e=lu,lu<<=1,!(lu&130023424)&&(lu=4194304)):e=1);var n=Gt();t=_r(t,e),t!==null&&(wl(t,e,n),en(t,n))}function TP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CS(t,n)}function CP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),CS(t,n)}var IS;IS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xt=!1,hP(t,e,n);Xt=!!(t.flags&131072)}else Xt=!1,Ve&&e.flags&1048576&&AE(e,vc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gu(t,e),t=e.pendingProps;var i=ns(e,Vt.current);Go(e,n),i=Xg(null,e,r,t,i,n);var o=Jg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zt(r)?(o=!0,mc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gg(e),i.updater=ad,e.stateNode=i,i._reactInternals=e,up(e,r,t,n),e=hp(null,e,r,!0,o,n)):(e.tag=0,Ve&&o&&$g(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RP(r),t=Tn(r,t),i){case 0:e=dp(null,e,r,t,n);break e;case 1:e=Fv(null,e,r,t,n);break e;case 11:e=Mv(null,e,r,t,n);break e;case 14:e=Ov(null,e,r,Tn(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),dp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Fv(t,e,r,i,n);case 3:e:{if(uS(e),t===null)throw Error(b(387));r=e.pendingProps,o=e.memoizedState,i=o.element,bE(t,e),Ec(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ss(Error(b(423)),e),e=Lv(t,e,r,n,i);break e}else if(r!==i){i=ss(Error(b(424)),e),e=Lv(t,e,r,n,i);break e}else for(on=Zr(e.stateNode.containerInfo.firstChild),sn=e,Ve=!0,Pn=null,n=LE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rs(),r===i){e=wr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return VE(e),t===null&&sp(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,tp(r,i)?s=null:o!==null&&tp(r,o)&&(e.flags|=32),lS(t,e),zt(t,e,s,n),e.child;case 6:return t===null&&sp(e),null;case 13:return cS(t,e,n);case 4:return qg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=is(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Mv(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ke(_c,r._currentValue),r._currentValue=s,o!==null)if(bn(o.value,s)){if(o.children===i.children&&!Jt.current){e=wr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=pr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ap(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(b(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ap(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Go(e,n),i=wn(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=Tn(r,e.pendingProps),i=Tn(r.type,i),Ov(t,e,r,i,n);case 15:return sS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Gu(t,e),e.tag=1,Zt(r)?(t=!0,mc(e)):t=!1,Go(e,n),OE(e,r,i),up(e,r,i,n),hp(null,e,r,!0,t,n);case 19:return dS(t,e,n);case 22:return aS(t,e,n)}throw Error(b(156,e.tag))};function RS(t,e){return Zw(t,e)}function IP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,n,r){return new IP(t,e,n,r)}function lm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RP(t){if(typeof t=="function")return lm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rg)return 11;if(t===Pg)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")lm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ro:return zi(n.children,i,o,e);case Ig:s=8,i|=8;break;case bf:return t=vn(12,n,e,i|2),t.elementType=bf,t.lanes=o,t;case Mf:return t=vn(13,n,e,i),t.elementType=Mf,t.lanes=o,t;case Of:return t=vn(19,n,e,i),t.elementType=Of,t.lanes=o,t;case Fw:return dd(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mw:s=10;break e;case Ow:s=9;break e;case Rg:s=11;break e;case Pg:s=14;break e;case Vr:s=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=vn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function zi(t,e,n,r){return t=vn(7,t,r,e),t.lanes=n,t}function dd(t,e,n,r){return t=vn(22,t,r,e),t.elementType=Fw,t.lanes=n,t.stateNode={isHidden:!1},t}function zh(t,e,n){return t=vn(6,t,null,e),t.lanes=n,t}function Bh(t,e,n){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xh(0),this.expirationTimes=xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function um(t,e,n,r,i,o,s,a,l){return t=new PP(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=vn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gg(o),t}function AP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PS(t){if(!t)return ci;t=t._reactInternals;e:{if(lo(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(Zt(n))return RE(t,n,e)}return e}function AS(t,e,n,r,i,o,s,a,l){return t=um(n,r,!0,t,i,o,s,a,l),t.context=PS(null),n=t.current,r=Gt(),i=ni(n),o=pr(r,i),o.callback=e??null,ei(n,o,i),t.current.lanes=i,wl(t,i,r),en(t,r),t}function hd(t,e,n,r){var i=e.current,o=Gt(),s=ni(i);return n=PS(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(i,e,s),t!==null&&(Dn(t,i,s,o),Bu(t,i,s)),s}function Ac(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cm(t,e){qv(t,e),(t=t.alternate)&&qv(t,e)}function kP(){return null}var kS=typeof reportError=="function"?reportError:function(t){console.error(t)};function dm(t){this._internalRoot=t}fd.prototype.render=dm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));hd(t,e,null,null)};fd.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qi(function(){hd(null,t,null,null)}),e[vr]=null}};function fd(t){this._internalRoot=t}fd.prototype.unstable_scheduleHydration=function(t){if(t){var e=sE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jr.length&&e!==0&&e<jr[n].priority;n++);jr.splice(n,0,t),n===0&&lE(t)}};function hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kv(){}function DP(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ac(s);o.call(u)}}var s=AS(e,r,t,0,null,!1,!1,"",Kv);return t._reactRootContainer=s,t[vr]=s.current,Ba(t.nodeType===8?t.parentNode:t),Qi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ac(l);a.call(u)}}var l=um(t,0,!1,null,null,!1,!1,"",Kv);return t._reactRootContainer=l,t[vr]=l.current,Ba(t.nodeType===8?t.parentNode:t),Qi(function(){hd(e,l,n,r)}),l}function gd(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ac(s);a.call(l)}}hd(e,s,t,i)}else s=DP(n,e,t,i,r);return Ac(s)}iE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=la(e.pendingLanes);n!==0&&(Dg(e,n|1),en(e,Je()),!(ve&6)&&(as=Je()+500,yi()))}break;case 13:Qi(function(){var r=_r(t,1);if(r!==null){var i=Gt();Dn(r,t,1,i)}}),cm(t,1)}};Ng=function(t){if(t.tag===13){var e=_r(t,134217728);if(e!==null){var n=Gt();Dn(e,t,134217728,n)}cm(t,134217728)}};oE=function(t){if(t.tag===13){var e=ni(t),n=_r(t,e);if(n!==null){var r=Gt();Dn(n,t,e,r)}cm(t,e)}};sE=function(){return Ie};aE=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};Wf=function(t,e,n){switch(e){case"input":if(Vf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=od(r);if(!i)throw Error(b(90));Vw(r),Vf(r,i)}}}break;case"textarea":jw(t,n);break;case"select":e=n.value,e!=null&&zo(t,!!n.multiple,e,!1)}};qw=om;Kw=Qi;var NP={usingClientEntryPoint:!1,Events:[Sl,Do,od,Ww,Gw,om]},Ws={findFiberByHostInstance:Di,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},bP={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||kP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{td=_u.inject(bP),Hn=_u}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NP;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hm(e))throw Error(b(200));return AP(t,e,null,n)};dn.createRoot=function(t,e){if(!hm(t))throw Error(b(299));var n=!1,r="",i=kS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=um(t,1,!1,null,null,n,!1,r,i),t[vr]=e.current,Ba(t.nodeType===8?t.parentNode:t),new dm(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Xw(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return Qi(t)};dn.hydrate=function(t,e,n){if(!pd(e))throw Error(b(200));return gd(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!hm(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=kS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=AS(e,null,t,1,n??null,i,!1,o,s),t[vr]=e.current,Ba(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fd(e)};dn.render=function(t,e,n){if(!pd(e))throw Error(b(200));return gd(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!pd(t))throw Error(b(40));return t._reactRootContainer?(Qi(function(){gd(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};dn.unstable_batchedUpdates=om;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pd(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return gd(t,e,n,!1,r)};dn.version="18.2.0-next-9e3b772b8-20220608";function DS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DS)}catch(t){console.error(t)}}DS(),Aw.exports=dn;var Tl=Aw.exports;const NS=mw(Tl),MP=gw({__proto__:null,default:NS},[Tl]);var Qv=Tl;Df.createRoot=Qv.createRoot,Df.hydrateRoot=Qv.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qe(){return qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qe.apply(this,arguments)}var Xe;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xe||(Xe={}));const Yv="popstate";function OP(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=er(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Ja("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:Xi(o))}function r(i,o){Yi(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return LP(e,n,r,t)}function ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FP(){return Math.random().toString(36).substr(2,8)}function Xv(t,e){return{usr:t.state,key:t.key,idx:e}}function Ja(t,e,n,r){return n===void 0&&(n=null),qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?er(e):e,{state:n,key:e&&e.key||r||FP()})}function Xi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function er(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function LP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Xe.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(qe({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Xe.Pop;let w=c(),y=w==null?null:w-u;u=w,l&&l({action:a,location:g.location,delta:y})}function f(w,y){a=Xe.Push;let m=Ja(g.location,w,y);n&&n(m,w),u=c()+1;let v=Xv(m,u),T=g.createHref(m);try{s.pushState(v,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(T)}o&&l&&l({action:a,location:g.location,delta:1})}function p(w,y){a=Xe.Replace;let m=Ja(g.location,w,y);n&&n(m,w),u=c();let v=Xv(m,u),T=g.createHref(m);s.replaceState(v,"",T),o&&l&&l({action:a,location:g.location,delta:0})}function _(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:Xi(w);return m=m.replace(/ $/,"%20"),ce(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Yv,d),l=w,()=>{i.removeEventListener(Yv,d),l=null}},createHref(w){return e(i,w)},createURL:_,encodeLocation(w){let y=_(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(w){return s.go(w)}};return g}var We;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(We||(We={}));const VP=new Set(["lazy","caseSensitive","path","id","index","children"]);function $P(t){return t.index===!0}function Tp(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(ce(i.index!==!0||!i.children,"Cannot specify children on an index route"),ce(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),$P(i)){let l=qe({},i,e(i),{id:a});return r[a]=l,l}else{let l=qe({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Tp(i.children,e,s,r)),l}})}function Vo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?er(e):e,i=Es(r.pathname||"/",n);if(i==null)return null;let o=bS(t);UP(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=ZP(i);s=YP(o[a],l)}return s}function jP(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function bS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ce(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=gr([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ce(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bS(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:KP(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of MS(o.path))i(o,s,l)}),e}function MS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=MS(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function UP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zP=/^:[\w-]+$/,BP=3,HP=2,WP=1,GP=10,qP=-2,Jv=t=>t==="*";function KP(t,e){let n=t.split("/"),r=n.length;return n.some(Jv)&&(r+=qP),e&&(r+=HP),n.filter(i=>!Jv(i)).reduce((i,o)=>i+(zP.test(o)?BP:o===""?WP:GP),r)}function QP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YP(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=XP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:gr([i,c.pathname]),pathnameBase:nA(gr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=gr([i,c.pathnameBase]))}return o}function XP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let g=a[d]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const _=a[d];return p&&!_?u[f]=void 0:u[f]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function JP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Yi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yi(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Es(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function eA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?er(t):t;return{pathname:n?n.startsWith("/")?n:tA(n,e):e,search:rA(r),hash:iA(i)}}function tA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function md(t,e){let n=OS(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=er(t):(i=qe({},t),ce(!i.pathname||!i.pathname.includes("?"),Hh("?","pathname","search",i)),ce(!i.pathname||!i.pathname.includes("#"),Hh("#","pathname","hash",i)),ce(!i.search||!i.search.includes("#"),Hh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=eA(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const gr=t=>t.join("/").replace(/\/\/+/g,"/"),nA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class fm{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function FS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LS=["post","put","patch","delete"],oA=new Set(LS),sA=["get",...LS],aA=new Set(sA),lA=new Set([301,302,303,307,308]),uA=new Set([307,308]),Wh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},VS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),$S="remix-router-transitions";function hA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ce(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let C=t.detectErrorBoundary;i=I=>({hasErrorBoundary:C(I)})}else i=dA;let o={},s=Tp(t.routes,i,void 0,o),a,l=t.basename||"/",u=qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,d=new Set,f=null,p=null,_=null,g=t.hydrationData!=null,w=Vo(s,t.history.location,l),y=null;if(w==null){let C=fn(404,{pathname:t.history.location.pathname}),{matches:I,route:k}=s0(s);w=I,y={[k.id]:C}}let m,v=w.some(C=>C.route.lazy),T=w.some(C=>C.route.loader);if(v)m=!1;else if(!T)m=!0;else if(u.v7_partialHydration){let C=t.hydrationData?t.hydrationData.loaderData:null,I=t.hydrationData?t.hydrationData.errors:null,k=O=>O.route.loader?O.route.loader.hydrate===!0?!1:C&&C[O.route.id]!==void 0||I&&I[O.route.id]!==void 0:!0;if(I){let O=w.findIndex(z=>I[z.route.id]!==void 0);m=w.slice(0,O+1).every(k)}else m=w.every(k)}else m=t.hydrationData!=null;let R,S={historyAction:t.history.action,location:t.history.location,matches:w,initialized:m,navigation:Wh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},P=Xe.Pop,A=!1,M,$=!1,H=new Map,j=null,te=!1,we=!1,ot=[],Ze=[],ge=new Map,F=0,W=-1,K=new Map,ae=new Set,_e=new Map,ne=new Map,Ne=new Set,st=new Map,Ye=new Map,Fn=!1;function Ti(){if(c=t.history.listen(C=>{let{action:I,location:k,delta:O}=C;if(Fn){Fn=!1;return}Yi(Ye.size===0||O!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=Vy({currentLocation:S.location,nextLocation:k,historyAction:I});if(z&&O!=null){Fn=!0,t.history.go(O*-1),eu(z,{state:"blocked",location:k,proceed(){eu(z,{state:"proceeding",proceed:void 0,reset:void 0,location:k}),t.history.go(O)},reset(){let ue=new Map(S.blockers);ue.set(z,Gs),Ut({blockers:ue})}});return}return Pt(I,k)}),n){xA(e,H);let C=()=>TA(e,H);e.addEventListener("pagehide",C),j=()=>e.removeEventListener("pagehide",C)}return S.initialized||Pt(Xe.Pop,S.location,{initialHydration:!0}),R}function bs(){c&&c(),j&&j(),d.clear(),M&&M.abort(),S.fetchers.forEach((C,I)=>Zl(I)),S.blockers.forEach((C,I)=>Ly(I))}function hh(C){return d.add(C),()=>d.delete(C)}function Ut(C,I){I===void 0&&(I={}),S=qe({},S,C);let k=[],O=[];u.v7_fetcherPersist&&S.fetchers.forEach((z,ue)=>{z.state==="idle"&&(Ne.has(ue)?O.push(ue):k.push(ue))}),[...d].forEach(z=>z(S,{deletedFetchers:O,unstable_viewTransitionOpts:I.viewTransitionOpts,unstable_flushSync:I.flushSync===!0})),u.v7_fetcherPersist&&(k.forEach(z=>S.fetchers.delete(z)),O.forEach(z=>Zl(z)))}function Le(C,I,k){var O,z;let{flushSync:ue}=k===void 0?{}:k,Z=S.actionData!=null&&S.navigation.formMethod!=null&&Rn(S.navigation.formMethod)&&S.navigation.state==="loading"&&((O=C.state)==null?void 0:O._isRedirect)!==!0,Q;I.actionData?Object.keys(I.actionData).length>0?Q=I.actionData:Q=null:Z?Q=S.actionData:Q=null;let G=I.loaderData?o0(S.loaderData,I.loaderData,I.matches||[],I.errors):S.loaderData,fe=S.blockers;fe.size>0&&(fe=new Map(fe),fe.forEach((Ae,_t)=>fe.set(_t,Gs)));let ht=A===!0||S.navigation.formMethod!=null&&Rn(S.navigation.formMethod)&&((z=C.state)==null?void 0:z._isRedirect)!==!0;a&&(s=a,a=void 0),te||P===Xe.Pop||(P===Xe.Push?t.history.push(C,C.state):P===Xe.Replace&&t.history.replace(C,C.state));let le;if(P===Xe.Pop){let Ae=H.get(S.location.pathname);Ae&&Ae.has(C.pathname)?le={currentLocation:S.location,nextLocation:C}:H.has(C.pathname)&&(le={currentLocation:C,nextLocation:S.location})}else if($){let Ae=H.get(S.location.pathname);Ae?Ae.add(C.pathname):(Ae=new Set([C.pathname]),H.set(S.location.pathname,Ae)),le={currentLocation:S.location,nextLocation:C}}Ut(qe({},I,{actionData:Q,loaderData:G,historyAction:P,location:C,initialized:!0,navigation:Wh,revalidation:"idle",restoreScrollPosition:jy(C,I.matches||S.matches),preventScrollReset:ht,blockers:fe}),{viewTransitionOpts:le,flushSync:ue===!0}),P=Xe.Pop,A=!1,$=!1,te=!1,we=!1,ot=[],Ze=[]}async function He(C,I){if(typeof C=="number"){t.history.go(C);return}let k=Cp(S.location,S.matches,l,u.v7_prependBasename,C,u.v7_relativeSplatPath,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:O,submission:z,error:ue}=Zv(u.v7_normalizeFormMethod,!1,k,I),Z=S.location,Q=Ja(S.location,O,I&&I.state);Q=qe({},Q,t.history.encodeLocation(Q));let G=I&&I.replace!=null?I.replace:void 0,fe=Xe.Push;G===!0?fe=Xe.Replace:G===!1||z!=null&&Rn(z.formMethod)&&z.formAction===S.location.pathname+S.location.search&&(fe=Xe.Replace);let ht=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,le=(I&&I.unstable_flushSync)===!0,Ae=Vy({currentLocation:Z,nextLocation:Q,historyAction:fe});if(Ae){eu(Ae,{state:"blocked",location:Q,proceed(){eu(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),He(C,I)},reset(){let _t=new Map(S.blockers);_t.set(Ae,Gs),Ut({blockers:_t})}});return}return await Pt(fe,Q,{submission:z,pendingError:ue,preventScrollReset:ht,replace:I&&I.replace,enableViewTransition:I&&I.unstable_viewTransition,flushSync:le})}function Ms(){if(fh(),Ut({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Pt(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Pt(P||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function Pt(C,I,k){M&&M.abort(),M=null,P=C,te=(k&&k.startUninterruptedRevalidation)===!0,aI(S.location,S.matches),A=(k&&k.preventScrollReset)===!0,$=(k&&k.enableViewTransition)===!0;let O=a||s,z=k&&k.overrideNavigation,ue=Vo(O,I,l),Z=(k&&k.flushSync)===!0;if(!ue){let _t=fn(404,{pathname:I.pathname}),{matches:nn,route:ft}=s0(O);ph(),Le(I,{matches:nn,loaderData:{},errors:{[ft.id]:_t}},{flushSync:Z});return}if(S.initialized&&!we&&yA(S.location,I)&&!(k&&k.submission&&Rn(k.submission.formMethod))){Le(I,{matches:ue},{flushSync:Z});return}M=new AbortController;let Q=Ks(t.history,I,M.signal,k&&k.submission),G,fe;if(k&&k.pendingError)fe={[Ia(ue).route.id]:k.pendingError};else if(k&&k.submission&&Rn(k.submission.formMethod)){let _t=await Rr(Q,I,k.submission,ue,{replace:k.replace,flushSync:Z});if(_t.shortCircuited)return;G=_t.pendingActionData,fe=_t.pendingActionError,z=Gh(I,k.submission),Z=!1,Q=new Request(Q.url,{signal:Q.signal})}let{shortCircuited:ht,loaderData:le,errors:Ae}=await eI(Q,I,ue,z,k&&k.submission,k&&k.fetcherSubmission,k&&k.replace,k&&k.initialHydration===!0,Z,G,fe);ht||(M=null,Le(I,qe({matches:ue},G?{actionData:G}:{},{loaderData:le,errors:Ae})))}async function Rr(C,I,k,O,z){z===void 0&&(z={}),fh();let ue=EA(I,k);Ut({navigation:ue},{flushSync:z.flushSync===!0});let Z,Q=Rp(O,I);if(!Q.route.action&&!Q.route.lazy)Z={type:We.error,error:fn(405,{method:C.method,pathname:I.pathname,routeId:Q.route.id})};else if(Z=await qs("action",C,Q,O,o,i,l,u.v7_relativeSplatPath),C.signal.aborted)return{shortCircuited:!0};if(Oi(Z)){let G;return z&&z.replace!=null?G=z.replace:G=Z.location===S.location.pathname+S.location.search,await Os(S,Z,{submission:k,replace:G}),{shortCircuited:!0}}if($o(Z)){let G=Ia(O,Q.route.id);return(z&&z.replace)!==!0&&(P=Xe.Push),{pendingActionData:{},pendingActionError:{[G.route.id]:Z.error}}}if(Mi(Z))throw fn(400,{type:"defer-action"});return{pendingActionData:{[Q.route.id]:Z.data}}}async function eI(C,I,k,O,z,ue,Z,Q,G,fe,ht){let le=O||Gh(I,z),Ae=z||ue||u0(le),_t=a||s,[nn,ft]=e0(t.history,S,k,Ae,I,u.v7_partialHydration&&Q===!0,we,ot,Ze,Ne,_e,ae,_t,l,fe,ht);if(ph(Ee=>!(k&&k.some(Pe=>Pe.route.id===Ee))||nn&&nn.some(Pe=>Pe.route.id===Ee)),W=++F,nn.length===0&&ft.length===0){let Ee=Oy();return Le(I,qe({matches:k,loaderData:{},errors:ht||null},fe?{actionData:fe}:{},Ee?{fetchers:new Map(S.fetchers)}:{}),{flushSync:G}),{shortCircuited:!0}}if(!te&&(!u.v7_partialHydration||!Q)){ft.forEach(Pe=>{let Qt=S.fetchers.get(Pe.key),nu=Qs(void 0,Qt?Qt.data:void 0);S.fetchers.set(Pe.key,nu)});let Ee=fe||S.actionData;Ut(qe({navigation:le},Ee?Object.keys(Ee).length===0?{actionData:null}:{actionData:Ee}:{},ft.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:G})}ft.forEach(Ee=>{ge.has(Ee.key)&&Ar(Ee.key),Ee.controller&&ge.set(Ee.key,Ee.controller)});let po=()=>ft.forEach(Ee=>Ar(Ee.key));M&&M.signal.addEventListener("abort",po);let{results:gh,loaderResults:go,fetcherResults:kr}=await Ny(S.matches,k,nn,ft,C);if(C.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",po),ft.forEach(Ee=>ge.delete(Ee.key));let Ci=a0(gh);if(Ci){if(Ci.idx>=nn.length){let Ee=ft[Ci.idx-nn.length].key;ae.add(Ee)}return await Os(S,Ci.result,{replace:Z}),{shortCircuited:!0}}let{loaderData:mh,errors:Ls}=i0(S,k,nn,go,ht,ft,kr,st);st.forEach((Ee,Pe)=>{Ee.subscribe(Qt=>{(Qt||Ee.done)&&st.delete(Pe)})}),u.v7_partialHydration&&Q&&S.errors&&Object.entries(S.errors).filter(Ee=>{let[Pe]=Ee;return!nn.some(Qt=>Qt.route.id===Pe)}).forEach(Ee=>{let[Pe,Qt]=Ee;Ls=Object.assign(Ls||{},{[Pe]:Qt})});let yh=Oy(),mo=Fy(W),tu=yh||mo||ft.length>0;return qe({loaderData:mh,errors:Ls},tu?{fetchers:new Map(S.fetchers)}:{})}function tI(C,I,k,O){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ge.has(C)&&Ar(C);let z=(O&&O.unstable_flushSync)===!0,ue=a||s,Z=Cp(S.location,S.matches,l,u.v7_prependBasename,k,u.v7_relativeSplatPath,I,O==null?void 0:O.relative),Q=Vo(ue,Z,l);if(!Q){Fs(C,I,fn(404,{pathname:Z}),{flushSync:z});return}let{path:G,submission:fe,error:ht}=Zv(u.v7_normalizeFormMethod,!0,Z,O);if(ht){Fs(C,I,ht,{flushSync:z});return}let le=Rp(Q,G);if(A=(O&&O.preventScrollReset)===!0,fe&&Rn(fe.formMethod)){nI(C,I,G,le,Q,z,fe);return}_e.set(C,{routeId:I,path:G}),rI(C,I,G,le,Q,z,fe)}async function nI(C,I,k,O,z,ue,Z){if(fh(),_e.delete(C),!O.route.action&&!O.route.lazy){let Pe=fn(405,{method:Z.formMethod,pathname:k,routeId:I});Fs(C,I,Pe,{flushSync:ue});return}let Q=S.fetchers.get(C);Pr(C,SA(Z,Q),{flushSync:ue});let G=new AbortController,fe=Ks(t.history,k,G.signal,Z);ge.set(C,G);let ht=F,le=await qs("action",fe,O,z,o,i,l,u.v7_relativeSplatPath);if(fe.signal.aborted){ge.get(C)===G&&ge.delete(C);return}if(u.v7_fetcherPersist&&Ne.has(C)){if(Oi(le)||$o(le)){Pr(C,Fr(void 0));return}}else{if(Oi(le))if(ge.delete(C),W>ht){Pr(C,Fr(void 0));return}else return ae.add(C),Pr(C,Qs(Z)),Os(S,le,{fetcherSubmission:Z});if($o(le)){Fs(C,I,le.error);return}}if(Mi(le))throw fn(400,{type:"defer-action"});let Ae=S.navigation.location||S.location,_t=Ks(t.history,Ae,G.signal),nn=a||s,ft=S.navigation.state!=="idle"?Vo(nn,S.navigation.location,l):S.matches;ce(ft,"Didn't find any matches after fetcher action");let po=++F;K.set(C,po);let gh=Qs(Z,le.data);S.fetchers.set(C,gh);let[go,kr]=e0(t.history,S,ft,Z,Ae,!1,we,ot,Ze,Ne,_e,ae,nn,l,{[O.route.id]:le.data},void 0);kr.filter(Pe=>Pe.key!==C).forEach(Pe=>{let Qt=Pe.key,nu=S.fetchers.get(Qt),uI=Qs(void 0,nu?nu.data:void 0);S.fetchers.set(Qt,uI),ge.has(Qt)&&Ar(Qt),Pe.controller&&ge.set(Qt,Pe.controller)}),Ut({fetchers:new Map(S.fetchers)});let Ci=()=>kr.forEach(Pe=>Ar(Pe.key));G.signal.addEventListener("abort",Ci);let{results:mh,loaderResults:Ls,fetcherResults:yh}=await Ny(S.matches,ft,go,kr,_t);if(G.signal.aborted)return;G.signal.removeEventListener("abort",Ci),K.delete(C),ge.delete(C),kr.forEach(Pe=>ge.delete(Pe.key));let mo=a0(mh);if(mo){if(mo.idx>=go.length){let Pe=kr[mo.idx-go.length].key;ae.add(Pe)}return Os(S,mo.result)}let{loaderData:tu,errors:Ee}=i0(S,S.matches,go,Ls,void 0,kr,yh,st);if(S.fetchers.has(C)){let Pe=Fr(le.data);S.fetchers.set(C,Pe)}Fy(po),S.navigation.state==="loading"&&po>W?(ce(P,"Expected pending action"),M&&M.abort(),Le(S.navigation.location,{matches:ft,loaderData:tu,errors:Ee,fetchers:new Map(S.fetchers)})):(Ut({errors:Ee,loaderData:o0(S.loaderData,tu,ft,Ee),fetchers:new Map(S.fetchers)}),we=!1)}async function rI(C,I,k,O,z,ue,Z){let Q=S.fetchers.get(C);Pr(C,Qs(Z,Q?Q.data:void 0),{flushSync:ue});let G=new AbortController,fe=Ks(t.history,k,G.signal);ge.set(C,G);let ht=F,le=await qs("loader",fe,O,z,o,i,l,u.v7_relativeSplatPath);if(Mi(le)&&(le=await zS(le,fe.signal,!0)||le),ge.get(C)===G&&ge.delete(C),!fe.signal.aborted){if(Ne.has(C)){Pr(C,Fr(void 0));return}if(Oi(le))if(W>ht){Pr(C,Fr(void 0));return}else{ae.add(C),await Os(S,le);return}if($o(le)){Fs(C,I,le.error);return}ce(!Mi(le),"Unhandled fetcher deferred data"),Pr(C,Fr(le.data))}}async function Os(C,I,k){let{submission:O,fetcherSubmission:z,replace:ue}=k===void 0?{}:k;I.revalidate&&(we=!0);let Z=Ja(C.location,I.location,{_isRedirect:!0});if(ce(Z,"Expected a location on the redirect navigation"),n){let Ae=!1;if(I.reloadDocument)Ae=!0;else if(VS.test(I.location)){const _t=t.history.createURL(I.location);Ae=_t.origin!==e.location.origin||Es(_t.pathname,l)==null}if(Ae){ue?e.location.replace(I.location):e.location.assign(I.location);return}}M=null;let Q=ue===!0?Xe.Replace:Xe.Push,{formMethod:G,formAction:fe,formEncType:ht}=C.navigation;!O&&!z&&G&&fe&&ht&&(O=u0(C.navigation));let le=O||z;if(uA.has(I.status)&&le&&Rn(le.formMethod))await Pt(Q,Z,{submission:qe({},le,{formAction:I.location}),preventScrollReset:A});else{let Ae=Gh(Z,O);await Pt(Q,Z,{overrideNavigation:Ae,fetcherSubmission:z,preventScrollReset:A})}}async function Ny(C,I,k,O,z){let ue=await Promise.all([...k.map(G=>qs("loader",z,G,I,o,i,l,u.v7_relativeSplatPath)),...O.map(G=>G.matches&&G.match&&G.controller?qs("loader",Ks(t.history,G.path,G.controller.signal),G.match,G.matches,o,i,l,u.v7_relativeSplatPath):{type:We.error,error:fn(404,{pathname:G.path})})]),Z=ue.slice(0,k.length),Q=ue.slice(k.length);return await Promise.all([l0(C,k,Z,Z.map(()=>z.signal),!1,S.loaderData),l0(C,O.map(G=>G.match),Q,O.map(G=>G.controller?G.controller.signal:null),!0)]),{results:ue,loaderResults:Z,fetcherResults:Q}}function fh(){we=!0,ot.push(...ph()),_e.forEach((C,I)=>{ge.has(I)&&(Ze.push(I),Ar(I))})}function Pr(C,I,k){k===void 0&&(k={}),S.fetchers.set(C,I),Ut({fetchers:new Map(S.fetchers)},{flushSync:(k&&k.flushSync)===!0})}function Fs(C,I,k,O){O===void 0&&(O={});let z=Ia(S.matches,I);Zl(C),Ut({errors:{[z.route.id]:k},fetchers:new Map(S.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function by(C){return u.v7_fetcherPersist&&(ne.set(C,(ne.get(C)||0)+1),Ne.has(C)&&Ne.delete(C)),S.fetchers.get(C)||cA}function Zl(C){let I=S.fetchers.get(C);ge.has(C)&&!(I&&I.state==="loading"&&K.has(C))&&Ar(C),_e.delete(C),K.delete(C),ae.delete(C),Ne.delete(C),S.fetchers.delete(C)}function iI(C){if(u.v7_fetcherPersist){let I=(ne.get(C)||0)-1;I<=0?(ne.delete(C),Ne.add(C)):ne.set(C,I)}else Zl(C);Ut({fetchers:new Map(S.fetchers)})}function Ar(C){let I=ge.get(C);ce(I,"Expected fetch controller: "+C),I.abort(),ge.delete(C)}function My(C){for(let I of C){let k=by(I),O=Fr(k.data);S.fetchers.set(I,O)}}function Oy(){let C=[],I=!1;for(let k of ae){let O=S.fetchers.get(k);ce(O,"Expected fetcher: "+k),O.state==="loading"&&(ae.delete(k),C.push(k),I=!0)}return My(C),I}function Fy(C){let I=[];for(let[k,O]of K)if(O<C){let z=S.fetchers.get(k);ce(z,"Expected fetcher: "+k),z.state==="loading"&&(Ar(k),K.delete(k),I.push(k))}return My(I),I.length>0}function oI(C,I){let k=S.blockers.get(C)||Gs;return Ye.get(C)!==I&&Ye.set(C,I),k}function Ly(C){S.blockers.delete(C),Ye.delete(C)}function eu(C,I){let k=S.blockers.get(C)||Gs;ce(k.state==="unblocked"&&I.state==="blocked"||k.state==="blocked"&&I.state==="blocked"||k.state==="blocked"&&I.state==="proceeding"||k.state==="blocked"&&I.state==="unblocked"||k.state==="proceeding"&&I.state==="unblocked","Invalid blocker state transition: "+k.state+" -> "+I.state);let O=new Map(S.blockers);O.set(C,I),Ut({blockers:O})}function Vy(C){let{currentLocation:I,nextLocation:k,historyAction:O}=C;if(Ye.size===0)return;Ye.size>1&&Yi(!1,"A router only supports one blocker at a time");let z=Array.from(Ye.entries()),[ue,Z]=z[z.length-1],Q=S.blockers.get(ue);if(!(Q&&Q.state==="proceeding")&&Z({currentLocation:I,nextLocation:k,historyAction:O}))return ue}function ph(C){let I=[];return st.forEach((k,O)=>{(!C||C(O))&&(k.cancel(),I.push(O),st.delete(O))}),I}function sI(C,I,k){if(f=C,_=I,p=k||null,!g&&S.navigation===Wh){g=!0;let O=jy(S.location,S.matches);O!=null&&Ut({restoreScrollPosition:O})}return()=>{f=null,_=null,p=null}}function $y(C,I){return p&&p(C,I.map(O=>jP(O,S.loaderData)))||C.key}function aI(C,I){if(f&&_){let k=$y(C,I);f[k]=_()}}function jy(C,I){if(f){let k=$y(C,I),O=f[k];if(typeof O=="number")return O}return null}function lI(C){o={},a=Tp(C,i,void 0,o)}return R={get basename(){return l},get future(){return u},get state(){return S},get routes(){return s},get window(){return e},initialize:Ti,subscribe:hh,enableScrollRestoration:sI,navigate:He,fetch:tI,revalidate:Ms,createHref:C=>t.history.createHref(C),encodeLocation:C=>t.history.encodeLocation(C),getFetcher:by,deleteFetcher:iI,dispose:bs,getBlocker:oI,deleteBlocker:Ly,_internalFetchControllers:ge,_internalActiveDeferreds:st,_internalSetRoutes:lI},R}function fA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Cp(t,e,n,r,i,o,s,a){let l,u;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){u=d;break}}else l=e,u=e[e.length-1];let c=yd(i||".",md(l,o),Es(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!pm(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:gr([n,c.pathname])),Xi(c)}function Zv(t,e,n,r){if(!r||!fA(r))return{path:n};if(r.formMethod&&!wA(r.formMethod))return{path:n,error:fn(405,{method:r.formMethod})};let i=()=>({path:n,error:fn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=US(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Rn(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,_)=>{let[g,w]=_;return""+p+g+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Rn(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}ce(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Ip(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Ip(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=r0(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=r0(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Rn(c.formMethod))return{path:n,submission:c};let d=er(n);return e&&d.search&&pm(d.search)&&l.append("index",""),d.search="?"+l,{path:Xi(d),submission:c}}function pA(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function e0(t,e,n,r,i,o,s,a,l,u,c,d,f,p,_,g){let w=g?Object.values(g)[0]:_?Object.values(_)[0]:void 0,y=t.createURL(e.location),m=t.createURL(i),v=g?Object.keys(g)[0]:void 0,R=pA(n,v).filter((P,A)=>{let{route:M}=P;if(M.lazy)return!0;if(M.loader==null)return!1;if(o)return M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(gA(e.loaderData,e.matches[A],P)||a.some(j=>j===P.route.id))return!0;let $=e.matches[A],H=P;return t0(P,qe({currentUrl:y,currentParams:$.params,nextUrl:m,nextParams:H.params},r,{actionResult:w,defaultShouldRevalidate:s||y.pathname+y.search===m.pathname+m.search||y.search!==m.search||jS($,H)}))}),S=[];return c.forEach((P,A)=>{if(o||!n.some(te=>te.route.id===P.routeId)||u.has(A))return;let M=Vo(f,P.path,p);if(!M){S.push({key:A,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let $=e.fetchers.get(A),H=Rp(M,P.path),j=!1;d.has(A)?j=!1:l.includes(A)?j=!0:$&&$.state!=="idle"&&$.data===void 0?j=s:j=t0(H,qe({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:w,defaultShouldRevalidate:s})),j&&S.push({key:A,routeId:P.routeId,path:P.path,matches:M,match:H,controller:new AbortController})}),[R,S]}function gA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function jS(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function t0(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function n0(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ce(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Yi(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!VP.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,qe({},e(i),{lazy:void 0}))}async function qs(t,e,n,r,i,o,s,a,l){l===void 0&&(l={});let u,c,d,f=g=>{let w,y=new Promise((m,v)=>w=v);return d=()=>w(),e.signal.addEventListener("abort",d),Promise.race([g({request:e,params:n.params,context:l.requestContext}),y])};try{let g=n.route[t];if(n.route.lazy)if(g){let w,y=await Promise.all([f(g).catch(m=>{w=m}),n0(n.route,o,i)]);if(w)throw w;c=y[0]}else if(await n0(n.route,o,i),g=n.route[t],g)c=await f(g);else if(t==="action"){let w=new URL(e.url),y=w.pathname+w.search;throw fn(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:We.data,data:void 0};else if(g)c=await f(g);else{let w=new URL(e.url),y=w.pathname+w.search;throw fn(404,{pathname:y})}ce(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(g){u=We.error,c=g}finally{d&&e.signal.removeEventListener("abort",d)}if(_A(c)){let g=c.status;if(lA.has(g)){let y=c.headers.get("Location");if(ce(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!VS.test(y))y=Cp(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,y,a);else if(!l.isStaticRequest){let m=new URL(e.url),v=y.startsWith("//")?new URL(m.protocol+y):new URL(y),T=Es(v.pathname,s)!=null;v.origin===m.origin&&T&&(y=v.pathname+v.search+v.hash)}if(l.isStaticRequest)throw c.headers.set("Location",y),c;return{type:We.redirect,status:g,location:y,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===We.error?We.error:We.data,response:c};let w;try{let y=c.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?c.body==null?w=null:w=await c.json():w=await c.text()}catch(y){return{type:We.error,error:y}}return u===We.error?{type:u,error:new fm(g,c.statusText,w),headers:c.headers}:{type:We.data,data:w,statusCode:c.status,headers:c.headers}}if(u===We.error)return{type:u,error:c};if(vA(c)){var p,_;return{type:We.deferred,deferredData:c,statusCode:(p=c.init)==null?void 0:p.status,headers:((_=c.init)==null?void 0:_.headers)&&new Headers(c.init.headers)}}return{type:We.data,data:c}}function Ks(t,e,n,r){let i=t.createURL(US(e)).toString(),o={signal:n};if(r&&Rn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Ip(r.formData):o.body=r.formData}return new Request(i,o)}function Ip(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function r0(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function mA(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let f=e[d].route.id;if(ce(!Oi(c),"Cannot handle redirect results in processLoaderData"),$o(c)){let p=Ia(t,f),_=c.error;r&&(_=Object.values(r)[0],r=void 0),s=s||{},s[p.route.id]==null&&(s[p.route.id]=_),o[f]=void 0,l||(l=!0,a=FS(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else Mi(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function i0(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=mA(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:f,controller:p}=o[c];ce(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let _=s[c];if(!(p&&p.signal.aborted))if($o(_)){let g=Ia(t.matches,f==null?void 0:f.route.id);u&&u[g.route.id]||(u=qe({},u,{[g.route.id]:_.error})),t.fetchers.delete(d)}else if(Oi(_))ce(!1,"Unhandled fetcher revalidation redirect");else if(Mi(_))ce(!1,"Unhandled fetcher deferred data");else{let g=Fr(_.data);t.fetchers.set(d,g)}}return{loaderData:l,errors:u}}function o0(t,e,n,r){let i=qe({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Ia(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function s0(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fn(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new fm(t||500,s,new Error(a),!0)}function a0(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Oi(n))return{result:n,idx:e}}}function US(t){let e=typeof t=="string"?er(t):t;return Xi(qe({},e,{hash:""}))}function yA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Mi(t){return t.type===We.deferred}function $o(t){return t.type===We.error}function Oi(t){return(t&&t.type)===We.redirect}function vA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function _A(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function wA(t){return aA.has(t.toLowerCase())}function Rn(t){return oA.has(t.toLowerCase())}async function l0(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!jS(u,l)&&(o&&o[l.route.id])!==void 0;if(Mi(a)&&(i||c)){let d=r[s];ce(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await zS(a,d,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function zS(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:We.data,data:t.deferredData.unwrappedData}}catch(i){return{type:We.error,error:i}}return{type:We.data,data:t.deferredData.data}}}function pm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Rp(t,e){let n=typeof e=="string"?er(e).search:e.search;if(t[t.length-1].route.index&&pm(n||""))return t[t.length-1];let r=OS(t);return r[r.length-1]}function u0(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Gh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function EA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Qs(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function SA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Fr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function xA(t,e){try{let n=t.sessionStorage.getItem($S);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function TA(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem($S,JSON.stringify(n))}catch(r){Yi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}const vd=E.createContext(null),BS=E.createContext(null),vi=E.createContext(null),_d=E.createContext(null),tr=E.createContext({outlet:null,matches:[],isDataRoute:!1}),HS=E.createContext(null);function CA(t,e){let{relative:n}=e===void 0?{}:e;Ss()||ce(!1);let{basename:r,navigator:i}=E.useContext(vi),{hash:o,pathname:s,search:a}=GS(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:gr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ss(){return E.useContext(_d)!=null}function Cl(){return Ss()||ce(!1),E.useContext(_d).location}function WS(t){E.useContext(vi).static||E.useLayoutEffect(t)}function Cr(){let{isDataRoute:t}=E.useContext(tr);return t?VA():IA()}function IA(){Ss()||ce(!1);let t=E.useContext(vd),{basename:e,future:n,navigator:r}=E.useContext(vi),{matches:i}=E.useContext(tr),{pathname:o}=Cl(),s=JSON.stringify(md(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return WS(()=>{a.current=!0}),E.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=yd(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:gr([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,s,o,t])}const RA=E.createContext(null);function PA(t){let e=E.useContext(tr).outlet;return e&&E.createElement(RA.Provider,{value:t},e)}function Il(){let{matches:t}=E.useContext(tr),e=t[t.length-1];return e?e.params:{}}function GS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(vi),{matches:i}=E.useContext(tr),{pathname:o}=Cl(),s=JSON.stringify(md(i,r.v7_relativeSplatPath));return E.useMemo(()=>yd(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function AA(t,e,n,r){Ss()||ce(!1);let{navigator:i}=E.useContext(vi),{matches:o}=E.useContext(tr),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Cl(),c;if(e){var d;let w=typeof e=="string"?er(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||ce(!1),c=w}else c=u;let f=c.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=Vo(t,{pathname:p}),g=MA(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:gr([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:gr([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&g?E.createElement(_d.Provider,{value:{location:Za({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Xe.Pop}},g):g}function kA(){let t=QS(),e=FS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const DA=E.createElement(kA,null);class NA extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(tr.Provider,{value:this.props.routeContext},E.createElement(HS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bA(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(vd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(tr.Provider,{value:e},r)}function MA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||ce(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:p}=n,_=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||_){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,f)=>{let p,_=!1,g=null,w=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||DA,l&&(u<0&&f===0?($A("route-fallback",!1),_=!0,w=null):u===f&&(_=!0,w=d.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,f+1)),m=()=>{let v;return p?v=g:_?v=w:d.route.Component?v=E.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,E.createElement(bA,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?E.createElement(NA,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var qS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qS||{}),kc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kc||{});function OA(t){let e=E.useContext(vd);return e||ce(!1),e}function FA(t){let e=E.useContext(BS);return e||ce(!1),e}function LA(t){let e=E.useContext(tr);return e||ce(!1),e}function KS(t){let e=LA(),n=e.matches[e.matches.length-1];return n.route.id||ce(!1),n.route.id}function QS(){var t;let e=E.useContext(HS),n=FA(kc.UseRouteError),r=KS(kc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function VA(){let{router:t}=OA(qS.UseNavigateStable),e=KS(kc.UseNavigateStable),n=E.useRef(!1);return WS(()=>{n.current=!0}),E.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Za({fromRouteId:e},o)))},[t,e])}const c0={};function $A(t,e,n){!e&&!c0[t]&&(c0[t]=!0)}function gm(t){let{to:e,replace:n,state:r,relative:i}=t;Ss()||ce(!1);let{future:o,static:s}=E.useContext(vi),{matches:a}=E.useContext(tr),{pathname:l}=Cl(),u=Cr(),c=yd(e,md(a,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return E.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function jA(t){return PA(t.context)}function UA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xe.Pop,navigator:o,static:s=!1,future:a}=t;Ss()&&ce(!1);let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:o,static:s,future:Za({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=er(r));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:_="default"}=r,g=E.useMemo(()=>{let w=Es(c,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:p,key:_},navigationType:i}},[l,c,d,f,p,_,i]);return g==null?null:E.createElement(vi.Provider,{value:u},E.createElement(_d.Provider,{children:n,value:g}))}new Promise(()=>{});function zA(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:E.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:E.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(this,arguments)}function BA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function HA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WA(t,e){return t.button===0&&(!e||e==="_self")&&!HA(t)}const GA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],qA="6";try{window.__reactRouterVersion=qA}catch{}function KA(t,e){return hA({basename:e==null?void 0:e.basename,future:el({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:OP({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||QA(),routes:t,mapRouteProperties:zA,window:e==null?void 0:e.window}).initialize()}function QA(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=el({},e,{errors:YA(e.errors)})),e}function YA(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new fm(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const XA=E.createContext({isTransitioning:!1}),JA=E.createContext(new Map),ZA="startTransition",d0=Rw[ZA],ek="flushSync",h0=MP[ek];function tk(t){d0?d0(t):t()}function Ys(t){h0?h0(t):t()}let nk=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function rk(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=E.useState(n.state),[s,a]=E.useState(),[l,u]=E.useState({isTransitioning:!1}),[c,d]=E.useState(),[f,p]=E.useState(),[_,g]=E.useState(),w=E.useRef(new Map),{v7_startTransition:y}=r||{},m=E.useCallback(P=>{y?tk(P):P()},[y]),v=E.useCallback((P,A)=>{let{deletedFetchers:M,unstable_flushSync:$,unstable_viewTransitionOpts:H}=A;M.forEach(te=>w.current.delete(te)),P.fetchers.forEach((te,we)=>{te.data!==void 0&&w.current.set(we,te.data)});let j=n.window==null||typeof n.window.document.startViewTransition!="function";if(!H||j){$?Ys(()=>o(P)):m(()=>o(P));return}if($){Ys(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let te=n.window.document.startViewTransition(()=>{Ys(()=>o(P))});te.finished.finally(()=>{Ys(()=>{d(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),Ys(()=>p(te));return}f?(c&&c.resolve(),f.skipTransition(),g({state:P,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(a(P),u({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[n.window,f,c,w,m]);E.useLayoutEffect(()=>n.subscribe(v),[n,v]),E.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new nk)},[l]),E.useEffect(()=>{if(c&&s&&n.window){let P=s,A=c.promise,M=n.window.document.startViewTransition(async()=>{m(()=>o(P)),await A});M.finished.finally(()=>{d(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(M)}},[m,s,c,n.window]),E.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,f,i.location,s]),E.useEffect(()=>{!l.isTransitioning&&_&&(a(_.state),u({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),g(void 0))},[l.isTransitioning,_]),E.useEffect(()=>{},[]);let T=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,A,M)=>n.navigate(P,{state:A,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(P,A,M)=>n.navigate(P,{replace:!0,state:A,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[n]),R=n.basename||"/",S=E.useMemo(()=>({router:n,navigator:T,static:!1,basename:R}),[n,T,R]);return E.createElement(E.Fragment,null,E.createElement(vd.Provider,{value:S},E.createElement(BS.Provider,{value:i},E.createElement(JA.Provider,{value:w.current},E.createElement(XA.Provider,{value:l},E.createElement(UA,{basename:R,location:i.location,navigationType:i.historyAction,navigator:T,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?E.createElement(ik,{routes:n.routes,future:n.future,state:i}):e))))),null)}function ik(t){let{routes:e,future:n,state:r}=t;return AA(e,void 0,r,n)}const ok=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ak=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,f=BA(e,GA),{basename:p}=E.useContext(vi),_,g=!1;if(typeof u=="string"&&sk.test(u)&&(_=u,ok))try{let v=new URL(window.location.href),T=u.startsWith("//")?new URL(v.protocol+u):new URL(u),R=Es(T.pathname,p);T.origin===v.origin&&R!=null?u=R+T.search+T.hash:g=!0}catch{}let w=CA(u,{relative:i}),y=lk(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function m(v){r&&r(v),v.defaultPrevented||y(v)}return E.createElement("a",el({},f,{href:_||w,onClick:g||o?r:m,ref:n,target:l}))});var f0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(f0||(f0={}));var p0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(p0||(p0={}));function lk(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=Cr(),u=Cl(),c=GS(t,{relative:s});return E.useCallback(d=>{if(WA(d,n)){d.preventDefault();let f=r!==void 0?r:Xi(u)===Xi(c);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,o,s,a])}function uk(){return h.jsx("main",{className:"container px-3",children:h.jsx(jA,{})})}function dt(){return dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dt.apply(this,arguments)}function ck(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function YS(...t){return e=>t.forEach(n=>ck(n,e))}function Rl(...t){return E.useCallback(YS(...t),t)}const wd=E.forwardRef((t,e)=>{const{children:n,...r}=t,i=E.Children.toArray(n),o=i.find(hk);if(o){const s=o.props.children,a=i.map(l=>l===o?E.Children.count(s)>1?E.Children.only(null):E.isValidElement(s)?s.props.children:null:l);return E.createElement(Pp,dt({},r,{ref:e}),E.isValidElement(s)?E.cloneElement(s,void 0,a):null)}return E.createElement(Pp,dt({},r,{ref:e}),n)});wd.displayName="Slot";const Pp=E.forwardRef((t,e)=>{const{children:n,...r}=t;return E.isValidElement(n)?E.cloneElement(n,{...fk(r,n.props),ref:e?YS(e,n.ref):n.ref}):E.Children.count(n)>1?E.Children.only(null):null});Pp.displayName="SlotClone";const dk=({children:t})=>E.createElement(E.Fragment,null,t);function hk(t){return E.isValidElement(t)&&t.type===dk}function fk(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function XS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=XS(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function pk(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=XS(t))&&(r&&(r+=" "),r+=e);return r}const g0=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,m0=pk,gk=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return m0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(u=>{const c=n==null?void 0:n[u],d=o==null?void 0:o[u];if(c===null)return null;const f=g0(c)||g0(d);return i[u][f]}),a=n&&Object.entries(n).reduce((u,c)=>{let[d,f]=c;return f===void 0||(u[d]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:d,className:f,...p}=c;return Object.entries(p).every(_=>{let[g,w]=_;return Array.isArray(w)?w.includes({...o,...a}[g]):{...o,...a}[g]===w})?[...u,d,f]:u},[]);return m0(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};function JS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=JS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=JS(t))&&(r&&(r+=" "),r+=e);return r}const mm="-";function yk(t){const e=_k(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function i(s){const a=s.split(mm);return a[0]===""&&a.length!==1&&a.shift(),ZS(a,e)||vk(s)}function o(s,a){const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function ZS(t,e){var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?ZS(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(mm);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId}const y0=/^\[(.+)\]$/;function vk(t){if(y0.test(t)){const e=y0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function _k(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Ek(Object.entries(t.classGroups),n).forEach(([o,s])=>{Ap(s,r,o,e)}),r}function Ap(t,e,n,r){t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:v0(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(wk(i)){Ap(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{Ap(s,v0(e,o),n,r)})})}function v0(t,e){let n=t;return e.split(mm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function wk(t){return t.isThemeGetter}function Ek(t,e){return e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t}function Sk(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}}const e1="!";function xk(t){const e=t.separator,n=e.length===1,r=e[0],i=e.length;return function(s){const a=[];let l=0,u=0,c;for(let g=0;g<s.length;g++){let w=s[g];if(l===0){if(w===r&&(n||s.slice(g,g+i)===e)){a.push(s.slice(u,g)),u=g+i;continue}if(w==="/"){c=g;continue}}w==="["?l++:w==="]"&&l--}const d=a.length===0?s:s.substring(u),f=d.startsWith(e1),p=f?d.substring(1):d,_=c&&c>u?c-u:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:_}}}function Tk(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function Ck(t){return{cache:Sk(t.cacheSize),splitModifiers:xk(t),...yk(t)}}const Ik=/\s+/;function Rk(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=new Set;return t.trim().split(Ik).map(s=>{const{modifiers:a,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:c}=n(s);let d=r(c?u.substring(0,c):u),f=!!c;if(!d){if(!c)return{isTailwindClass:!1,originalClassName:s};if(d=r(u),!d)return{isTailwindClass:!1,originalClassName:s};f=!1}const p=Tk(a).join(":");return{isTailwindClass:!0,modifierId:l?p+e1:p,classGroupId:d,originalClassName:s,hasPostfixModifier:f}}).reverse().filter(s=>{if(!s.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:u}=s,c=a+l;return o.has(c)?!1:(o.add(c),i(l,u).forEach(d=>o.add(a+d)),!0)}).reverse().map(s=>s.originalClassName).join(" ")}function Pk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=t1(e))&&(r&&(r+=" "),r+=n);return r}function t1(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=t1(t[r]))&&(n&&(n+=" "),n+=e);return n}function Ak(t,...e){let n,r,i,o=s;function s(l){const u=e.reduce((c,d)=>d(c),t());return n=Ck(u),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=Rk(l,n);return i(l,c),c}return function(){return o(Pk.apply(null,arguments))}}function be(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const n1=/^\[(?:([a-z-]+):)?(.+)\]$/i,kk=/^\d+\/\d+$/,Dk=new Set(["px","full","screen"]),Nk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ok=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function rr(t){return Fi(t)||Dk.has(t)||kk.test(t)}function Nr(t){return xs(t,"length",Hk)}function Fi(t){return!!t&&!Number.isNaN(Number(t))}function wu(t){return xs(t,"number",Fi)}function Xs(t){return!!t&&Number.isInteger(Number(t))}function Lk(t){return t.endsWith("%")&&Fi(t.slice(0,-1))}function se(t){return n1.test(t)}function br(t){return Nk.test(t)}const Vk=new Set(["length","size","percentage"]);function $k(t){return xs(t,Vk,r1)}function jk(t){return xs(t,"position",r1)}const Uk=new Set(["image","url"]);function zk(t){return xs(t,Uk,Gk)}function Bk(t){return xs(t,"",Wk)}function Js(){return!0}function xs(t,e,n){const r=n1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function Hk(t){return bk.test(t)&&!Mk.test(t)}function r1(){return!1}function Wk(t){return Ok.test(t)}function Gk(t){return Fk.test(t)}function qk(){const t=be("colors"),e=be("spacing"),n=be("blur"),r=be("brightness"),i=be("borderColor"),o=be("borderRadius"),s=be("borderSpacing"),a=be("borderWidth"),l=be("contrast"),u=be("grayscale"),c=be("hueRotate"),d=be("invert"),f=be("gap"),p=be("gradientColorStops"),_=be("gradientColorStopPositions"),g=be("inset"),w=be("margin"),y=be("opacity"),m=be("padding"),v=be("saturate"),T=be("scale"),R=be("sepia"),S=be("skew"),P=be("space"),A=be("translate"),M=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",se,e],j=()=>[se,e],te=()=>["",rr,Nr],we=()=>["auto",Fi,se],ot=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ze=()=>["solid","dashed","dotted","double","none"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],F=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",se],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Fi,wu],_e=()=>[Fi,se];return{cacheSize:500,separator:":",theme:{colors:[Js],spacing:[rr,Nr],blur:["none","",br,se],brightness:ae(),borderColor:[t],borderRadius:["none","","full",br,se],borderSpacing:j(),borderWidth:te(),contrast:ae(),grayscale:W(),hueRotate:_e(),invert:W(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[Lk,Nr],inset:H(),margin:H(),opacity:ae(),padding:j(),saturate:ae(),scale:ae(),sepia:W(),skew:_e(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[br]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ot(),se]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xs,se]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Xs,se]}],"grid-cols":[{"grid-cols":[Js]}],"col-start-end":[{col:["auto",{span:["full",Xs,se]},se]}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":[Js]}],"row-start-end":[{row:["auto",{span:[Xs,se]},se]}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,e]}],"min-w":[{"min-w":[se,e,"min","max","fit"]}],"max-w":[{"max-w":[se,e,"none","full","min","max","fit","prose",{screen:[br]},br]}],h:[{h:[se,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,e,"auto","min","max","fit"]}],"font-size":[{text:["base",br,Nr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wu]}],"font-family":[{font:[Js]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",Fi,wu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rr,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ze(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rr,Nr]}],"underline-offset":[{"underline-offset":["auto",rr,se]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ot(),jk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$k]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Ze(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Ze()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Ze()]}],"outline-offset":[{"outline-offset":[rr,se]}],"outline-w":[{outline:[rr,Nr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[rr,Nr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",br,Bk]}],"shadow-color":[{shadow:[Js]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":ge()}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",br,se]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:_e()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:_e()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Xs,se]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[rr,Nr,wu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Kk=Ak(qk);function jt(...t){return Kk(mk(t))}const Qk=gk("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?wd:"button";return h.jsx(s,{className:jt(Qk({variant:e,size:n,className:t})),ref:o,...i})});Ce.displayName="Button";function Yk(){const t=QS();console.log(t);let e="An error occurred!",n="Something went wrong!";return t.status===500&&(n=JSON.parse(t.data).message),t.status===404&&(e="Page Not found",n="Could not find resource or page"),h.jsx("div",{className:"flex min-h-dvh items-center justify-center",children:h.jsxs("div",{className:"space-y-4 text-center",children:[h.jsx("h1",{className:"text-2xl font-semibold lg:text-4xl",children:e}),h.jsx("p",{className:"lg:text-2xl lg:text-slate-400",children:n}),h.jsx(Ce,{asChild:!0,className:"lg:px-4 lg:py-6 lg:text-lg",children:h.jsx(ak,{to:"/",children:"Go Back Home"})})]})})}function rt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Sn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function kp(t,e){const n=rt(t);return isNaN(e)?Sn(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Xk(t,e){const n=rt(t);if(isNaN(e))return Sn(t,NaN);if(!e)return n;const r=n.getDate(),i=Sn(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function Jk(t,e){const{years:n=0,months:r=0,weeks:i=0,days:o=0,hours:s=0,minutes:a=0,seconds:l=0}=e,u=rt(t),c=r||n?Xk(u,r+n*12):u,d=o||i?kp(c,o+i*7):c,f=a+s*60,_=(l+f*60)*1e3;return Sn(t,d.getTime()+_)}const i1=6048e5,Zk=864e5;let eD={};function Pl(){return eD}function Ji(t,e){var a,l,u,c;const n=Pl(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=rt(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Dc(t){return Ji(t,{weekStartsOn:1})}function o1(t){const e=rt(t),n=e.getFullYear(),r=Sn(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Dc(r),o=Sn(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Dc(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function _0(t){const e=rt(t);return e.setHours(0,0,0,0),e}function w0(t){const e=rt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function tD(t,e){const n=_0(t),r=_0(e),i=+n-w0(n),o=+r-w0(r);return Math.round((i-o)/Zk)}function nD(t){const e=o1(t),n=Sn(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Dc(n)}function rD(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function iD(t){if(!rD(t)&&typeof t!="number")return!1;const e=rt(t);return!isNaN(Number(e))}function oD(t){const e=rt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function E0(t){const e=rt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function sD(t){const e=rt(t),n=Sn(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function aD(t,e){var a,l,u,c;const n=Pl(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=rt(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const lD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uD=(t,e,n)=>{let r;const i=lD[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function qh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const cD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fD={date:qh({formats:cD,defaultWidth:"full"}),time:qh({formats:dD,defaultWidth:"full"}),dateTime:qh({formats:hD,defaultWidth:"full"})},pD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gD=(t,e,n,r)=>pD[t];function Zs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const mD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_D={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ED={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SD=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xD={ordinalNumber:SD,era:Zs({values:mD,defaultWidth:"wide"}),quarter:Zs({values:yD,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zs({values:vD,defaultWidth:"wide"}),day:Zs({values:_D,defaultWidth:"wide"}),dayPeriod:Zs({values:wD,defaultWidth:"wide",formattingValues:ED,defaultFormattingWidth:"wide"})};function ea(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?CD(a,d=>d.test(s)):TD(a,d=>d.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function TD(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function CD(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function ID(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const RD=/^(\d+)(th|st|nd|rd)?/i,PD=/\d+/i,AD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kD={any:[/^b/i,/^(a|c)/i]},DD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ND={any:[/1/i,/2/i,/3/i,/4/i]},bD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},VD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$D={ordinalNumber:ID({matchPattern:RD,parsePattern:PD,valueCallback:t=>parseInt(t,10)}),era:ea({matchPatterns:AD,defaultMatchWidth:"wide",parsePatterns:kD,defaultParseWidth:"any"}),quarter:ea({matchPatterns:DD,defaultMatchWidth:"wide",parsePatterns:ND,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ea({matchPatterns:bD,defaultMatchWidth:"wide",parsePatterns:MD,defaultParseWidth:"any"}),day:ea({matchPatterns:OD,defaultMatchWidth:"wide",parsePatterns:FD,defaultParseWidth:"any"}),dayPeriod:ea({matchPatterns:LD,defaultMatchWidth:"any",parsePatterns:VD,defaultParseWidth:"any"})},jD={code:"en-US",formatDistance:uD,formatLong:fD,formatRelative:gD,localize:xD,match:$D,options:{weekStartsOn:0,firstWeekContainsDate:1}};function UD(t){const e=rt(t);return tD(e,sD(e))+1}function zD(t){const e=rt(t),n=+Dc(e)-+nD(e);return Math.round(n/i1)+1}function s1(t,e){var c,d,f,p;const n=rt(t),r=n.getFullYear(),i=Pl(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=Sn(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Ji(s,e),l=Sn(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=Ji(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function BD(t,e){var a,l,u,c;const n=Pl(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=s1(t,e),o=Sn(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Ji(o,e)}function HD(t,e){const n=rt(t),r=+Ji(n,e)-+BD(n,e);return Math.round(r/i1)+1}function Te(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Mr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Te(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Te(n+1,2)},d(t,e){return Te(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Te(t.getHours()%12||12,e.length)},H(t,e){return Te(t.getHours(),e.length)},m(t,e){return Te(t.getMinutes(),e.length)},s(t,e){return Te(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Te(i,e.length)}},vo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},S0={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Mr.y(t,e)},Y:function(t,e,n,r){const i=s1(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return Te(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Te(o,e.length)},R:function(t,e){const n=o1(t);return Te(n,e.length)},u:function(t,e){const n=t.getFullYear();return Te(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Te(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Te(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Mr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Te(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=HD(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Te(i,e.length)},I:function(t,e,n){const r=zD(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Te(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Mr.d(t,e)},D:function(t,e,n){const r=UD(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Te(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Te(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Te(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Te(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=vo.noon:r===0?i=vo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=vo.evening:r>=12?i=vo.afternoon:r>=4?i=vo.morning:i=vo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Mr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Mr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Te(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Te(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Mr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Mr.s(t,e)},S:function(t,e){return Mr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return T0(r);case"XXXX":case"XX":return Pi(r);case"XXXXX":case"XXX":default:return Pi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return T0(r);case"xxxx":case"xx":return Pi(r);case"xxxxx":case"xxx":default:return Pi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+x0(r,":");case"OOOO":default:return"GMT"+Pi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+x0(r,":");case"zzzz":default:return"GMT"+Pi(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Te(r,e.length)},T:function(t,e,n){const r=t.getTime();return Te(r,e.length)}};function x0(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Te(o,2)}function T0(t,e){return t%60===0?(t>0?"-":"+")+Te(Math.abs(t)/60,2):Pi(t,e)}function Pi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Te(Math.trunc(r/60),2),o=Te(r%60,2);return n+i+e+o}const C0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},a1=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},WD=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return C0(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",C0(r,e)).replace("{{time}}",a1(i,e))},GD={p:a1,P:WD},qD=/^D+$/,KD=/^Y+$/,QD=["D","DD","YY","YYYY"];function YD(t){return qD.test(t)}function XD(t){return KD.test(t)}function JD(t,e,n){const r=ZD(t,e,n);if(console.warn(r),QD.includes(t))throw new RangeError(r)}function ZD(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nN=/^'([^]*?)'?$/,rN=/''/g,iN=/[a-zA-Z]/;function Ke(t,e,n){var c,d,f,p,_,g,w,y;const r=Pl(),i=(n==null?void 0:n.locale)??r.locale??jD,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((g=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((y=(w=r.locale)==null?void 0:w.options)==null?void 0:y.weekStartsOn)??0,a=rt(t);if(!iD(a))throw new RangeError("Invalid time value");let l=e.match(tN).map(m=>{const v=m[0];if(v==="p"||v==="P"){const T=GD[v];return T(m,i.formatLong)}return m}).join("").match(eN).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const v=m[0];if(v==="'")return{isToken:!1,value:oN(m)};if(S0[v])return{isToken:!0,value:m};if(v.match(iN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const v=m.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&XD(v)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&YD(v))&&JD(v,e,String(t));const T=S0[v[0]];return T(a,v,i.localize,u)}).join("")}function oN(t){const e=t.match(nN);return e?e[1].replace(rN,"'"):t}function sN(t){const e=rt(t),n=e.getFullYear(),r=e.getMonth(),i=Sn(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function aN(t,e){const n=rt(t),r=rt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=(t,e)=>{const n=E.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>E.createElement("svg",{ref:c,...lN,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${uN(t)}`,a].join(" "),...u},[...e.map(([d,f])=>E.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=_i("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=_i("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=_i("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=_i("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=_i("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=_i("MoveLeft",[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=_i("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=_i("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function R0({currentDateState:t,customersOfTheMonth:e,bankInOfTheMonth:n}){const r=Cr();function i(a,l){l||r(`/dailysales/${a.toDateString()}`)}function o(){const a=[];let l=Ji(E0(t));for(let u=0;u<7;u++)a.push(h.jsx("div",{className:"text-center text-2xl font-bold text-teal-700",children:Ke(kp(l,u),"EEE")},u));return h.jsx("div",{className:"mb-3 hidden xl:grid xl:grid-cols-7",children:a})}function s(){const a=E0(t),l=oD(t),u=Ji(a),c=aD(l),d=[];let f=u;for(;f<=c;){const p=Ke(f,"d"),_=Ke(f,"EEE"),g=f,w=!aN(f,a);d.push(h.jsxs("div",{onClick:()=>i(g,w),className:"flex min-h-48 flex-col justify-between rounded-sm bg-white",children:[h.jsxs("div",{className:"flex items-center justify-between p-3",children:[h.jsxs("p",{className:`space-x-3 text-xl font-bold  sm:space-x-2 ${w?"text-gray-300":"text-teal-700"}`,children:[h.jsx("span",{className:"xl:hidden",children:_}),h.jsx("span",{children:p})]}),n&&n[p]&&!w&&h.jsx("p",{className:"rounded bg-amber-300 px-2 py-1 text-amber-700",children:"Bank In"})]}),e&&e[p]&&!w&&h.jsx("div",{className:"space-y-2 p-3",children:e[p].map(y=>h.jsx("div",{className:"rounded bg-sky-300 py-1 text-center text-sky-700 lg:text-lg",children:y},y.split(" ").join("-")))})]},f)),f=kp(f,1)}return h.jsx("div",{className:"grid gap-y-4 min-[480px]:grid-cols-2 min-[480px]:gap-x-4 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-7 xl:gap-x-3",children:d})}return h.jsxs("div",{className:"mt-6 rounded-md bg-primary/30 p-4 md:mt-4",children:[o(),s()]})}function Ed({getAllDaysInfo:t,dateString:e}){const[n,r]=E.useState(!1),[i,o]=E.useState(!1),[s,a]=E.useState({}),[l,u]=E.useState(!0);return E.useEffect(()=>{async function c(){try{r(!0),o(!1);const d=await t(e);a(d),o(!1)}catch(d){console.log(d),o(!0)}finally{r(!1)}}c()},[t,e,l]),{isLoading:n,error:i,data:s,setData:a,setRefetch:u}}var P0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},u1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new vN;const f=o<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _N=function(t){const e=l1(t);return u1.encodeByteArray(e,!0)},Nc=function(t){return _N(t).replace(/\./g,"")},c1=function(t){try{return u1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=()=>wN().__FIREBASE_DEFAULTS__,SN=()=>{if(typeof process>"u"||typeof P0>"u")return;const t=P0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c1(t[1]);return e&&JSON.parse(e)},Sd=()=>{try{return EN()||SN()||xN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},d1=t=>{var e,n;return(n=(e=Sd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TN=t=>{const e=d1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},h1=()=>{var t;return(t=Sd())===null||t===void 0?void 0:t.config},f1=t=>{var e;return(e=Sd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nc(JSON.stringify(n)),Nc(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function PN(){var t;const e=(t=Sd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DN(){const t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NN(){return!PN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p1(){try{return typeof indexedDB=="object"}catch{return!1}}function bN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="FirebaseError";class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MN,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?ON(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ir(i,a,r)}}function ON(t,e){return t.replace(FN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FN=/\{\$([^}]+)}/g;function LN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(A0(o)&&A0(s)){if(!bc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function A0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ca(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function da(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VN(t,e){const n=new $N(t,e);return n.subscribe.bind(n)}class $N{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kh),i.error===void 0&&(i.error=Kh),i.complete===void 0&&(i.complete=Kh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t){return t&&t._delegate?t._delegate:t}class Zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BN(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ai){return this.instances.has(e)}getOptions(e=Ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ai){return this.component?this.component.multipleInstances?e:Ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zN(t){return t===Ai?void 0:t}function BN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const WN={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},GN=pe.INFO,qN={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},KN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ym{constructor(e){this.name=e,this._logLevel=GN,this._logHandler=KN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const QN=(t,e)=>e.some(n=>t instanceof n);let k0,D0;function YN(){return k0||(k0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XN(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g1=new WeakMap,Dp=new WeakMap,m1=new WeakMap,Qh=new WeakMap,vm=new WeakMap;function JN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ii(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&g1.set(n,t)}).catch(()=>{}),vm.set(e,t),e}function ZN(t){if(Dp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Dp.set(t,e)}let Np={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eb(t){Np=t(Np)}function tb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yh(this),e,...n);return m1.set(r,e.sort?e.sort():[e]),ii(r)}:XN().includes(t)?function(...e){return t.apply(Yh(this),e),ii(g1.get(this))}:function(...e){return ii(t.apply(Yh(this),e))}}function nb(t){return typeof t=="function"?tb(t):(t instanceof IDBTransaction&&ZN(t),QN(t,YN())?new Proxy(t,Np):t)}function ii(t){if(t instanceof IDBRequest)return JN(t);if(Qh.has(t))return Qh.get(t);const e=nb(t);return e!==t&&(Qh.set(t,e),vm.set(e,t)),e}const Yh=t=>vm.get(t);function rb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ii(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ii(s.result),l.oldVersion,l.newVersion,ii(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const ib=["get","getKey","getAll","getAllKeys","count"],ob=["put","add","delete","clear"],Xh=new Map;function N0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xh.get(e))return Xh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ob.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ib.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Xh.set(e,o),o}eb(t=>({...t,get:(e,n,r)=>N0(e,n)||t.get(e,n,r),has:(e,n)=>!!N0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ab(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ab(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bp="@firebase/app",b0="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new ym("@firebase/app"),lb="@firebase/app-compat",ub="@firebase/analytics-compat",cb="@firebase/analytics",db="@firebase/app-check-compat",hb="@firebase/app-check",fb="@firebase/auth",pb="@firebase/auth-compat",gb="@firebase/database",mb="@firebase/database-compat",yb="@firebase/functions",vb="@firebase/functions-compat",_b="@firebase/installations",wb="@firebase/installations-compat",Eb="@firebase/messaging",Sb="@firebase/messaging-compat",xb="@firebase/performance",Tb="@firebase/performance-compat",Cb="@firebase/remote-config",Ib="@firebase/remote-config-compat",Rb="@firebase/storage",Pb="@firebase/storage-compat",Ab="@firebase/firestore",kb="@firebase/firestore-compat",Db="firebase",Nb="10.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="[DEFAULT]",bb={[bp]:"fire-core",[lb]:"fire-core-compat",[cb]:"fire-analytics",[ub]:"fire-analytics-compat",[hb]:"fire-app-check",[db]:"fire-app-check-compat",[fb]:"fire-auth",[pb]:"fire-auth-compat",[gb]:"fire-rtdb",[mb]:"fire-rtdb-compat",[yb]:"fire-fn",[vb]:"fire-fn-compat",[_b]:"fire-iid",[wb]:"fire-iid-compat",[Eb]:"fire-fcm",[Sb]:"fire-fcm-compat",[xb]:"fire-perf",[Tb]:"fire-perf-compat",[Cb]:"fire-rc",[Ib]:"fire-rc-compat",[Rb]:"fire-gcs",[Pb]:"fire-gcs-compat",[Ab]:"fire-fst",[kb]:"fire-fst-compat","fire-js":"fire-js",[Db]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,Mb=new Map,Op=new Map;function M0(t,e){try{t.container.addComponent(e)}catch(n){eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ls(t){const e=t.name;if(Op.has(e))return eo.debug(`There were multiple attempts to register component ${e}.`),!1;Op.set(e,t);for(const n of Mc.values())M0(n,t);for(const n of Mb.values())M0(n,t);return!0}function _m(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new Al("app","Firebase",Ob);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=Nb;function y1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oi.create("bad-app-name",{appName:String(i)});if(n||(n=h1()),!n)throw oi.create("no-options");const o=Mc.get(i);if(o){if(bc(n,o.options)&&bc(r,o.config))return o;throw oi.create("duplicate-app",{appName:i})}const s=new HN(i);for(const l of Op.values())s.addComponent(l);const a=new Fb(n,r,s);return Mc.set(i,a),a}function v1(t=Mp){const e=Mc.get(t);if(!e&&t===Mp&&h1())return y1();if(!e)throw oi.create("no-app",{appName:t});return e}function si(t,e,n){var r;let i=(r=bb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),eo.warn(a.join(" "));return}ls(new Zi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="firebase-heartbeat-database",Vb=1,tl="firebase-heartbeat-store";let Jh=null;function _1(){return Jh||(Jh=rb(Lb,Vb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tl)}catch(n){console.warn(n)}}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),Jh}async function $b(t){try{const n=(await _1()).transaction(tl),r=await n.objectStore(tl).get(w1(t));return await n.done,r}catch(e){if(e instanceof Ir)eo.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});eo.warn(n.message)}}}async function O0(t,e){try{const r=(await _1()).transaction(tl,"readwrite");await r.objectStore(tl).put(e,w1(t)),await r.done}catch(n){if(n instanceof Ir)eo.warn(n.message);else{const r=oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});eo.warn(r.message)}}}function w1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=1024,Ub=30*24*60*60*1e3;class zb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=F0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Ub}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F0(),{heartbeatsToSend:r,unsentEntries:i}=Bb(this._heartbeatsCache.heartbeats),o=Nc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function F0(){return new Date().toISOString().substring(0,10)}function Bb(t,e=jb){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),L0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),L0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p1()?bN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $b(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return O0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return O0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function L0(t){return Nc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){ls(new Zi("platform-logger",e=>new sb(e),"PRIVATE")),ls(new Zi("heartbeat",e=>new zb(e),"PRIVATE")),si(bp,b0,t),si(bp,b0,"esm2017"),si("fire-js","")}Wb("");var Gb="firebase",qb="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(Gb,qb,"app");var Kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,wm=wm||{},re=Kb||self;function xd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Dl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Qb(t){return Object.prototype.hasOwnProperty.call(t,Zh)&&t[Zh]||(t[Zh]=++Yb)}var Zh="closure_uid_"+(1e9*Math.random()>>>0),Yb=0;function Xb(t,e,n){return t.call.apply(t.bind,arguments)}function Jb(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ft(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ft=Xb:Ft=Jb,Ft.apply(null,arguments)}function Eu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function wi(){this.s=this.s,this.o=this.o}var Zb=0;wi.prototype.s=!1;wi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Zb!=0)&&Qb(this)};wi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const E1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Em(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function V0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(xd(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var eM=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};re.addEventListener("test",n,e),re.removeEventListener("test",n,e)}catch{}return t}();function nl(t){return/^[\s\xa0]*$/.test(t)}function Td(){var t=re.navigator;return t&&(t=t.userAgent)?t:""}function jn(t){return Td().indexOf(t)!=-1}function Sm(t){return Sm[" "](t),t}Sm[" "]=function(){};function tM(t,e){var n=qM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var nM=jn("Opera"),us=jn("Trident")||jn("MSIE"),S1=jn("Edge"),Fp=S1||us,x1=jn("Gecko")&&!(Td().toLowerCase().indexOf("webkit")!=-1&&!jn("Edge"))&&!(jn("Trident")||jn("MSIE"))&&!jn("Edge"),rM=Td().toLowerCase().indexOf("webkit")!=-1&&!jn("Edge");function T1(){var t=re.document;return t?t.documentMode:void 0}var Lp;e:{var ef="",tf=function(){var t=Td();if(x1)return/rv:([^\);]+)(\)|;)/.exec(t);if(S1)return/Edge\/([\d\.]+)/.exec(t);if(us)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(rM)return/WebKit\/(\S+)/.exec(t);if(nM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tf&&(ef=tf?tf[1]:""),us){var nf=T1();if(nf!=null&&nf>parseFloat(ef)){Lp=String(nf);break e}}Lp=ef}var Vp;if(re.document&&us){var $0=T1();Vp=$0||parseInt(Lp,10)||void 0}else Vp=void 0;var iM=Vp;function rl(t,e){if(Lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(x1){e:{try{Sm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:oM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rl.$.h.call(this)}}vt(rl,Lt);var oM={2:"touch",3:"pen",4:"mouse"};rl.prototype.h=function(){rl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nl="closure_listenable_"+(1e6*Math.random()|0),sM=0;function aM(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++sM,this.fa=this.ia=!1}function Cd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function C1(t){const e={};for(const n in t)e[n]=t[n];return e}const j0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<j0.length;o++)n=j0[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Id(t){this.src=t,this.g={},this.h=0}Id.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=jp(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new aM(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function $p(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=E1(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Cd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function jp(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Tm="closure_lm_"+(1e6*Math.random()|0),rf={};function R1(t,e,n,r,i){if(r&&r.once)return A1(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)R1(t,e[o],n,r,i);return null}return n=Rm(n),t&&t[Nl]?t.O(e,n,Dl(r)?!!r.capture:!!r,i):P1(t,e,n,!1,r,i)}function P1(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Dl(i)?!!i.capture:!!i,a=Im(t);if(a||(t[Tm]=a=new Id(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=uM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)eM||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(D1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uM(){function t(n){return e.call(t.src,t.listener,n)}const e=cM;return t}function A1(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)A1(t,e[o],n,r,i);return null}return n=Rm(n),t&&t[Nl]?t.P(e,n,Dl(r)?!!r.capture:!!r,i):P1(t,e,n,!0,r,i)}function k1(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)k1(t,e[o],n,r,i);else r=Dl(r)?!!r.capture:!!r,n=Rm(n),t&&t[Nl]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=jp(o,n,r,i),-1<n&&(Cd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Im(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jp(e,n,r,i)),(n=-1<t?e[t]:null)&&Cm(n))}function Cm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Nl])$p(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(D1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Im(e))?($p(n,t),n.h==0&&(n.src=null,e[Tm]=null)):Cd(t)}}}function D1(t){return t in rf?rf[t]:rf[t]="on"+t}function cM(t,e){if(t.fa)t=!0;else{e=new rl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Cm(t),t=n.call(r,e)}return t}function Im(t){return t=t[Tm],t instanceof Id?t:null}var of="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rm(t){return typeof t=="function"?t:(t[of]||(t[of]=function(e){return t.handleEvent(e)}),t[of])}function yt(){wi.call(this),this.i=new Id(this),this.S=this,this.J=null}vt(yt,wi);yt.prototype[Nl]=!0;yt.prototype.removeEventListener=function(t,e,n,r){k1(this,t,e,n,r)};function Ct(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Lt(e,t);else if(e instanceof Lt)e.target=e.target||t;else{var i=e;e=new Lt(r,t),I1(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Su(s,r,!0,e)&&i}if(s=e.g=t,i=Su(s,r,!0,e)&&i,i=Su(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Su(s,r,!1,e)&&i}yt.prototype.N=function(){if(yt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cd(n[r]);delete t.g[e],t.h--}}this.J=null};yt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};yt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Su(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&$p(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Pm=re.JSON.stringify;class dM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function hM(){var t=Am;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class fM{constructor(){this.h=this.g=null}add(e,n){const r=N1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var N1=new dM(()=>new pM,t=>t.reset());class pM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function mM(t){re.setTimeout(()=>{throw t},0)}let il,ol=!1,Am=new fM,b1=()=>{const t=re.Promise.resolve(void 0);il=()=>{t.then(yM)}};var yM=()=>{for(var t;t=hM();){try{t.h.call(t.g)}catch(n){mM(n)}var e=N1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ol=!1};function Rd(t,e){yt.call(this),this.h=t||1,this.g=e||re,this.j=Ft(this.qb,this),this.l=Date.now()}vt(Rd,yt);V=Rd.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ct(this,"tick"),this.ga&&(km(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function km(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){Rd.$.N.call(this),km(this),delete this.g};function Dm(t,e,n){if(typeof t=="function")n&&(t=Ft(t,n));else if(t&&typeof t.handleEvent=="function")t=Ft(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:re.setTimeout(t,e||0)}function M1(t){t.g=Dm(()=>{t.g=null,t.i&&(t.i=!1,M1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class vM extends wi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:M1(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sl(t){wi.call(this),this.h=t,this.g={}}vt(sl,wi);var U0=[];function O1(t,e,n,r){Array.isArray(n)||(n&&(U0[0]=n.toString()),n=U0);for(var i=0;i<n.length;i++){var o=R1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function F1(t){xm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Cm(e)},t),t.g={}}sl.prototype.N=function(){sl.$.N.call(this),F1(this)};sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Pd(){this.g=!0}Pd.prototype.Ea=function(){this.g=!1};function _M(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function wM(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function jo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+SM(t,n)+(r?" "+r:"")})}function EM(t,e){t.info(function(){return"TIMEOUT: "+e})}Pd.prototype.info=function(){};function SM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Pm(n)}catch{return e}}var uo={},z0=null;function Ad(){return z0=z0||new yt}uo.Ta="serverreachability";function L1(t){Lt.call(this,uo.Ta,t)}vt(L1,Lt);function al(t){const e=Ad();Ct(e,new L1(e))}uo.STAT_EVENT="statevent";function V1(t,e){Lt.call(this,uo.STAT_EVENT,t),this.stat=e}vt(V1,Lt);function Wt(t){const e=Ad();Ct(e,new V1(e,t))}uo.Ua="timingevent";function $1(t,e){Lt.call(this,uo.Ua,t),this.size=e}vt($1,Lt);function bl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){t()},e)}var kd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},j1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nm(){}Nm.prototype.h=null;function B0(t){return t.h||(t.h=t.i())}function U1(){}var Ml={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function bm(){Lt.call(this,"d")}vt(bm,Lt);function Mm(){Lt.call(this,"c")}vt(Mm,Lt);var Up;function Dd(){}vt(Dd,Nm);Dd.prototype.g=function(){return new XMLHttpRequest};Dd.prototype.i=function(){return{}};Up=new Dd;function Ol(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new sl(this),this.P=xM,t=Fp?125:void 0,this.V=new Rd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new z1}function z1(){this.i=null,this.g="",this.h=!1}var xM=45e3,B1={},zp={};V=Ol.prototype;V.setTimeout=function(t){this.P=t};function Bp(t,e,n){t.L=1,t.A=bd(Er(e)),t.u=n,t.S=!0,H1(t,null)}function H1(t,e){t.G=Date.now(),Fl(t),t.B=Er(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),J1(n.i,"t",r),t.o=0,n=t.l.J,t.h=new z1,t.g=_x(t.l,n?e:null,!t.u),0<t.O&&(t.M=new vM(Ft(t.Pa,t,t.g),t.O)),O1(t.U,t.g,"readystatechange",t.nb),e=t.I?C1(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),al(),_M(t.j,t.v,t.B,t.m,t.W,t.u)}V.nb=function(t){t=t.target;const e=this.M;e&&zn(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{const c=zn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Fp||this.g&&(this.h.h||this.g.ja()||q0(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?al(3):al(2)),Nd(this);var n=this.g.da();this.ca=n;t:if(W1(this)){var r=q0(this.g);t="";var i=r.length,o=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Li(this),Ra(this);var s="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,wM(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nl(a)){var u=a;break t}}u=null}if(n=u)jo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hp(this,n);else{this.i=!1,this.s=3,Wt(12),Li(this),Ra(this);break e}}this.S?(G1(this,c,s),Fp&&this.i&&c==3&&(O1(this.U,this.V,"tick",this.mb),this.V.start())):(jo(this.j,this.m,s,null),Hp(this,s)),c==4&&Li(this),this.i&&!this.J&&(c==4?gx(this.l,this):(this.i=!1,Fl(this)))}else HM(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Li(this),Ra(this)}}}catch{}finally{}};function W1(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function G1(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=TM(t,n),i==zp){e==4&&(t.s=4,Wt(14),r=!1),jo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==B1){t.s=4,Wt(15),jo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else jo(t.j,t.m,i,null),Hp(t,i);W1(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Wt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),jm(e),e.M=!0,Wt(11))):(jo(t.j,t.m,n,"[Invalid Chunked Response]"),Li(t),Ra(t))}V.mb=function(){if(this.g){var t=zn(this.g),e=this.g.ja();this.o<e.length&&(Nd(this),G1(this,t,e),this.i&&t!=4&&Fl(this))}};function TM(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?zp:(n=Number(e.substring(n,r)),isNaN(n)?B1:(r+=1,r+n>e.length?zp:(e=e.slice(r,r+n),t.o=r+n,e)))}V.cancel=function(){this.J=!0,Li(this)};function Fl(t){t.Y=Date.now()+t.P,q1(t,t.P)}function q1(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=bl(Ft(t.lb,t),e)}function Nd(t){t.C&&(re.clearTimeout(t.C),t.C=null)}V.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(EM(this.j,this.B),this.L!=2&&(al(),Wt(17)),Li(this),this.s=2,Ra(this)):q1(this,this.Y-t)};function Ra(t){t.l.H==0||t.J||gx(t.l,t)}function Li(t){Nd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,km(t.V),F1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Hp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Wp(n.i,t))){if(!t.K&&Wp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Lc(n),Ld(n);else break e;$m(n),Wt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=bl(Ft(n.ib,n),6e3));if(1>=tx(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Vi(n,11)}else if((t.K||n.g==t)&&Lc(n),!nl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const _=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=r.i;o.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Om(o,o.h),o.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Oe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=vx(r,r.J?r.pa:null,r.Y),s.K){nx(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Nd(a),Fl(a)),r.g=s}else fx(r);0<n.j.length&&Vd(n)}else u[0]!="stop"&&u[0]!="close"||Vi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Vi(n,7):Vm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}al(4)}catch{}}function CM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function IM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function K1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=IM(t),r=CM(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var Q1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Bi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Bi){this.h=t.h,Oc(this,t.j),this.s=t.s,this.g=t.g,Fc(this,t.m),this.l=t.l;var e=t.i,n=new ll;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),H0(this,n),this.o=t.o}else t&&(e=String(t).match(Q1))?(this.h=!1,Oc(this,e[1]||"",!0),this.s=ha(e[2]||""),this.g=ha(e[3]||"",!0),Fc(this,e[4]),this.l=ha(e[5]||"",!0),H0(this,e[6]||"",!0),this.o=ha(e[7]||"")):(this.h=!1,this.i=new ll(null,this.h))}Bi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fa(e,W0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fa(e,W0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fa(n,n.charAt(0)=="/"?kM:AM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fa(n,NM)),t.join("")};function Er(t){return new Bi(t)}function Oc(t,e,n){t.j=n?ha(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function H0(t,e,n){e instanceof ll?(t.i=e,bM(t.i,t.h)):(n||(e=fa(e,DM)),t.i=new ll(e,t.h))}function Oe(t,e,n){t.i.set(e,n)}function bd(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ha(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,PM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function PM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var W0=/[#\/\?@]/g,AM=/[#\?:]/g,kM=/[#\?]/g,DM=/[#\?@]/g,NM=/#/g;function ll(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ei(t){t.g||(t.g=new Map,t.h=0,t.i&&RM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=ll.prototype;V.add=function(t,e){Ei(this),this.i=null,t=Cs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Y1(t,e){Ei(t),e=Cs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function X1(t,e){return Ei(t),e=Cs(t,e),t.g.has(e)}V.forEach=function(t,e){Ei(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};V.ta=function(){Ei(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};V.Z=function(t){Ei(this);let e=[];if(typeof t=="string")X1(this,t)&&(e=e.concat(this.g.get(Cs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return Ei(this),this.i=null,t=Cs(this,t),X1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function J1(t,e,n){Y1(t,e),0<n.length&&(t.i=null,t.g.set(Cs(t,e),Em(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Cs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function bM(t,e){e&&!t.j&&(Ei(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Y1(this,r),J1(this,i,n))},t)),t.j=e}var MM=class{constructor(t,e){this.g=t,this.map=e}};function Z1(t){this.l=t||OM,re.PerformanceNavigationTiming?(t=re.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var OM=10;function ex(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function tx(t){return t.h?1:t.g?t.g.size:0}function Wp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Om(t,e){t.g?t.g.add(e):t.h=e}function nx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Z1.prototype.cancel=function(){if(this.i=rx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function rx(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Em(t.i)}var FM=class{stringify(t){return re.JSON.stringify(t,void 0)}parse(t){return re.JSON.parse(t,void 0)}};function LM(){this.g=new FM}function VM(t,e,n){const r=n||"";try{K1(t,function(i,o){let s=i;Dl(i)&&(s=Pm(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $M(t,e){const n=new Pd;if(re.Image){const r=new Image;r.onload=Eu(xu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Eu(xu,n,r,"TestLoadImage: error",!1,e),r.onabort=Eu(xu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Eu(xu,n,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function xu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Md(t){this.l=t.ec||null,this.j=t.ob||!1}vt(Md,Nm);Md.prototype.g=function(){return new Od(this.l,this.j)};Md.prototype.i=function(t){return function(){return t}}({});function Od(t,e){yt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Fm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vt(Od,yt);var Fm=0;V=Od.prototype;V.open=function(t,e){if(this.readyState!=Fm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ul(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ll(this)),this.readyState=Fm};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ul(this)),this.g&&(this.readyState=3,ul(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ix(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ix(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ll(this):ul(this),this.readyState==3&&ix(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,Ll(this))};V.Ya=function(t){this.g&&(this.response=t,Ll(this))};V.ka=function(){this.g&&Ll(this)};function Ll(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ul(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ul(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Od.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var jM=re.JSON.parse;function Qe(t){yt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ox,this.L=this.M=!1}vt(Qe,yt);var ox="",UM=/^https?$/i,zM=["POST","PUT"];V=Qe.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Up.g(),this.C=this.u?B0(this.u):B0(Up),this.g.onreadystatechange=Ft(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){G0(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=re.FormData&&t instanceof re.FormData,!(0<=E1(zM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lx(this),0<this.B&&((this.L=BM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.ua,this)):this.A=Dm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){G0(this,o)}};function BM(t){return us&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof wm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))};function G0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,sx(t),Fd(t)}function sx(t){t.F||(t.F=!0,Ct(t,"complete"),Ct(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ct(this,"complete"),Ct(this,"abort"),Fd(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fd(this,!0)),Qe.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?ax(this):this.kb())};V.kb=function(){ax(this)};function ax(t){if(t.h&&typeof wm<"u"&&(!t.C[1]||zn(t)!=4||t.da()!=2)){if(t.v&&zn(t)==4)Dm(t.La,0,t);else if(Ct(t,"readystatechange"),zn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(Q1)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!UM.test(i?i.toLowerCase():"")}n=r}if(n)Ct(t,"complete"),Ct(t,"success");else{t.m=6;try{var o=2<zn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",sx(t)}}finally{Fd(t)}}}}function Fd(t,e){if(t.g){lx(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ct(t,"ready");try{n.onreadystatechange=r}catch{}}}function lx(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(re.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function zn(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),jM(e)}};function q0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case ox:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function HM(t){const e={};t=(t.g&&2<=zn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(nl(t[r]))continue;var n=gM(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}lM(e,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ux(t){let e="";return xm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Lm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ux(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Oe(t,e,n))}function ta(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function cx(t){this.Ga=0,this.j=[],this.l=new Pd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ta("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ta("baseRetryDelayMs",5e3,t),this.hb=ta("retryDelaySeedMs",1e4,t),this.eb=ta("forwardChannelMaxRetries",2,t),this.xa=ta("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Z1(t&&t.concurrentRequestLimit),this.Ja=new LM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=cx.prototype;V.ra=8;V.H=1;function Vm(t){if(dx(t),t.H==3){var e=t.W++,n=Er(t.I);if(Oe(n,"SID",t.K),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),Vl(t,n),e=new Ol(t,t.l,e),e.L=2,e.A=bd(Er(n)),n=!1,re.navigator&&re.navigator.sendBeacon)try{n=re.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&re.Image&&(new Image().src=e.A,n=!0),n||(e.g=_x(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Fl(e)}yx(t)}function Ld(t){t.g&&(jm(t),t.g.cancel(),t.g=null)}function dx(t){Ld(t),t.u&&(re.clearTimeout(t.u),t.u=null),Lc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&re.clearTimeout(t.m),t.m=null)}function Vd(t){if(!ex(t.i)&&!t.m){t.m=!0;var e=t.Na;il||b1(),ol||(il(),ol=!0),Am.add(e,t),t.C=0}}function WM(t,e){return tx(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=bl(Ft(t.Na,t,e),mx(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ol(this,this.l,t);let o=this.s;if(this.U&&(o?(o=C1(o),I1(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=hx(this,i,e),n=Er(this.I),Oe(n,"RID",t),Oe(n,"CVER",22),this.F&&Oe(n,"X-HTTP-Session-Id",this.F),Vl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(ux(o)))+"&"+e:this.o&&Lm(n,this.o,o)),Om(this.i,i),this.bb&&Oe(n,"TYPE","init"),this.P?(Oe(n,"$req",e),Oe(n,"SID","null"),i.aa=!0,Bp(i,n,null)):Bp(i,n,e),this.H=2}}else this.H==3&&(t?K0(this,t):this.j.length==0||ex(this.i)||K0(this))};function K0(t,e){var n;e?n=e.m:n=t.W++;const r=Er(t.I);Oe(r,"SID",t.K),Oe(r,"RID",n),Oe(r,"AID",t.V),Vl(t,r),t.o&&t.s&&Lm(r,t.o,t.s),n=new Ol(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=hx(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Om(t.i,n),Bp(n,r,e)}function Vl(t,e){t.na&&xm(t.na,function(n,r){Oe(e,r,n)}),t.h&&K1({},function(n,r){Oe(e,r,n)})}function hx(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ft(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{VM(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function fx(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;il||b1(),ol||(il(),ol=!0),Am.add(e,t),t.A=0}}function $m(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=bl(Ft(t.Ma,t),mx(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,px(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=bl(Ft(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wt(10),Ld(this),px(this))};function jm(t){t.B!=null&&(re.clearTimeout(t.B),t.B=null)}function px(t){t.g=new Ol(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Er(t.wa);Oe(e,"RID","rpc"),Oe(e,"SID",t.K),Oe(e,"AID",t.V),Oe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Oe(e,"TO",t.qa),Oe(e,"TYPE","xmlhttp"),Vl(t,e),t.o&&t.s&&Lm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=bd(Er(e)),n.u=null,n.S=!0,H1(n,t)}V.ib=function(){this.v!=null&&(this.v=null,Ld(this),$m(this),Wt(19))};function Lc(t){t.v!=null&&(re.clearTimeout(t.v),t.v=null)}function gx(t,e){var n=null;if(t.g==e){Lc(t),jm(t),t.g=null;var r=2}else if(Wp(t.i,e))n=e.F,nx(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ad(),Ct(r,new $1(r,n)),Vd(t)}else fx(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&WM(t,e)||r==2&&$m(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Vi(t,5);break;case 4:Vi(t,10);break;case 3:Vi(t,6);break;default:Vi(t,2)}}}function mx(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Vi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ft(t.pb,t);n||(n=new Bi("//www.google.com/images/cleardot.gif"),re.location&&re.location.protocol=="http"||Oc(n,"https"),bd(n)),$M(n.toString(),r)}else Wt(2);t.H=0,t.h&&t.h.za(e),yx(t),dx(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Wt(2)):(this.l.info("Failed to ping google.com"),Wt(1))};function yx(t){if(t.H=0,t.ma=[],t.h){const e=rx(t.i);(e.length!=0||t.j.length!=0)&&(V0(t.ma,e),V0(t.ma,t.j),t.i.i.length=0,Em(t.j),t.j.length=0),t.h.ya()}}function vx(t,e,n){var r=n instanceof Bi?Er(n):new Bi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Fc(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Bi(null);r&&Oc(o,r),e&&(o.g=e),i&&Fc(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Oe(r,n,e),Oe(r,"VER",t.ra),Vl(t,r),r}function _x(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Qe(new Md({ob:n})):new Qe(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function wx(){}V=wx.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Vc(){if(us&&!(10<=Number(iM)))throw Error("Environmental error: no available transport.")}Vc.prototype.g=function(t,e){return new un(t,e)};function un(t,e){yt.call(this),this.g=new cx(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!nl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Is(this)}vt(un,yt);un.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Wt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=vx(t,null,t.Y),Vd(t)};un.prototype.close=function(){Vm(this.g)};un.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Pm(t),t=n);e.j.push(new MM(e.fb++,t)),e.H==3&&Vd(e)};un.prototype.N=function(){this.g.h=null,delete this.j,Vm(this.g),delete this.g,un.$.N.call(this)};function Ex(t){bm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}vt(Ex,bm);function Sx(){Mm.call(this),this.status=1}vt(Sx,Mm);function Is(t){this.g=t}vt(Is,wx);Is.prototype.Ba=function(){Ct(this.g,"a")};Is.prototype.Aa=function(t){Ct(this.g,new Ex(t))};Is.prototype.za=function(t){Ct(this.g,new Sx)};Is.prototype.ya=function(){Ct(this.g,"b")};function GM(){this.blockSize=-1}function Mn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}vt(Mn,GM);Mn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function sf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Mn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)sf(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){sf(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){sf(this,r),i=0;break}}this.h=i,this.i+=e};Mn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Re(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var qM={};function Um(t){return-128<=t&&128>t?tM(t,function(e){return new Re([e|0],0>e?-1:0)}):new Re([t|0],0>t?-1:0)}function Bn(t){if(isNaN(t)||!isFinite(t))return Ko;if(0>t)return St(Bn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Gp;return new Re(e,0)}function xx(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return St(xx(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Bn(Math.pow(e,8)),r=Ko,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Bn(Math.pow(e,o)),r=r.R(o).add(Bn(s))):(r=r.R(n),r=r.add(Bn(s)))}return r}var Gp=4294967296,Ko=Um(0),qp=Um(1),Q0=Um(16777216);V=Re.prototype;V.ea=function(){if(mn(this))return-St(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Gp+r)*e,e*=Gp}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(cr(this))return"0";if(mn(this))return"-"+St(this).toString(t);for(var e=Bn(Math.pow(t,6)),n=this,r="";;){var i=jc(n,e).g;n=$c(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,cr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function cr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function mn(t){return t.h==-1}V.X=function(t){return t=$c(this,t),mn(t)?-1:cr(t)?0:1};function St(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Re(n,~t.h).add(qp)}V.abs=function(){return mn(this)?St(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Re(n,n[n.length-1]&-2147483648?-1:0)};function $c(t,e){return t.add(St(e))}V.R=function(t){if(cr(this)||cr(t))return Ko;if(mn(this))return mn(t)?St(this).R(St(t)):St(St(this).R(t));if(mn(t))return St(this.R(St(t)));if(0>this.X(Q0)&&0>t.X(Q0))return Bn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Tu(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Tu(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Tu(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Tu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Re(n,0)};function Tu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function na(t,e){this.g=t,this.h=e}function jc(t,e){if(cr(e))throw Error("division by zero");if(cr(t))return new na(Ko,Ko);if(mn(t))return e=jc(St(t),e),new na(St(e.g),St(e.h));if(mn(e))return e=jc(t,St(e)),new na(St(e.g),e.h);if(30<t.g.length){if(mn(t)||mn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=qp,r=e;0>=r.X(t);)n=Y0(n),r=Y0(r);var i=_o(n,1),o=_o(r,1);for(r=_o(r,2),n=_o(n,2);!cr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=_o(r,1),n=_o(n,1)}return e=$c(t,i.R(e)),new na(i,e)}for(i=Ko;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Bn(n),s=o.R(e);mn(s)||0<s.X(t);)n-=r,o=Bn(n),s=o.R(e);cr(o)&&(o=qp),i=i.add(o),t=$c(t,s)}return new na(i,t)}V.gb=function(t){return jc(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Re(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Re(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Re(n,this.h^t.h)};function Y0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Re(n,t.h)}function _o(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Re(i,t.h)}Vc.prototype.createWebChannel=Vc.prototype.g;un.prototype.send=un.prototype.u;un.prototype.open=un.prototype.m;un.prototype.close=un.prototype.close;kd.NO_ERROR=0;kd.TIMEOUT=8;kd.HTTP_ERROR=6;j1.COMPLETE="complete";U1.EventType=Ml;Ml.OPEN="a";Ml.CLOSE="b";Ml.ERROR="c";Ml.MESSAGE="d";yt.prototype.listen=yt.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;Mn.prototype.digest=Mn.prototype.l;Mn.prototype.reset=Mn.prototype.reset;Mn.prototype.update=Mn.prototype.j;Re.prototype.add=Re.prototype.add;Re.prototype.multiply=Re.prototype.R;Re.prototype.modulo=Re.prototype.gb;Re.prototype.compare=Re.prototype.X;Re.prototype.toNumber=Re.prototype.ea;Re.prototype.toString=Re.prototype.toString;Re.prototype.getBits=Re.prototype.D;Re.fromNumber=Bn;Re.fromString=xx;var KM=function(){return new Vc},QM=function(){return Ad()},af=kd,YM=j1,XM=uo,X0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cu=U1,JM=Qe,ZM=Mn,Qo=Re;const J0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs="10.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new ym("@firebase/firestore");function ra(){return to.logLevel}function L(t,...e){if(to.logLevel<=pe.DEBUG){const n=e.map(zm);to.debug(`Firestore (${Rs}): ${t}`,...n)}}function Xn(t,...e){if(to.logLevel<=pe.ERROR){const n=e.map(zm);to.error(`Firestore (${Rs}): ${t}`,...n)}}function cs(t,...e){if(to.logLevel<=pe.WARN){const n=e.map(zm);to.warn(`Firestore (${Rs}): ${t}`,...n)}}function zm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: `+t;throw Xn(e),new Error(e)}function De(t,e){t||ee()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class tO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nO{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Tx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new bt(e)}}class rO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new rO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new oO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=aO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function ds(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new ct(0,0))}static max(){return new ie(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends cl{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const lO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends cl{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return lO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new B(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q($e.fromString(e))}static fromName(e){return new q($e.fromString(e).popFirst(5))}static empty(){return new q($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new $e(e.slice()))}}function uO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new di(i,q.empty(),e)}function cO(t){return new di(t.readTime,t.key,-1)}class di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new di(ie.min(),q.empty(),-1)}static max(){return new di(ie.max(),q.empty(),-1)}}function dO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==hO)throw t;L("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,r)=>{n(e)})}static reject(e){return new D((n,r)=>{r(e)})}static waitFor(e){return new D((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=D.resolve(!1);for(const r of e)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new D((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new D((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Gn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Pa(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Hm(r.target.error);this.V.reject(new Pa(e,i))}}static open(e,n,r,i){try{return new Bm(n,e.transaction(i,r))}catch(o){throw new Pa(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(L("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new gO(n)}}class $i{constructor(e,n,r){this.name=e,this.version=n,this.p=r,$i.S(it())===12.2&&Xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return L("SimpleDb","Removing database:",e),ki(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!p1())return!1;if($i.C())return!0;const e=it(),n=$i.S(e),r=0<n&&n<10,i=$i.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(L("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new Pa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new B(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new B(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Pa(e,s))},i.onupgradeneeded=o=>{L("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{L("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=Bm.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),D.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(L("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class pO{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ki(this.k.delete())}}class Pa extends B{constructor(e,n){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function jl(t){return t.name==="IndexedDbTransactionError"}class gO{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(L("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(L("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ki(r)}add(e){return L("SimpleDb","ADD",this.store.name,e,e),ki(this.store.add(e))}get(e){return ki(this.store.get(e)).next(n=>(n===void 0&&(n=null),L("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return L("SimpleDb","DELETE",this.store.name,e),ki(this.store.delete(e))}count(){return L("SimpleDb","COUNT",this.store.name),ki(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new D((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new D((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){L("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new D((r,i)=>{n.onerror=o=>{const s=Hm(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new D((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new pO(a),u=n(a.primaryKey,a.value,l);if(u instanceof D){const c=u.catch(d=>(l.done(),D.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>D.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ki(t){return new D((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Hm(r.target.error);n(i)}})}let Z0=!1;function Hm(t){const e=$i.S(it());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new B("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Z0||(Z0=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Wm._e=-1;function $d(t){return t==null}function Uc(t){return t===0&&1/t==-1/0}function mO(t){return typeof t=="number"&&Number.isInteger(t)&&!Uc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ix(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Et.RED,this.left=i??Et.EMPTY,this.right=o??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Et(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t_(this.data.getIterator())}getIteratorFrom(e){return new t_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class t_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new An([])}unionWith(e){let n=new It(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ds(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Rx("Invalid base64 string: "+o):o}}(e);return new $t(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const yO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(t){if(De(!!t),typeof t=="string"){let e=0;const n=yO.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function no(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qm(t){const e=t.mapValue.fields.__previous_value__;return Gm(e)?qm(e):e}function dl(t){const e=hi(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class hl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gm(t)?4:_O(t)?9007199254740991:10:ee()}function Jn(t,e){if(t===e)return!0;const n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dl(t).isEqual(dl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=hi(i.timestampValue),a=hi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return no(i.bytesValue).isEqual(no(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return tt(i.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return tt(i.integerValue)===tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=tt(i.doubleValue),a=tt(o.doubleValue);return s===a?Uc(s)===Uc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ds(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(e_(s)!==e_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Jn(s[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function fl(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function hs(t,e){if(t===e)return 0;const n=ro(t),r=ro(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=tt(o.integerValue||o.doubleValue),l=tt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return n_(t.timestampValue,e.timestampValue);case 4:return n_(dl(t),dl(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(o,s){const a=no(o),l=no(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Se(a[u],l[u]);if(c!==0)return c}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Se(tt(o.latitude),tt(s.latitude));return a!==0?a:Se(tt(o.longitude),tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=hs(a[u],l[u]);if(c)return c}return Se(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ru.mapValue&&s===Ru.mapValue)return 0;if(o===Ru.mapValue)return 1;if(s===Ru.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=Se(l[d],c[d]);if(f!==0)return f;const p=hs(a[l[d]],u[c[d]]);if(p!==0)return p}return Se(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ee()}}function n_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=hi(t),r=hi(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function fs(t){return Kp(t)}function Kp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return no(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Kp(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Kp(n.fields[s])}`;return i+"}"}(t.mapValue):ee()}function Qp(t){return!!t&&"integerValue"in t}function Km(t){return!!t&&"arrayValue"in t}function r_(t){return!!t&&"nullValue"in t}function i_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yu(t){return!!t&&"mapValue"in t}function Aa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Aa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Aa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _O(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Aa(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Aa(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Yu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ps(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new yn(Aa(this.value))}}function Px(t){const e=[];return Ps(t.fields,(n,r)=>{const i=new xt([n]);if(Yu(r)){const o=Px(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ot(e,0,ie.min(),ie.min(),ie.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ot(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new Ot(e,2,n,ie.min(),ie.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,ie.min(),ie.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n){this.position=e,this.inclusive=n}}function o_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),n.key):r=hs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function s_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n="asc"){this.field=e,this.dir=n}}function wO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{}class lt extends Ax{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SO(e,n,r):n==="array-contains"?new CO(e,r):n==="in"?new IO(e,r):n==="not-in"?new RO(e,r):n==="array-contains-any"?new PO(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xO(e,r):new TO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hs(n,this.value)):n!==null&&ro(this.value)===ro(n)&&this.matchesComparison(hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Ax{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Zn(e,n)}matches(e){return kx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function kx(t){return t.op==="and"}function Dx(t){return EO(t)&&kx(t)}function EO(t){for(const e of t.filters)if(e instanceof Zn)return!1;return!0}function Yp(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+fs(t.value);if(Dx(t))return t.filters.map(e=>Yp(e)).join(",");{const e=t.filters.map(n=>Yp(n)).join(",");return`${t.op}(${e})`}}function Nx(t,e){return t instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)}(t,e):t instanceof Zn?function(r,i){return i instanceof Zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Nx(s,i.filters[a]),!0):!1}(t,e):void ee()}function bx(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${fs(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(bx).join(" ,")+"}"}(t):"Filter"}class SO extends lt{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class xO extends lt{constructor(e,n){super(e,"in",n),this.keys=Mx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TO extends lt{constructor(e,n){super(e,"not-in",n),this.keys=Mx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Mx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class CO extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Km(n)&&fl(n.arrayValue,this.value)}}class IO extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fl(this.value.arrayValue,n)}}class RO extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fl(this.value.arrayValue,n)}}class PO extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function a_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new AO(t,e,n,r,i,o,s)}function Qm(t){const e=oe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fs(r)).join(",")),e.ce=n}return e.ce}function Ym(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Nx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s_(t.startAt,e.startAt)&&s_(t.endAt,e.endAt)}function Xp(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function kO(t,e,n,r,i,o,s,a){return new jd(t,e,n,r,i,o,s,a)}function Xm(t){return new jd(t)}function l_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DO(t){return t.collectionGroup!==null}function ka(t){const e=oe(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new It(xt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Bc(o,r))}),n.has(xt.keyField().canonicalString())||e.le.push(new Bc(xt.keyField(),r))}return e.le}function qn(t){const e=oe(t);return e.he||(e.he=NO(e,ka(t))),e.he}function NO(t,e){if(t.limitType==="F")return a_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Bc(i.field,o)});const n=t.endAt?new zc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zc(t.startAt.position,t.startAt.inclusive):null;return a_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jp(t,e,n){return new jd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ud(t,e){return Ym(qn(t),qn(e))&&t.limitType===e.limitType}function Ox(t){return`${Qm(qn(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bx(i)).join(", ")}]`),$d(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fs(i)).join(",")),`Target(${r})`}(qn(t))}; limitType=${t.limitType})`}function zd(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ka(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=o_(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ka(r),i)||r.endAt&&!function(s,a,l){const u=o_(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ka(r),i))}(t,e)}function bO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Fx(t){return(e,n)=>{let r=!1;for(const i of ka(t)){const o=MO(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function MO(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?hs(l,u):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Ix(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new Be(q.comparator);function Sr(){return OO}const Lx=new Be(q.comparator);function pa(...t){let e=Lx;for(const n of t)e=e.insert(n.key,n);return e}function Vx(t){let e=Lx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ji(){return Da()}function $x(){return Da()}function Da(){return new As(t=>t.toString(),(t,e)=>t.isEqual(e))}const FO=new Be(q.comparator),LO=new It(q.comparator);function de(...t){let e=LO;for(const n of t)e=e.add(n);return e}const VO=new It(Se);function $O(){return VO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(e)?"-0":e}}function Ux(t){return{integerValue:""+t}}function jO(t,e){return mO(e)?Ux(e):jx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function UO(t,e,n){return t instanceof Hc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Gm(o)&&(o=qm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof pl?Bx(t,e):t instanceof gl?Hx(t,e):function(i,o){const s=zx(i,o),a=u_(s)+u_(i.Ie);return Qp(s)&&Qp(i.Ie)?Ux(a):jx(i.serializer,a)}(t,e)}function zO(t,e,n){return t instanceof pl?Bx(t,e):t instanceof gl?Hx(t,e):n}function zx(t,e){return t instanceof Wc?function(r){return Qp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Hc extends Bd{}class pl extends Bd{constructor(e){super(),this.elements=e}}function Bx(t,e){const n=Wx(e);for(const r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class gl extends Bd{constructor(e){super(),this.elements=e}}function Hx(t,e){let n=Wx(e);for(const r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}class Wc extends Bd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function u_(t){return tt(t.integerValue||t.doubleValue)}function Wx(t){return Km(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pl&&i instanceof pl||r instanceof gl&&i instanceof gl?ds(r.elements,i.elements,Jn):r instanceof Wc&&i instanceof Wc?Jn(r.Ie,i.Ie):r instanceof Hc&&i instanceof Hc}(t.transform,e.transform)}class HO{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hd{}function Gx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kx(t.key,mr.none()):new Ul(t.key,t.data,mr.none());{const n=t.data,r=yn.empty();let i=new It(xt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new co(t.key,r,new An(i.toArray()),mr.none())}}function WO(t,e,n){t instanceof Ul?function(i,o,s){const a=i.value.clone(),l=d_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof co?function(i,o,s){if(!Xu(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=d_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(qx(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Na(t,e,n,r){return t instanceof Ul?function(o,s,a,l){if(!Xu(o.precondition,s))return a;const u=o.value.clone(),c=h_(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(o,s,a,l){if(!Xu(o.precondition,s))return a;const u=h_(o.fieldTransforms,l,s),c=s.data;return c.setAll(qx(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Xu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function GO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=zx(r.transform,i||null);o!=null&&(n===null&&(n=yn.empty()),n.set(r.field,o))}return n||null}function c_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ds(r,i,(o,s)=>BO(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ul extends Hd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends Hd{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d_(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,zO(s,a,n[i]))}return r}function h_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,UO(o,s,e))}return r}class Kx extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qO extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&WO(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Na(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Na(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$x();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Gx(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&ds(this.mutations,e.mutations,(n,r)=>c_(n,r))&&ds(this.baseMutations,e.baseMutations,(n,r)=>c_(n,r))}}class Jm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return FO}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Jm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,me;function XO(t){switch(t){default:return ee();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function Qx(t){if(t===void 0)return Xn("GRPC error has no .code"),N.UNKNOWN;switch(t){case et.OK:return N.OK;case et.CANCELLED:return N.CANCELLED;case et.UNKNOWN:return N.UNKNOWN;case et.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case et.INTERNAL:return N.INTERNAL;case et.UNAVAILABLE:return N.UNAVAILABLE;case et.UNAUTHENTICATED:return N.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case et.NOT_FOUND:return N.NOT_FOUND;case et.ALREADY_EXISTS:return N.ALREADY_EXISTS;case et.PERMISSION_DENIED:return N.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case et.ABORTED:return N.ABORTED;case et.OUT_OF_RANGE:return N.OUT_OF_RANGE;case et.UNIMPLEMENTED:return N.UNIMPLEMENTED;case et.DATA_LOSS:return N.DATA_LOSS;default:return ee()}}(me=et||(et={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Qo([4294967295,4294967295],0);function f_(t){const e=JO().encode(t),n=new ZM;return n.update(e),new Uint8Array(n.digest())}function p_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([i,o],0)]}class Zm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ga(`Invalid padding: ${n}`);if(r<0)throw new ga(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ga(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ga(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Qo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Qo.fromNumber(r)));return i.compare(ZO)===1&&(i=new Qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=f_(e),[r,i]=p_(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Zm(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=f_(e),[r,i]=p_(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wd(ie.min(),i,new Be(Se),Sr(),de())}}class zl{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zl(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Yx{constructor(e,n){this.targetId=e,this.fe=n}}class Xx{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class g_{constructor(){this.ge=0,this.pe=y_(),this.ye=$t.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=de(),n=de(),r=de();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new zl(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=y_()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,De(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class e2{constructor(e){this.Be=e,this.ke=new Map,this.qe=Sr(),this.Qe=m_(),this.Ke=new Be(Se)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Xp(o))if(r===0){const s=new q(o.path);this.We(n,s,Ot.newNoDocument(s,ie.min()))}else De(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=no(r).toUint8Array()}catch(l){if(l instanceof Rx)return cs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Zm(s,i,o)}catch(l){return cs(l instanceof ga?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Xp(a.target)){const l=new q(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Ot.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=de();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Wd(e,n,this.Ke,this.qe,r);return this.qe=Sr(),this.Qe=m_(),this.Ke=new Be(Se),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new g_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new It(Se),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new g_),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function m_(){return new Be(q.comparator)}function y_(){return new Be(q.comparator)}const t2={asc:"ASCENDING",desc:"DESCENDING"},n2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r2={and:"AND",or:"OR"};class i2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zp(t,e){return t.useProto3Json||$d(e)?e:{value:e}}function Gc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o2(t,e){return Gc(t,e.toTimestamp())}function Kn(t){return De(!!t),ie.fromTimestamp(function(n){const r=hi(n);return new ct(r.seconds,r.nanos)}(t))}function ey(t,e){return eg(t,e).canonicalString()}function eg(t,e){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Zx(t){const e=$e.fromString(t);return De(iT(e)),e}function tg(t,e){return ey(t.databaseId,e.path)}function lf(t,e){const n=Zx(e);if(n.get(1)!==t.databaseId.projectId)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(tT(n))}function eT(t,e){return ey(t.databaseId,e)}function s2(t){const e=Zx(t);return e.length===4?$e.emptyPath():tT(e)}function ng(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tT(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function v_(t,e,n){return{name:tg(t,e),fields:n.value.mapValue.fields}}function a2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(De(c===void 0||typeof c=="string"),$t.fromBase64String(c||"")):(De(c===void 0||c instanceof Uint8Array),$t.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?N.UNKNOWN:Qx(u.code);return new B(c,u.message||"")}(s);n=new Xx(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lf(t,r.document.name),o=Kn(r.document.updateTime),s=r.document.createTime?Kn(r.document.createTime):ie.min(),a=new yn({mapValue:{fields:r.document.fields}}),l=Ot.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ju(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lf(t,r.document),o=r.readTime?Kn(r.readTime):ie.min(),s=Ot.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ju([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lf(t,r.document),o=r.removedTargetIds||[];n=new Ju([],o,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new YO(i,o),a=r.targetId;n=new Yx(a,s)}}return n}function l2(t,e){let n;if(e instanceof Ul)n={update:v_(t,e.key,e.value)};else if(e instanceof Kx)n={delete:tg(t,e.key)};else if(e instanceof co)n={update:v_(t,e.key,e.data),updateMask:y2(e.fieldMask)};else{if(!(e instanceof qO))return ee();n={verify:tg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Hc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wc)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:o2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee()}(t,e.precondition)),n}function u2(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Kn(i.updateTime):Kn(o);return s.isEqual(ie.min())&&(s=Kn(o)),new HO(s,i.transformResults||[])}(n,e))):[]}function c2(t,e){return{documents:[eT(t,e.path)]}}function d2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eT(t,i);const o=function(u){if(u.length!==0)return rT(Zn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:To(f.field),direction:p2(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Zp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function h2(t){let e=s2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=nT(d);return f instanceof Zn&&Dx(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(_){return new Bc(Co(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,$d(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new zc(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new zc(p,f)}(n.endAt)),kO(e,i,s,o,a,"F",l,u)}function f2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Co(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Co(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Co(n.unaryFilter.field);return lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Co(n.unaryFilter.field);return lt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(Co(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>nT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function p2(t){return t2[t]}function g2(t){return n2[t]}function m2(t){return r2[t]}function To(t){return{fieldPath:t.canonicalString()}}function Co(t){return xt.fromServerFormat(t.fieldPath)}function rT(t){return t instanceof lt?function(n){if(n.op==="=="){if(i_(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(r_(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i_(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(r_(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:g2(n.op),value:n.value}}}(t):t instanceof Zn?function(n){const r=n.getFilters().map(i=>rT(i));return r.length===1?r[0]:{compositeFilter:{op:m2(n.op),filters:r}}}(t):ee()}function y2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=$t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.ct=e}}function _2(t){const e=h2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this._n=new E2}addToCollectionParentIndex(e,n){return this._n.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}deleteAllFieldIndexes(e){return D.resolve()}createTargetIndexes(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(di.min())}updateCollectionGroup(e,n,r){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}}class E2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It($e.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ps(0)}static Ln(){return new ps(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.changes=new As(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?D.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Na(r.mutation,i,An.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=pa();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Sr();const s=Da(),a=function(){return Da()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof co)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Na(c.mutation,u,c.mutation.getFieldMask(),ct.now())):s.set(u.key,An.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new x2(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Da();let i=new Be((s,a)=>s-a),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||An.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=$x();c.forEach(f=>{if(!o.has(f)){const p=Gx(n.get(f),r.get(f));p!==null&&d.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return D.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):D.resolve(ji());let a=-1,l=o;return s.next(u=>D.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?D.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,de())).next(c=>({batchId:a,changes:Vx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=pa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=pa();return this.indexManager.getCollectionParents(e,o).next(a=>D.forEach(a,l=>{const u=function(d,f){return new jd(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Ot.newInvalidDocument(c)))});let a=pa();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Na(c.mutation,u,An.empty(),ct.now()),zd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return D.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),D.resolve()}getNamedQuery(e,n){return D.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:_2(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.overlays=new Be(q.comparator),this.hr=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ji();return D.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),D.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),D.resolve()}getOverlaysForCollection(e,n,r){const i=ji(),o=n.length+1,s=new q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return D.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Be((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ji(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ji(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return D.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new QO(n,r));let o=this.hr.get(n);o===void 0&&(o=de(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.Pr=new It(pt.Ir),this.Tr=new It(pt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new pt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new pt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new q(new $e([])),r=new pt(n,e),i=new pt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new q(new $e([])),r=new pt(n,e),i=new pt(n,e+1);let o=de();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new pt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return q.comparator(e.key,n.key)||Se(e.pr,n.pr)}static Er(e,n){return Se(e.pr,n.pr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new It(pt.Ir)}checkEmpty(e){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new KO(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new pt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(s)}lookupMutationBatch(e,n){return D.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return D.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),D.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(Se);return n.forEach(i=>{const o=new pt(i,0),s=new pt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),D.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;q.isDocumentKey(o)||(o=o.child(""));const s=new pt(new q(o),0);let a=new It(Se);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),D.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return D.forEach(n.mutations,i=>{const o=new pt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new pt(n,0),i=this.wr.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,D.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.vr=e,this.docs=function(){return new Be(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=Sr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ot.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Sr();const s=n.path,a=new q(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||dO(cO(c),r)<=0||(i.has(c.key)||zd(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return D.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ee()}Fr(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new A2(this)}getSize(e){return D.resolve(this.size)}}class A2 extends S2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.persistence=e,this.Mr=new As(n=>Qm(n),Ym),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ty,this.targetCount=0,this.Lr=ps.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),D.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ps(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.qn(n),D.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),D.waitFor(o).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),D.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),D.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this.Br={},this.overlays={},this.kr=new Wm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new k2(this),this.indexManager=new w2,this.remoteDocumentCache=function(i){return new P2(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new v2(n),this.$r=new C2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new R2(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);const i=new N2(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return D.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class N2 extends fO{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.zr=new ty,this.jr=null}static Hr(e){return new ny(e)}get Jr(){if(this.jr)return this.jr;throw ee()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),D.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Jr,r=>{const i=q.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return D.or([()=>D.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=de(),i=de();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ry(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return NN()?8:$i.v(it())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new b2;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ra()<=pe.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),D.resolve()):(ra()<=pe.DEBUG&&L("QueryEngine","Query:",xo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ra()<=pe.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):D.resolve())}ji(e,n){if(l_(n))return D.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jp(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=de(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,Jp(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return l_(n)||i.isEqual(ie.min())?D.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?D.resolve(null):(ra()<=pe.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xo(n)),this.es(e,s,n,uO(i,-1)).next(a=>a))})}Zi(e,n){let r=new It(Fx(e));return n.forEach((i,o)=>{zd(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return ra()<=pe.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",xo(n)),this.zi.getDocumentsMatchingQuery(e,n,di.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Be(Se),this.rs=new As(o=>Qm(o),Ym),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function F2(t,e,n,r){return new O2(t,e,n,r)}async function oT(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=de();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function L2(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let p=D.resolve();return f.forEach(_=>{p=p.next(()=>c.getEntry(l,_)).next(g=>{const w=u.docVersions.get(_);De(w!==null),g.version.compareTo(w)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=de();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sT(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function V2(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,d)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken($t.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(g,w,y){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,c)&&a.push(n.Qr.updateTargetData(o,p))});let l=Sr(),u=de();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push($2(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ie.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return D.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function $2(t,e,n){let r=de(),i=de();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Sr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function j2(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U2(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,D.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Kr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function rg(t,e,n){const r=oe(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!jl(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function __(t,e,n){const r=oe(t);let i=ie.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=oe(l),f=d.rs.get(c);return f!==void 0?D.resolve(d.ns.get(f)):d.Qr.getTargetData(u,c)}(r,s,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:de())).next(a=>(z2(r,bO(e),a),{documents:a,hs:o})))}function z2(t,e,n){let r=t.ss.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class w_{constructor(){this.activeTargetIds=$O()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B2{constructor(){this.no=new w_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new w_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function uf(){return Pu===null?Pu=function(){return 268435456+Math.round(2147483648*Math.random())}():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class q2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=uf(),l=this.bo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(L("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw cs("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=W2[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=uf();return new Promise((s,a)=>{const l=new JM;l.setWithCredentials(!0),l.listenOnce(YM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case af.NO_ERROR:const c=l.getResponseJson();L(Dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case af.TIMEOUT:L(Dt,`RPC '${e}' ${o} timed out`),a(new B(N.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const d=l.getStatus();if(L(Dt,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const _=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(y)>=0?y:N.UNKNOWN}(p.status);a(new B(_,p.message))}else a(new B(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(N.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{L(Dt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);L(Dt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=uf(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=KM(),a=QM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");L(Dt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let f=!1,p=!1;const _=new G2({lo:w=>{p?L(Dt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(L(Dt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),L(Dt,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},ho:()=>d.close()}),g=(w,y,m)=>{w.listen(y,v=>{try{m(v)}catch(T){setTimeout(()=>{throw T},0)}})};return g(d,Cu.EventType.OPEN,()=>{p||L(Dt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Cu.EventType.CLOSE,()=>{p||(p=!0,L(Dt,`RPC '${e}' stream ${i} transport closed`),_.Vo())}),g(d,Cu.EventType.ERROR,w=>{p||(p=!0,cs(Dt,`RPC '${e}' stream ${i} transport errored:`,w),_.Vo(new B(N.UNAVAILABLE,"The operation could not be completed")))}),g(d,Cu.EventType.MESSAGE,w=>{var y;if(!p){const m=w.data[0];De(!!m);const v=m,T=v.error||((y=v[0])===null||y===void 0?void 0:y.error);if(T){L(Dt,`RPC '${e}' stream ${i} received error:`,T);const R=T.status;let S=function(M){const $=et[M];if($!==void 0)return Qx($)}(R),P=T.message;S===void 0&&(S=N.INTERNAL,P="Unknown error status: "+R+" with message "+T.message),p=!0,_.Vo(new B(S,P)),d.close()}else L(Dt,`RPC '${e}' stream ${i} received:`,m),_.mo(m)}}),g(a,XM.STAT_EVENT,w=>{w.stat===X0.PROXY?L(Dt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===X0.NOPROXY&&L(Dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.Ro()},0),_}}function cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){return new i2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new aT(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new B(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K2 extends lT{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=a2(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?Kn(s.readTime):ie.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=ng(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Xp(l)?{documents:c2(o,l)}:{query:d2(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Jx(o,s.resumeToken);const u=Zp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Gc(o,s.snapshotVersion.toTimestamp());const u=Zp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=f2(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=ng(this.serializer),n.removeTarget=e,this.t_(n)}}class Q2 extends lT{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=u2(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.T_(r,n)}return De(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=ng(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>l2(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,eg(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(N.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,eg(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(N.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class X2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Xn(n),this.g_=!1):L("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{ho(this)&&(L("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=oe(l);u.v_.add(4),await Bl(u),u.x_.set("Unknown"),u.v_.delete(4),await qd(u)}(this))})}),this.x_=new X2(r,i)}}async function qd(t){if(ho(t))for(const e of t.F_)await e(!0)}async function Bl(t){for(const e of t.F_)await e(!1)}function uT(t,e){const n=oe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),ay(n)?sy(n):ks(n).Jo()&&oy(n,e))}function iy(t,e){const n=oe(t),r=ks(n);n.C_.delete(e),r.Jo()&&cT(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ho(n)&&n.x_.set("Unknown"))}function oy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ks(t).c_(e)}function cT(t,e){t.O_.Oe(e),ks(t).l_(e)}function sy(t){t.O_=new e2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ks(t).start(),t.x_.p_()}function ay(t){return ho(t)&&!ks(t).Ho()&&t.C_.size>0}function ho(t){return oe(t).v_.size===0}function dT(t){t.O_=void 0}async function Z2(t){t.C_.forEach((e,n)=>{oy(t,e)})}async function eF(t,e){dT(t),ay(t)?(t.x_.S_(e),sy(t)):t.x_.set("Unknown")}async function tF(t,e,n){if(t.x_.set("Online"),e instanceof Xx&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qc(t,r)}else if(e instanceof Ju?t.O_.$e(e):e instanceof Yx?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ie.min()))try{const r=await sT(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken($t.EMPTY_BYTE_STRING,c.snapshotVersion)),cT(o,l);const d=new Kr(c.target,l,u,c.sequenceNumber);oy(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){L("RemoteStore","Failed to raise snapshot:",r),await qc(t,r)}}async function qc(t,e,n){if(!jl(e))throw e;t.v_.add(1),await Bl(t),t.x_.set("Offline"),n||(n=()=>sT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{L("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await qd(t)})}function hT(t,e){return e().catch(n=>qc(t,n,e))}async function Kd(t){const e=oe(t),n=fi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;nF(e);)try{const i=await j2(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,rF(e,i)}catch(i){await qc(e,i)}fT(e)&&pT(e)}function nF(t){return ho(t)&&t.D_.length<10}function rF(t,e){t.D_.push(e);const n=fi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function fT(t){return ho(t)&&!fi(t).Ho()&&t.D_.length>0}function pT(t){fi(t).start()}async function iF(t){fi(t).d_()}async function oF(t){const e=fi(t);for(const n of t.D_)e.I_(n.mutations)}async function sF(t,e,n){const r=t.D_.shift(),i=Jm.from(r,e,n);await hT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kd(t)}async function aF(t,e){e&&fi(t).P_&&await async function(r,i){if(function(s){return XO(s)&&s!==N.ABORTED}(i.code)){const o=r.D_.shift();fi(r).Zo(),await hT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Kd(r)}}(t,e),fT(t)&&pT(t)}async function S_(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const r=ho(n);n.v_.add(3),await Bl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await qd(n)}async function lF(t,e){const n=oe(t);e?(n.v_.delete(2),await qd(n)):e||(n.v_.add(2),await Bl(n),n.x_.set("Unknown"))}function ks(t){return t.N_||(t.N_=function(n,r,i){const o=oe(n);return o.R_(),new K2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Z2.bind(null,t),To:eF.bind(null,t),u_:tF.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),ay(t)?sy(t):t.x_.set("Unknown")):(await t.N_.stop(),dT(t))})),t.N_}function fi(t){return t.L_||(t.L_=function(n,r,i){const o=oe(n);return o.R_(),new Q2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:iF.bind(null,t),To:aF.bind(null,t),E_:oF.bind(null,t),T_:sF.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Kd(t)):(await t.L_.stop(),t.D_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ly(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(t,e){if(Xn("AsyncQueue",`${e}: ${t}`),jl(t))return new B(N.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=pa(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new Yo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.B_=new Be(q.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ee():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class gs{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new gs(e,n,Yo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class cF{constructor(){this.queries=new As(e=>Ox(e),Ud),this.onlineState="Unknown",this.W_=new Set}}async function gT(t,e){const n=oe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new uF,r=e.U_()?0:1);try{switch(r){case 0:o.q_=await n.onListen(i,!0);break;case 1:o.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=uy(s,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&cy(n)}async function mT(t,e){const n=oe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dF(t,e){const n=oe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&cy(n)}function hF(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function cy(t){t.W_.forEach(e=>{e.next()})}var ig,T_;(T_=ig||(ig={})).j_="default",T_.Cache="cache";class yT{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.key=e}}class _T{constructor(e){this.key=e}}class fF{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=de(),this.mutatedKeys=de(),this.ha=Fx(e),this.Pa=new Yo(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new x_,i=n?n.Pa:this.Pa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=zd(this.query,d)?d:null,_=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?_!==g&&(r.track({type:3,doc:p}),w=!0):this.da(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.ha(p,l)>0||u&&this.ha(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(p?(s=s.add(p),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort((c,d)=>function(p,_){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return g(p)-g(_)}(c.type,d.type)||this.ha(c.doc,d.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,u=l!==this.ca;return this.ca=l,s.length!==0||u?{snapshot:new gs(this.query,e.Pa,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new x_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=de(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new _T(r))}),this.la.forEach(r=>{e.has(r)||n.push(new vT(r))}),n}fa(e){this.ua=e.hs,this.la=de();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return gs.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class pF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gF{constructor(e){this.key=e,this.pa=!1}}class mF{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new As(a=>Ox(a),Ud),this.Sa=new Map,this.ba=new Set,this.Da=new Be(q.comparator),this.Ca=new Map,this.va=new ty,this.Fa={},this.Ma=new Map,this.xa=ps.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function yF(t,e,n=!0){const r=CT(t);let i;const o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=await wT(r,e,n,!0),i}async function vF(t,e){const n=CT(t);await wT(n,e,!0,!1)}async function wT(t,e,n,r){const i=await U2(t.localStore,qn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await _F(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&uT(t.remoteStore,i),a}async function _F(t,e,n,r,i){t.Na=(d,f,p)=>async function(g,w,y,m){let v=w.view.Ta(y);v.Xi&&(v=await __(g.localStore,w.query,!1).then(({documents:P})=>w.view.Ta(P,v)));const T=m&&m.targetChanges.get(w.targetId),R=m&&m.targetMismatches.get(w.targetId)!=null,S=w.view.applyChanges(v,g.isPrimaryClient,T,R);return I_(g,w.targetId,S.Va),S.snapshot}(t,d,f,p);const o=await __(t.localStore,e,!0),s=new fF(e,o.hs),a=s.Ta(o.documents),l=zl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);I_(t,n,u.Va);const c=new pF(e,n,s);return t.wa.set(e,c),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}async function wF(t,e,n){const r=oe(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!Ud(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iy(r.remoteStore,i.targetId),og(r,i.targetId)}).catch($l)):(og(r,i.targetId),await rg(r.localStore,i.targetId,!0))}async function EF(t,e){const n=oe(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iy(n.remoteStore,r.targetId))}async function SF(t,e,n){const r=AF(t);try{const i=await function(s,a){const l=oe(s),u=ct.now(),c=a.reduce((p,_)=>p.add(_.key),de());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=Sr(),g=de();return l.os.getEntries(p,c).next(w=>{_=w,_.forEach((y,m)=>{m.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(w=>{d=w;const y=[];for(const m of a){const v=GO(m,d.get(m.key).overlayedDocument);v!=null&&y.push(new co(m.key,v,Px(v.value.mapValue),mr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,a)}).next(w=>{f=w;const y=w.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,w.batchId,y)})}).then(()=>({batchId:f.batchId,changes:Vx(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Fa[s.currentUser.toKey()];u||(u=new Be(Se)),u=u.insert(a,l),s.Fa[s.currentUser.toKey()]=u}(r,i.batchId,n),await Hl(r,i.changes),await Kd(r.remoteStore)}catch(i){const o=uy(i,"Failed to persist write");n.reject(o)}}async function ET(t,e){const n=oe(t);try{const r=await V2(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ca.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?De(s.pa):i.removedDocuments.size>0&&(De(s.pa),s.pa=!1))}),await Hl(n,r,e)}catch(r){await $l(r)}}function C_(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((o,s)=>{const a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=oe(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.Q_)f.G_(a)&&(u=!0)}),u&&cy(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xF(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),o=i&&i.key;if(o){let s=new Be(q.comparator);s=s.insert(o,Ot.newNoDocument(o,ie.min()));const a=de().add(o),l=new Wd(ie.min(),new Map,new Be(Se),s,a);await ET(r,l),r.Da=r.Da.remove(o),r.Ca.delete(e),dy(r)}else await rg(r.localStore,e,!1).then(()=>og(r,e,n)).catch($l)}async function TF(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await L2(n.localStore,e);xT(n,r,null),ST(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hl(n,i)}catch(i){await $l(i)}}async function CF(t,e,n){const r=oe(t);try{const i=await function(s,a){const l=oe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(De(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);xT(r,e,n),ST(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hl(r,i)}catch(i){await $l(i)}}function ST(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function xT(t,e,n){const r=oe(t);let i=r.Fa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||TT(t,r)})}function TT(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(iy(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),dy(t))}function I_(t,e,n){for(const r of n)r instanceof vT?(t.va.addReference(r.key,e),IF(t,r)):r instanceof _T?(L("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||TT(t,r.key)):ee()}function IF(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(L("SyncEngine","New document in limbo: "+n),t.ba.add(r),dy(t))}function dy(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new q($e.fromString(e)),r=t.xa.next();t.Ca.set(r,new gF(n)),t.Da=t.Da.insert(n,r),uT(t.remoteStore,new Kr(qn(Xm(n.path)),r,"TargetPurposeLimboResolution",Wm._e))}}async function Hl(t,e,n){const r=oe(t),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{s.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=ry.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.ya.u_(i),await async function(l,u){const c=oe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>D.forEach(u,f=>D.forEach(f.qi,p=>c.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>D.forEach(f.Qi,p=>c.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!jl(d))throw d;L("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=c.ns.get(f),_=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(_);c.ns=c.ns.insert(f,g)}}}(r.localStore,o))}async function RF(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const r=await oT(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(l=>{l.reject(new B(N.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hl(n,r.us)}}function PF(t,e){const n=oe(t),r=n.Ca.get(e);if(r&&r.pa)return de().add(r.key);{let i=de();const o=n.Sa.get(e);if(!o)return i;for(const s of o){const a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function CT(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ET.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xF.bind(null,e),e.ya.u_=dF.bind(null,e.eventManager),e.ya.La=hF.bind(null,e.eventManager),e}function AF(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CF.bind(null,e),e}class R_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return F2(this.persistence,new M2,e.initialUser,this.serializer)}createPersistence(e){return new D2(ny.Hr,this.serializer)}createSharedClientState(e){return new B2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RF.bind(null,this.syncEngine),await lF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cF}()}createDatastore(e){const n=Gd(e.databaseInfo.databaseId),r=function(o){return new q2(o)}(e.databaseInfo);return function(o,s,a,l){return new Y2(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new J2(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>C_(this.syncEngine,n,0),function(){return E_.D()?new E_:new H2}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new mF(i,o,s,a,l,u);return c&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=oe(r);L("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Bl(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=Cx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{L("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function df(t,e){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bF(t);L("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>S_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>S_(e.remoteStore,i)),t._onlineComponents=e}function NF(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function bF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{await df(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!NF(n))throw n;cs("Error using user provided cache. Falling back to memory cache: "+n),await df(t,new R_)}}else L("FirestoreClient","Using default OfflineComponentProvider"),await df(t,new R_);return t._offlineComponents}async function RT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),await P_(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),await P_(t,new kF))),t._onlineComponents}function MF(t){return RT(t).then(e=>e.syncEngine)}async function PT(t){const e=await RT(t),n=e.eventManager;return n.onListen=yF.bind(null,e.syncEngine),n.onUnlisten=wF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EF.bind(null,e.syncEngine),n}function OF(t,e,n={}){const r=new Gn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new IT({next:f=>{s.enqueueAndForget(()=>mT(o,d));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new B(N.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new B(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new yT(Xm(a.path),c,{includeMetadataChanges:!0,ta:!0});return gT(o,d)}(await PT(t),t.asyncQueue,e,n,r)),r.promise}function FF(t,e,n={}){const r=new Gn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new IT({next:f=>{s.enqueueAndForget(()=>mT(o,d)),f.fromCache&&l.source==="server"?u.reject(new B(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new yT(a,c,{includeMetadataChanges:!0,ta:!0});return gT(o,d)}(await PT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t,e,n){if(!n)throw new B(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LF(t,e,n,r){if(e===!0&&r===!0)throw new B(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k_(t){if(!q.isDocumentKey(t))throw new B(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function D_(t){if(q.isDocumentKey(t))throw new B(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function io(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hy(t);throw new B(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eO;switch(r.type){case"firstParty":return new iO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=A_.get(n);r&&(L("ComponentProvider","Removing Datastore"),A_.delete(n),r.terminate())}(this),Promise.resolve()}}function VF(t,e,n,r={}){var i;const o=(t=io(t,Qd))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=bt.MOCK_USER;else{a=IN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bt(u)}t._authCredentials=new tO(new Tx(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yd(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class ai extends Yd{constructor(e,n,r){super(e,n,Xm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new q(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function hf(t,e,...n){if(t=tn(t),kT("collection","path",e),t instanceof Qd){const r=$e.fromString(e,...n);return D_(r),new ai(t,null,r)}{if(!(t instanceof an||t instanceof ai))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return D_(r),new ai(t.firestore,null,r)}}function ia(t,e,...n){if(t=tn(t),arguments.length===1&&(e=Cx.newId()),kT("doc","path",e),t instanceof Qd){const r=$e.fromString(e,...n);return k_(r),new an(t,null,new q(r))}{if(!(t instanceof an||t instanceof ai))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return k_(r),new an(t.firestore,t instanceof ai?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new aT(this,"async_queue_retry"),this.cu=()=>{const n=cf();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=cf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Gn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!jl(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Xn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=ly.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&ee()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class Xd extends Qd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new $F}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||DT(this),this._firestoreClient.terminate()}}function jF(t,e){const n=typeof t=="object"?t:v1(),r=typeof t=="string"?t:e||"(default)",i=_m(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=TN("firestore");o&&VF(i,...o)}return i}function fy(t){return t._firestoreClient||DT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function DT(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new vO(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,AT(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new DF(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ms($t.fromBase64String(e))}catch(n){throw new B(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ms($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=/^__.*__$/;class zF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ul(e,this.data,n,this.fieldTransforms)}}function bT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class my{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new my(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Kc(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(bT(this.Vu)&&UF.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class BF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gd(e)}Cu(e,n,r,i=!1){return new my({Vu:e,methodName:n,Du:r,path:xt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HF(t){const e=t._freezeSettings(),n=Gd(t._databaseId);return new BF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WF(t,e,n,r,i,o={}){const s=t.Cu(o.merge||o.mergeFields?2:0,e,n,i);LT("Data must be an object, but it was:",s,r);const a=OT(r,s);let l,u;if(o.merge)l=new An(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=GF(e,d,n);if(!s.contains(f))throw new B(N.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);KF(c,f)||c.push(f)}l=new An(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new zF(new yn(a),l,u)}function MT(t,e){if(FT(t=tn(t)))return LT("Unsupported field value:",e,t),OT(t,e);if(t instanceof NT)return function(r,i){if(!bT(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=MT(a,i.wu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ct.fromDate(r);return{timestampValue:Gc(i.serializer,o)}}if(r instanceof ct){const o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gc(i.serializer,o)}}if(r instanceof gy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ms)return{bytesValue:Jx(i.serializer,r._byteString)};if(r instanceof an){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ey(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${hy(r)}`)}(t,e)}function OT(t,e){const n={};return Ix(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(t,(r,i)=>{const o=MT(i,e.fu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function FT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof gy||t instanceof ms||t instanceof an||t instanceof NT)}function LT(t,e,n){if(!FT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=hy(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function GF(t,e,n){if((e=tn(e))instanceof py)return e._internalPath;if(typeof e=="string")return VT(t,e);throw Kc("Field path arguments must be of type string or ",t,!1,void 0,n)}const qF=new RegExp("[~\\*/\\[\\]]");function VT(t,e,n){if(e.search(qF)>=0)throw Kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new py(...e.split("."))._internalPath}catch{throw Kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kc(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new B(N.INVALID_ARGUMENT,a+t+l)}function KF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QF extends $T{data(){return super.data()}}function jT(t,e){return typeof e=="string"?VT(t,e):e instanceof py?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XF{convertValue(e,n="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(no(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ps(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new gy(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dl(e));default:return null}}convertTimestamp(e){const n=hi(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);De(iT(r));const i=new hl(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(n)||Xn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UT extends $T{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zu extends UT{data(e={}){return super.data(e)}}class ZF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ma(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zu(this._firestore,this._userDataWriter,r.key,r,new ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Zu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ma(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Zu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ma(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:eL(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){t=io(t,an);const e=io(t.firestore,Xd);return OF(fy(e),t._key).then(n=>rL(e,t,n))}class zT extends XF{constructor(e){super(),this.firestore=e}convertBytes(e){return new ms(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function tL(t){t=io(t,Yd);const e=io(t.firestore,Xd),n=fy(e),r=new zT(e);return YF(t._query),FF(n,t._query).then(i=>new ZF(e,r,t,i))}function sg(t,e,n){t=io(t,an);const r=io(t.firestore,Xd),i=JF(t.converter,e,n);return nL(r,[WF(HF(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mr.none())])}function nL(t,e){return function(r,i){const o=new Gn;return r.asyncQueue.enqueueAndForget(async()=>SF(await MF(r),i,o)),o.promise}(fy(t),e)}function rL(t,e,n){const r=n.docs.get(e._key),i=new zT(t);return new UT(t,i,e._key,r,new ma(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Rs=i})(Ts),ls(new Zi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Xd(new nO(r.getProvider("auth-internal")),new sO(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),si(J0,"4.5.1",e),si(J0,"4.5.1","esm2017")})();var Un=function(){return Un=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Un.apply(this,arguments)};function Wl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iL(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function BT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oL=BT,HT=new Al("auth","Firebase",BT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new ym("@firebase/auth");function sL(t,...e){Qc.logLevel<=pe.WARN&&Qc.warn(`Auth (${Ts}): ${t}`,...e)}function ec(t,...e){Qc.logLevel<=pe.ERROR&&Qc.error(`Auth (${Ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw yy(t,...e)}function Qn(t,...e){return yy(t,...e)}function WT(t,e,n){const r=Object.assign(Object.assign({},oL()),{[e]:n});return new Al("auth","Firebase",r).create(e,{appName:t.name})}function li(t){return WT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HT.create(t,...e)}function J(t,e,...n){if(!t)throw yy(e,...n)}function dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ec(e),new Error(e)}function xr(t,e){t||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aL(){return M_()==="http:"||M_()==="https:"}function M_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aL()||AN()||"connection"in navigator)?navigator.onLine:!0}function uL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,xr(n>e,"Short delay should be less than long delay!"),this.isMobile=RN()||kN()}get(){return lL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e){xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new Gl(3e4,6e4);function fo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Si(t,e,n,r,i={}){return qT(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=kl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),GT.fetch()(KT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function qT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cL),e);try{const i=new fL(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Au(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Au(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Au(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WT(t,c,u);On(t,c)}}catch(i){if(i instanceof Ir)throw i;On(t,"network-request-failed",{message:String(i)})}}async function Jd(t,e,n,r,i={}){const o=await Si(t,e,n,r,i);return"mfaPendingCredential"in o&&On(t,"multi-factor-auth-required",{_serverResponse:o}),o}function KT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vy(t.config,i):`${t.config.apiScheme}://${i}`}function hL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),dL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(t,e,r);return i.customData._tokenResponse=n,i}function O_(t){return t!==void 0&&t.enterprise!==void 0}class pL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function gL(t,e){return Si(t,"GET","/v2/recaptchaConfig",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e){return Si(t,"POST","/v1/accounts:delete",e)}async function QT(t,e){return Si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yL(t,e=!1){const n=tn(t),r=await n.getIdToken(e),i=_y(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ba(ff(i.auth_time)),issuedAtTime:ba(ff(i.iat)),expirationTime:ba(ff(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ff(t){return Number(t)*1e3}function _y(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ec("JWT malformed, contained fewer than 3 sections"),null;try{const i=c1(n);return i?JSON.parse(i):(ec("Failed to decode base64 JWT payload"),null)}catch(i){return ec("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function F_(t){const e=_y(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ir&&vL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ba(this.lastLoginAt),this.creationTime=ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ml(t,QT(n,{idToken:r}));J(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?YT(o.providerUserInfo):[],a=EL(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new lg(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function wL(t){const e=tn(t);await Yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YT(t){return t.map(e=>{var{providerId:n}=e,r=Wl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e){const n=await qT(t,{},async()=>{const r=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=KT(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GT.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xL(t,e){return Si(t,"POST","/v2/accounts:revokeToken",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=F_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await SL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Xo;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Wl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _L(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ml(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yL(this,e)}reload(){return wL(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await ml(this,mL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:T,isAnonymous:R,providerData:S,stsTokenManager:P}=n;J(v&&P,e,"internal-error");const A=Xo.fromJSON(this.name,P);J(typeof v=="string",e,"internal-error"),Or(d,e.name),Or(f,e.name),J(typeof T=="boolean",e,"internal-error"),J(typeof R=="boolean",e,"internal-error"),Or(p,e.name),Or(_,e.name),Or(g,e.name),Or(w,e.name),Or(y,e.name),Or(m,e.name);const M=new hr({uid:v,auth:e,email:f,emailVerified:T,displayName:d,isAnonymous:R,photoURL:_,phoneNumber:p,tenantId:g,stsTokenManager:A,createdAt:y,lastLoginAt:m});return S&&Array.isArray(S)&&(M.providerData=S.map($=>Object.assign({},$))),w&&(M._redirectEventId=w),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xo;i.updateFromServerResponse(n);const o=new hr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yc(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];J(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?YT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Xo;a.updateFromIdToken(r);const l=new hr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new lg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;function fr(t){xr(t instanceof Function,"Expected a class definition");let e=L_.get(t);return e?(xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,L_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XT.type="NONE";const V_=XT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t,e,n){return`firebase:${t}:${e}:${n}`}class Jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=tc(this.userKey,i.apiKey,o),this.fullPersistenceKey=tc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jo(fr(V_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||fr(V_);const s=tc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=hr._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Jo(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Jo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nC(e))return"Blackberry";if(rC(e))return"Webos";if(wy(e))return"Safari";if((e.includes("chrome/")||ZT(e))&&!e.includes("edge/"))return"Chrome";if(tC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JT(t=it()){return/firefox\//i.test(t)}function wy(t=it()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZT(t=it()){return/crios\//i.test(t)}function eC(t=it()){return/iemobile/i.test(t)}function tC(t=it()){return/android/i.test(t)}function nC(t=it()){return/blackberry/i.test(t)}function rC(t=it()){return/webos/i.test(t)}function Zd(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TL(t=it()){var e;return Zd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CL(){return DN()&&document.documentMode===10}function iC(t=it()){return Zd(t)||tC(t)||rC(t)||nC(t)||/windows phone/i.test(t)||eC(t)}function IL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e=[]){let n;switch(t){case"Browser":n=$_(it());break;case"Worker":n=`${$_(it())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e={}){return Si(t,"GET","/v2/passwordPolicy",fo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=6;class kL{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:AL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new RL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await QT(this,{idToken:e}),r=await hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(li(this));const n=e?tn(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PL(this),n=new kL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ds(t){return tn(t)}class j_{constructor(e){this.auth=e,this.observer=null,this.addObserver=VN(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NL(t){eh=t}function sC(t){return eh.loadJS(t)}function bL(){return eh.recaptchaEnterpriseScript}function ML(){return eh.gapiScript}function OL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const FL="recaptcha-enterprise",LL="NO_RECAPTCHA";class VL{constructor(e){this.type=FL,this.auth=Ds(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{gL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new pL(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;O_(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(LL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&O_(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=bL();l.length!==0&&(l+=a),sC(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function U_(t,e,n,r=!1){const i=new VL(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function z_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await U_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await U_(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t,e){const n=_m(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(bc(o,e??{}))return i;On(i,"already-initialized")}return n.initialize({options:e})}function jL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UL(t,e,n){const r=Ds(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=aC(e),{host:s,port:a}=zL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||BL()}function aC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zL(t){const e=aC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:B_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:B_(s)}}}function B_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function HL(t,e){return Si(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e){return Jd(t,"POST","/v1/accounts:signInWithPassword",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e){return Jd(t,"POST","/v1/accounts:signInWithEmailLink",fo(t,e))}async function qL(t,e){return Jd(t,"POST","/v1/accounts:signInWithEmailLink",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Ey{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z_(e,n,"signInWithPassword",WL);case"emailLink":return GL(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z_(e,r,"signUpPassword",HL);case"emailLink":return qL(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t,e){return Jd(t,"POST","/v1/accounts:signInWithIdp",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="http://localhost";class oo extends Ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Wl(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new oo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Zo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zo(e,n)}buildRequest(){const e={requestUri:KL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YL(t){const e=ca(da(t)).link,n=e?ca(da(e)).deep_link_id:null,r=ca(da(t)).deep_link_id;return(r?ca(da(r)).link:null)||r||n||e||t}class Sy{constructor(e){var n,r,i,o,s,a;const l=ca(da(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=QL((i=l.mode)!==null&&i!==void 0?i:null);J(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=YL(e);try{return new Sy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.providerId=Ns.PROVIDER_ID}static credential(e,n){return yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sy.parseLink(n);return J(r,"argument-error"),yl._fromEmailAndCode(e,r.code,r.tenantId)}}Ns.PROVIDER_ID="password";Ns.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ns.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends lC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends ql{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oo._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends ql{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends ql{constructor(){super("twitter.com")}static credential(e,n){return oo._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await hr._fromIdTokenResponse(e,r,i),s=H_(r);return new ys({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=H_(r);return new ys({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function H_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Ir{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xc(e,n,r,i)}}function uC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(t,o,e,r):o})}async function XL(t,e,n=!1){const r=await ml(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ys._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(li(r));const i="reauthenticate";try{const o=await ml(t,uC(r,i,e,t),n);J(o.idToken,r,"internal-error");const s=_y(o.idToken);J(s,r,"internal-error");const{sub:a}=s;return J(t.uid===a,r,"user-mismatch"),ys._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&On(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(t,e,n=!1){if(ur(t.app))return Promise.reject(li(t));const r="signIn",i=await uC(t,r,e),o=await ys._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function ZL(t,e){return cC(Ds(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t){const e=Ds(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function tV(t,e,n){return ur(t.app)?Promise.reject(li(t)):ZL(tn(t),Ns.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eV(t),r})}function nV(t,e,n,r){return tn(t).onIdTokenChanged(e,n,r)}function rV(t,e,n){return tn(t).beforeAuthStateChanged(e,n)}function iV(t,e,n,r){return tn(t).onAuthStateChanged(e,n,r)}function oV(t){return tn(t).signOut()}const Jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){const t=it();return wy(t)||Zd(t)}const aV=1e3,lV=10;class hC extends dC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sV()&&IL(),this.fallbackToPolling=iC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);CL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hC.type="LOCAL";const uV=hC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC extends dC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fC.type="SESSION";const pC=fC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new th(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await cV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=xy("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return window}function hV(t){Yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function fV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gV(){return gC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="firebaseLocalStorageDb",mV=1,Zc="firebaseLocalStorage",yC="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nh(t,e){return t.transaction([Zc],e?"readwrite":"readonly").objectStore(Zc)}function yV(){const t=indexedDB.deleteDatabase(mC);return new Kl(t).toPromise()}function ug(){const t=indexedDB.open(mC,mV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zc,{keyPath:yC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zc)?e(r):(r.close(),await yV(),e(await ug()))})})}async function W_(t,e,n){const r=nh(t,!0).put({[yC]:e,value:n});return new Kl(r).toPromise()}async function vV(t,e){const n=nh(t,!1).get(e),r=await new Kl(n).toPromise();return r===void 0?null:r.value}function G_(t,e){const n=nh(t,!0).delete(e);return new Kl(n).toPromise()}const _V=800,wV=3;class vC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ug(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(gV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fV(),!this.activeServiceWorker)return;this.sender=new dV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ug();return await W_(e,Jc,"1"),await G_(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>W_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=nh(i,!1).getAll();return new Kl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vC.type="LOCAL";const EV=vC;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t,e){return e?fr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends Ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xV(t){return cC(t.auth,new Ty(t),t.bypassAuthState)}function TV(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),JL(n,new Ty(t),t.bypassAuthState)}async function CV(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),XL(n,new Ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xV;case"linkViaPopup":case"linkViaRedirect":return CV;case"reauthViaPopup":case"reauthViaRedirect":return TV;default:On(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new Gl(2e3,1e4);class Uo extends _C{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IV.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="pendingRedirect",nc=new Map;class PV extends _C{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nc.get(this.auth._key());if(!e){try{const r=await AV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nc.set(this.auth._key(),e)}return this.bypassAuthState||nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AV(t,e){const n=NV(e),r=DV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kV(t,e){nc.set(t._key(),e)}function DV(t){return fr(t._redirectPersistence)}function NV(t){return tc(RV,t.config.apiKey,t.name)}async function bV(t,e,n=!1){if(ur(t.app))return Promise.reject(li(t));const r=Ds(t),i=SV(r,e),s=await new PV(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=10*60*1e3;class OV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MV&&this.cachedEventUids.clear(),this.cachedEventUids.has(q_(e))}saveEventToCache(e){this.cachedEventUids.add(q_(e)),this.lastProcessedEventTime=Date.now()}}function q_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,e={}){return Si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$V=/^https?/;async function jV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LV(t);for(const n of e)try{if(UV(n))return}catch{}On(t,"unauthorized-domain")}function UV(t){const e=ag(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$V.test(n))return!1;if(VV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new Gl(3e4,6e4);function K_(){const t=Yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BV(t){return new Promise((e,n)=>{var r,i,o;function s(){K_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K_(),n(Qn(t,"network-request-failed"))},timeout:zV.get()})}if(!((i=(r=Yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Yn().gapi)===null||o===void 0)&&o.load)s();else{const a=OL("iframefcb");return Yn()[a]=()=>{gapi.load?s():n(Qn(t,"network-request-failed"))},sC(`${ML()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rc=null,e})}let rc=null;function HV(t){return rc=rc||BV(t),rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=new Gl(5e3,15e3),GV="__/auth/iframe",qV="emulator/auth/iframe",KV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YV(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vy(e,qV):`https://${t.config.authDomain}/${GV}`,r={apiKey:e.apiKey,appName:t.name,v:Ts},i=QV.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${kl(r).slice(1)}`}async function XV(t){const e=await HV(t),n=Yn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:YV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KV,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Qn(t,"network-request-failed"),a=Yn().setTimeout(()=>{o(s)},WV.get());function l(){Yn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZV=500,e$=600,t$="_blank",n$="http://localhost";class Q_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r$(t,e,n,r=ZV,i=e$){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},JV),{width:r.toString(),height:i.toString(),top:o,left:s}),u=it().toLowerCase();n&&(a=ZT(u)?t$:n),JT(u)&&(e=e||n$,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,_])=>`${f}${p}=${_},`,"");if(TL(u)&&a!=="_self")return i$(e||"",a),new Q_(null);const d=window.open(e||"",a,c);J(d,t,"popup-blocked");try{d.focus()}catch{}return new Q_(d)}function i$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$="__/auth/handler",s$="emulator/auth/handler",a$=encodeURIComponent("fac");async function Y_(t,e,n,r,i,o){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ts,eventId:i};if(e instanceof lC){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",LN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof ql){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${a$}=${encodeURIComponent(l)}`:"";return`${l$(t)}?${kl(a).slice(1)}${u}`}function l$({config:t}){return t.emulator?vy(t,s$):`https://${t.authDomain}/${o$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="webStorageSupport";class u${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pC,this._completeRedirectFn=bV,this._overrideRedirectResult=kV}async _openPopup(e,n,r,i){var o;xr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Y_(e,n,r,ag(),i);return r$(e,s,xy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Y_(e,n,r,ag(),i);return hV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(xr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XV(e),r=new OV(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pf,{type:pf},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[pf];s!==void 0&&n(!!s),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iC()||wy()||Zd()}}const c$=u$;var X_="@firebase/auth",J_="1.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f$(t){ls(new Zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oC(t)},u=new DL(r,i,o,l);return jL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ls(new Zi("auth-internal",e=>{const n=Ds(e.getProvider("auth").getImmediate());return(r=>new d$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(X_,J_,h$(t)),si(X_,J_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=5*60,g$=f1("authIdTokenMaxAge")||p$;let Z_=null;const m$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>g$)return;const i=n==null?void 0:n.token;Z_!==i&&(Z_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function y$(t=v1()){const e=_m(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$L(t,{popupRedirectResolver:c$,persistence:[EV,uV,pC]}),r=f1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=m$(o.toString());rV(n,s,()=>s(n.currentUser)),nV(n,a=>s(a))}}const i=d1("auth");return i&&UL(n,`http://${i}`),n}function v$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Qn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",v$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f$("Browser");const _$={apiKey:"AIzaSyBUTE0cE78C-LnMl1vHNvo5QB3la3D4TAk",authDomain:"ml-internal-tools-b19c4.firebaseapp.com",projectId:"ml-internal-tools-b19c4",storageBucket:"ml-internal-tools-b19c4.appspot.com",messagingSenderId:"851632419697",appId:"1:851632419697:web:2a7944e0d7434b033f3cd0"},w$=y1(_$),E$=jF(w$),Cy=y$();function rh(t){const e=hf(E$,"years"),n=ia(e,Ke(t,"yyyy")),r=hf(n,"months"),i=ia(r,Ke(t,"MMMM")),o=hf(i,"days"),s=ia(o,Ke(t,"d")),a=ia(o,"totalSalesForEachDay"),l=ia(o,"previousCashBalance");return{dayCollectionRef:o,dayDocRef:s,dayTotalSalesDocRef:a,dayPreviousCashBalanceDocRef:l}}async function S$(t){const e=new Date(t),{dayDocRef:n,dayTotalSalesDocRef:r}=rh(e),i={},o=await b_(n);o.exists()&&(i.dayData=o.data());const s=await b_(r);return s.exists()&&(i.monthlyTotalSalesData=s.data()),i}async function ih(t){const e=new Date(t),{dayCollectionRef:n}=rh(e),r=await tL(n);if(!r.empty){const i={};return r.forEach(o=>{i[o.id]=o.data()}),i.id=r.docs[0].ref.parent.parent.id,i}return{}}async function x$(t,{formattedData:e,updatedTotalSales:n}){const{dayDocRef:r,dayTotalSalesDocRef:i}=rh(t);return await sg(r,e),await sg(i,n)}async function T$(t,e){const n=new Date(t),{dayPreviousCashBalanceDocRef:r}=rh(n);return await sg(r,e)}function Ht(t){return Object.keys(t).length===0}function C$(t){if(Ht(t))return!1;const e={};for(let n in t){if(n==="id"||n==="totalSalesForEachDay"||n==="previousCashBalance")continue;const{todayCustomersInfo:r}=t[n];if(Ht(r))e[n]=[];else{const i=[];for(let o in r)i.push(r[o].customerName);e[n]=i}}return e}function I$(t){if(Ht(t))return!1;const e={};for(let n in t){if(n==="id"||n==="totalSalesForEachDay"||n==="previousCashBalance")continue;const{todayBankInInfo:r}=t[n];Ht(r)?e[n]=!1:e[n]=!0}return e}function R$(t){if(Ht(t))return!1;const e={};for(let n in t){if(n==="id"||n==="totalSalesForEachDay"||n==="previousCashBalance")continue;const{todayCustomersInfo:r}=t[n];if(!Ht(r))for(let i in r)e[i]?e[i].push(n):e[i]=[n]}return e}function Ql(){return h.jsx(Ce,{size:"icon",className:"group fixed bottom-4 right-4 z-10 h-9 w-9 border-2 border-green-800 bg-transparent lg:h-10 lg:w-10",onClick:()=>window.scrollTo({top:0,left:0,behavior:"smooth"}),children:h.jsx(cN,{className:"h-5 w-5 text-green-800 group-hover:text-white lg:h-6 lg:w-6"})})}function P$(){const{day:t}=Il(),[e,n]=E.useState(()=>t?new Date(t):new Date),r=Cr(),i=e.toDateString(),o=Ke(e,"MMMM yyyy"),{data:s,isLoading:a,error:l}=Ed({getAllDaysInfo:ih,dateString:i}),u=C$(s),c=I$(s);function d(g,w){return Jk(g,{months:w})}function f(g){n(w=>d(w,g))}let p=h.jsx(R0,{currentDateState:e,customersOfTheMonth:u,bankInOfTheMonth:c},Ke(e,"MMM")+"-"+((s==null?void 0:s.id)||"initial"));(a||l)&&(p=h.jsx(R0,{currentDateState:e,customersOfTheMonth:!1,bankInOfTheMonth:!1},Ke(e,"MMM")+"-"+((s==null?void 0:s.id)||"initial")));function _(){oV(Cy)}return h.jsxs("section",{children:[h.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl lg:text-4xl",children:o}),h.jsxs(Ce,{variant:"outline",onClick:_,className:"absolute right-3 top-1 flex h-7 items-center border-0 p-0 text-green-700 hover:bg-green-700 hover:text-white min-[480px]:gap-1 min-[480px]:border min-[480px]:border-green-700 min-[480px]:px-2 min-[480px]:shadow sm:right-3 sm:top-3 sm:gap-2 sm:px-3 sm:py-2 lg:h-10 lg:gap-3 lg:px-4 lg:py-2 lg:text-lg lg:shadow-md",children:[h.jsx("span",{className:"hidden min-[480px]:block",children:"Sign Out"})," ",h.jsx(fN,{className:"min-[480px]:h-4 min-[480px]:w-4 lg:h-5 lg:w-5"})]}),h.jsxs("div",{className:"mt-4 flex justify-center gap-8",children:[h.jsxs(Ce,{variant:"outline",onClick:()=>f(-1),className:"flex items-center gap-2 border border-cyan-500 leading-none text-cyan-500 hover:bg-cyan-500 hover:text-cyan-100 lg:text-lg",children:[h.jsx(pN,{}),Ke(d(e,-1),"MMMM")]}),h.jsxs(Ce,{variant:"outline",onClick:()=>f(1),className:"flex items-center gap-2 border border-cyan-500 leading-none text-cyan-500 hover:bg-cyan-500 hover:text-cyan-100 lg:text-lg",children:[Ke(d(e,1),"MMMM"),h.jsx(gN,{})]})]}),h.jsxs("div",{className:"mt-4 flex flex-col justify-center gap-2 sm:flex-row lg:gap-4",children:[h.jsx(Ce,{onClick:()=>r(`/cashaccount/${i}`),className:" bg-yellow-400 text-yellow-900 hover:bg-yellow-400/90 lg:text-lg",children:"Cash Account"}),h.jsx(Ce,{onClick:()=>r(`/totalmonthlysales/${i}`),className:" bg-sky-400 text-sky-900 hover:bg-sky-400/90 lg:text-lg",children:"Total Monthly Sales"}),h.jsx(Ce,{onClick:()=>r(`/customerattendance/${i}`),className:"lg:text-lg",children:"Customer Attendance"})]}),l?h.jsx("p",{className:"mt-1 text-center text-red-600",children:"Error fetching data. Try to reload again."}):h.jsx("p",{className:"invisible mt-1 text-center",children:"Space for error purpose"}),p,h.jsx(Ql,{})]})}const EC=E.createContext(),A$=({children:t})=>{const[e,n]=E.useState(null);return E.useEffect(()=>{const r=iV(Cy,i=>{n(i)});return()=>{r()}},[]),h.jsx(EC.Provider,{value:{userState:e},children:t})};function SC(){const t=E.useContext(EC);if(t===void 0)throw new Error("AuthContext was used outside of AuthContextProvider");return t}const Bt=E.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:jt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Bt.displayName="Input";function k$(){const[t,e]=E.useState(!1),n=Cr(),{userState:r}=SC();if(r)return h.jsx(gm,{to:"/calendar"});async function i(o){o.preventDefault();const s=new FormData(o.target),a=s.get("email"),l=s.get("password");try{await tV(Cy,a,l),e(!1),n("/calendar")}catch{e(!0)}}return h.jsx("main",{className:"flex min-h-screen items-center justify-center",children:h.jsxs("form",{onSubmit:i,className:"grid w-5/6 max-w-xs gap-y-5 rounded-2xl px-4 py-6 text-center shadow-xl sm:max-w-sm sm:gap-y-7 sm:px-6 sm:py-8 sm:shadow-2xl lg:max-w-md lg:px-8 lg:py-10",children:[h.jsx("h2",{className:"text-xl font-semibold sm:text-2xl lg:text-3xl",children:"Login Form"}),h.jsx(Bt,{name:"email",type:"email",placeholder:"Email",className:"h-9 text-sm sm:py-5 sm:text-base lg:h-12 lg:text-lg"}),h.jsx(Bt,{name:"password",type:"password",placeholder:"Password",className:"h-9 text-sm sm:py-5 sm:text-base lg:h-12 lg:text-lg"}),h.jsx(Ce,{type:"submit",className:"capitalize sm:py-5 sm:text-base lg:py-6 lg:text-lg",children:"Login"}),t&&h.jsx("span",{className:"text-sm text-red-600 lg:text-lg",children:"Wrong email or password!"})]})})}const Yl=E.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:jt("w-full caption-bottom text-sm",t),...e})}));Yl.displayName="Table";const Xl=E.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:jt("[&_tr]:border-b",t),...e}));Xl.displayName="TableHeader";const Jl=E.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:jt("[&_tr:last-child]:border-0",t),...e}));Jl.displayName="TableBody";const Iy=E.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:jt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Iy.displayName="TableFooter";const ye=E.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:jt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ye.displayName="TableRow";const xe=E.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:jt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));xe.displayName="TableHead";const x=E.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:jt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));x.displayName="TableCell";const D$=E.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:jt("mt-4 text-sm text-muted-foreground",t),...e}));D$.displayName="TableCaption";const gf=h.jsx("span",{className:"text-red-700",children:"(C)"});function N$({monthData:t,previousCashBalance:e,day:n}){const r=new Date(n),i=Ke(r,"M"),o=Ke(r,"yyyy");function s(a,l){const{id:u,totalSalesForEachDay:c,previousCashBalance:d,...f}=a,g=Object.keys(f).map(m=>(f[m].temporaryKey=parseFloat(m),{...f[m]})).filter(m=>parseFloat(m.todayTotalSales)>0||!Ht(m.todayBankInInfo)).sort((m,v)=>m.temporaryKey-v.temporaryKey);let w=l;return g.map(m=>{const{todayCustomersInfo:v,todayBankInInfo:T}=m;if(Ht(v)&&!Ht(T))return h.jsxs(E.Fragment,{children:[h.jsxs(ye,{children:[h.jsx(x,{className:"font-semibold",children:`${m.temporaryKey}/${i}/${o}`}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{})]}),h.jsxs(ye,{children:[h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{className:"border-y border-red-500"}),h.jsx(x,{className:"border-y border-red-500"}),h.jsx(x,{className:"border-y border-red-500"}),h.jsx(x,{className:"border-y border-red-500"})]}),h.jsxs(ye,{children:[h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{})]}),h.jsxs(ye,{children:[h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{className:"text-red-700",children:"Bal"}),h.jsxs(x,{className:"text-red-700",children:["RM ",w.toFixed(2)]}),h.jsx(x,{}),h.jsx(x,{})]}),T.bankType.map((ne,Ne)=>(w-=parseFloat(T.amount[Ne]),h.jsxs(ye,{children:[h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{children:`${m.temporaryKey}/${i}/${o} ${ne}`}),h.jsx(x,{children:"-"}),h.jsxs(x,{children:["RM ",`${T.amount[Ne].toFixed(2)}`]}),h.jsx(x,{}),h.jsx(x,{})]},`${m.temporaryKey}_${i}_${o}_${ne}_${Ne}`))),h.jsxs(ye,{children:[h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsxs(x,{className:"border-t border-red-500 text-red-700",children:["RM ",w.toFixed(2)]}),h.jsx(x,{}),h.jsx(x,{})]}),h.jsxs(ye,{children:[h.jsx(x,{children:h.jsx("span",{className:"invisible",children:"For table consistency"})}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{className:"border-t border-red-500"}),h.jsx(x,{}),h.jsx(x,{})]})]},`${m.temporaryKey}_${i}_${o}`);const R=Object.values(v).filter(ne=>!!parseFloat(ne.card)||!!parseFloat(ne.cash)||!!parseFloat(ne.mp)||!!parseFloat(ne.vip10));let S=0,P=0,A=0,M=0,$=0,H=0,j=0,te=0;const we=R.map((ne,Ne)=>{A+=parseFloat(ne.productSales)||0,M+=parseFloat(ne.course)||0,$+=parseFloat(ne.card)||0,H+=parseFloat(ne.cash)||0,j+=parseFloat(ne.mp)||0;let st;ne.vip10===""?st="":ne.vip10.includes("card")?(st=h.jsxs("p",{children:["10.00",gf]}),S+=10,$+=10):ne.vip10.includes("cash")&&(st=h.jsx("p",{children:"10.00"}),P+=10,H+=10);const Ye=[parseFloat(ne.mp)||0,parseFloat(ne.cash)||0,parseFloat(ne.card)||0],Fn=[parseFloat(ne.productSales)||0,parseFloat(ne.course)||0],Ti=[[0,0,0],[0,0,0]],bs=[];Fn.forEach((Le,He)=>{let Ms=!1;Le!==0&&Ye.forEach((Pt,Rr)=>{Ms||bs.includes(Rr)||(Le===Pt?(Ti[He][Rr]=Pt,Ms=!0,bs.push(Rr)):Le<Pt?(Ti[He][Rr]=Le,Pt=Pt-Le,Ms=!0):Le>Pt&&(Ti[He][Rr]=Pt,Le=Le-Pt,bs.push(Rr)))})});const hh=Ti[0].map((Le,He)=>{if(Le===0)return h.jsx("p",{},`${m.temporaryKey}_${i}_${o}-${ne.customerName}-${He}-productSales`);if(He===0)return h.jsxs("p",{children:["MP ",Le.toFixed(2)]},`${m.temporaryKey}_${i}_${o}-${ne.customerName}-${He}-productSales`);if(He===1)return h.jsx("p",{children:Le.toFixed(2)},`${m.temporaryKey}_${i}_${o}-${ne.customerName}-${He}-productSales`);if(He===2)return h.jsxs("p",{children:[Le.toFixed(2),gf]},`${m.temporaryKey}_${i}_${o}-${ne.customerName}-${He}-productSales`)}),Ut=Ti[1].map((Le,He)=>{if(Le===0)return h.jsx("p",{},`${m.temporaryKey}_${i}_${o}-${ne.customerName}-${He}-course`);if(He===0)return h.jsxs("p",{children:["MP ",Le.toFixed(2)]},`${m.temporaryKey}_${i}_${o}-${ne.customerName}-${He}-course`);if(He===1)return h.jsx("p",{children:Le.toFixed(2)},`${m.temporaryKey}_${i}_${o}-${ne.customerName}-${He}-course`);if(He===2)return h.jsxs("p",{children:[Le.toFixed(2),gf]},`${m.temporaryKey}_${i}_${o}-${ne.customerName}-${He}-course`)});return h.jsxs(ye,{children:[h.jsx(x,{className:"font-semibold",children:Ne===0?`${m.temporaryKey}/${i}/${o}`:""}),h.jsx(x,{children:ne.customerName}),h.jsx(x,{children:ne.invNo}),h.jsx(x,{children:st}),h.jsx(x,{}),h.jsx(x,{children:hh}),h.jsx(x,{children:Ut})]},`${m.temporaryKey}_${i}_${o}-${ne.customerName}`)}),ot=h.jsxs(ye,{children:[h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{className:"border-y border-red-500",children:(S+P).toFixed(2)}),h.jsx(x,{className:"border-y border-red-500"}),h.jsx(x,{className:"border-y border-red-500",children:A.toFixed(2)}),h.jsx(x,{className:"border-y border-red-500",children:M.toFixed(2)})]});let Ze=null;$&&(Ze=h.jsxs(ye,{children:[h.jsx(x,{}),h.jsxs(x,{children:["Card: ",$.toFixed(2)]}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{})]}));let ge=null;H&&(ge=h.jsxs(ye,{children:[h.jsx(x,{}),h.jsxs(x,{children:["Cash: ",H.toFixed(2)]}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{})]}));let F=null;j&&(F=h.jsxs(ye,{children:[h.jsx(x,{}),h.jsxs(x,{children:["EW: ",j.toFixed(2)]}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{})]})),te=$+H+j;const W=h.jsxs(ye,{children:[h.jsx(x,{}),h.jsxs(x,{children:["Total: ",te.toFixed(2)]}),h.jsx(x,{}),h.jsx(x,{className:"text-red-700",children:"Bal"}),h.jsxs(x,{className:`text-red-700 ${!H&&Ht(T)&&"border-t border-red-500"}`,children:["RM ",w.toFixed(2)]}),h.jsx(x,{}),h.jsx(x,{})]});let K=null;H&&(w+=H,K=h.jsxs(h.Fragment,{children:[h.jsxs(ye,{children:[h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{className:"text-red-700",children:"+"}),h.jsxs(x,{className:"text-red-700",children:["RM ",H.toFixed(2)]}),h.jsx(x,{}),h.jsx(x,{})]}),h.jsxs(ye,{children:[h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsxs(x,{className:"border-t border-red-500 text-red-700",children:["RM ",w.toFixed(2)]}),h.jsx(x,{}),h.jsx(x,{})]})]}));let ae=null;if(!Ht(T)){const ne=T.bankType.map((st,Ye)=>(w-=parseFloat(T.amount[Ye]),h.jsxs(ye,{children:[h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{children:`${m.temporaryKey}/${i}/${o} ${st}`}),h.jsx(x,{children:"-"}),h.jsxs(x,{children:["RM ",`${T.amount[Ye].toFixed(2)}`]}),h.jsx(x,{}),h.jsx(x,{})]},`${m.temporaryKey}_${i}_${o}_${st}_${Ye}`))),Ne=h.jsxs(ye,{children:[h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsxs(x,{className:"border-t border-red-500 text-red-700",children:["RM ",w.toFixed(2)]}),h.jsx(x,{}),h.jsx(x,{})]});ae=h.jsxs(h.Fragment,{children:[ne,Ne]})}const _e=h.jsxs(ye,{children:[h.jsx(x,{children:h.jsx("span",{className:"invisible",children:"For table consistency"})}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{className:"border-t border-red-500"}),h.jsx(x,{}),h.jsx(x,{})]});return h.jsxs(E.Fragment,{children:[we,ot,Ze,ge,F,W,K,ae,_e]},`${m.temporaryKey}_${i}_${o}`)})}return h.jsxs(Yl,{className:"my-3 lg:text-lg",children:[h.jsx(Xl,{children:h.jsxs(ye,{className:"border-t",children:[h.jsx(xe,{className:"text-center",children:"DATE"}),h.jsx(xe,{className:"text-center",children:"NAME"}),h.jsx(xe,{className:"text-center",children:"INVOICE"}),h.jsx(xe,{className:"text-center",children:"VIP"}),h.jsx(xe,{className:"text-center",children:"SHE'S MINE"}),h.jsx(xe,{className:"text-center",children:"PRODUCTS"}),h.jsx(xe,{className:"text-center",children:"COURSE"})]})}),h.jsx(Jl,{className:"text-center",children:s(t,e)})]})}function Hi(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function b$(t,e=[]){let n=[];function r(o,s){const a=E.createContext(s),l=n.length;n=[...n,s];function u(d){const{scope:f,children:p,..._}=d,g=(f==null?void 0:f[t][l])||a,w=E.useMemo(()=>_,Object.values(_));return E.createElement(g.Provider,{value:w},p)}function c(d,f){const p=(f==null?void 0:f[t][l])||a,_=E.useContext(p);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(s=>E.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,M$(i,...e)]}function M$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(o)[`__scope${u}`];return{...a,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}const cg=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},O$=Rw.useId||(()=>{});let F$=0;function mf(t){const[e,n]=E.useState(O$());return cg(()=>{t||n(r=>r??String(F$++))},[t]),t||(e?`radix-${e}`:"")}function so(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function L$({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=V$({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=so(n),l=E.useCallback(u=>{if(o){const d=typeof u=="function"?u(t):u;d!==t&&a(d)}else i(u)},[o,t,i,a]);return[s,l]}function V$({defaultProp:t,onChange:e}){const n=E.useState(t),[r]=n,i=E.useRef(r),o=so(e);return E.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const $$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xi=$$.reduce((t,e)=>{const n=E.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?wd:e;return E.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),E.createElement(a,dt({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function j$(t,e){t&&Tl.flushSync(()=>t.dispatchEvent(e))}function U$(t,e=globalThis==null?void 0:globalThis.document){const n=so(t);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const dg="dismissableLayer.update",z$="dismissableLayer.pointerDownOutside",B$="dismissableLayer.focusOutside";let ew;const H$=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),W$=E.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=t,c=E.useContext(H$),[d,f]=E.useState(null),p=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,_]=E.useState({}),g=Rl(e,A=>f(A)),w=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=w.indexOf(y),v=d?w.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,R=v>=m,S=G$(A=>{const M=A.target,$=[...c.branches].some(H=>H.contains(M));!R||$||(o==null||o(A),a==null||a(A),A.defaultPrevented||l==null||l())},p),P=q$(A=>{const M=A.target;[...c.branches].some(H=>H.contains(M))||(s==null||s(A),a==null||a(A),A.defaultPrevented||l==null||l())},p);return U$(A=>{v===c.layers.size-1&&(i==null||i(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},p),E.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ew=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),tw(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ew)}},[d,p,r,c]),E.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),tw())},[d,c]),E.useEffect(()=>{const A=()=>_({});return document.addEventListener(dg,A),()=>document.removeEventListener(dg,A)},[]),E.createElement(xi.div,dt({},u,{ref:g,style:{pointerEvents:T?R?"auto":"none":void 0,...t.style},onFocusCapture:Hi(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Hi(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Hi(t.onPointerDownCapture,S.onPointerDownCapture)}))});function G$(t,e=globalThis==null?void 0:globalThis.document){const n=so(t),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){xC(z$,n,u,{discrete:!0})};var l=c;const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function q$(t,e=globalThis==null?void 0:globalThis.document){const n=so(t),r=E.useRef(!1);return E.useEffect(()=>{const i=o=>{o.target&&!r.current&&xC(B$,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function tw(){const t=new CustomEvent(dg);document.dispatchEvent(t)}function xC(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?j$(i,o):i.dispatchEvent(o)}const yf="focusScope.autoFocusOnMount",vf="focusScope.autoFocusOnUnmount",nw={bubbles:!1,cancelable:!0},K$=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=E.useState(null),u=so(i),c=so(o),d=E.useRef(null),f=Rl(e,g=>l(g)),p=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let m=function(S){if(p.paused||!a)return;const P=S.target;a.contains(P)?d.current=P:Lr(d.current,{select:!0})},v=function(S){if(p.paused||!a)return;const P=S.relatedTarget;P!==null&&(a.contains(P)||Lr(d.current,{select:!0}))},T=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&Lr(a)};var g=m,w=v,y=T;document.addEventListener("focusin",m),document.addEventListener("focusout",v);const R=new MutationObserver(T);return a&&R.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),R.disconnect()}}},[r,a,p.paused]),E.useEffect(()=>{if(a){iw.add(p);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(yf,nw);a.addEventListener(yf,u),a.dispatchEvent(y),y.defaultPrevented||(Q$(ej(TC(a)),{select:!0}),document.activeElement===g&&Lr(a))}return()=>{a.removeEventListener(yf,u),setTimeout(()=>{const y=new CustomEvent(vf,nw);a.addEventListener(vf,c),a.dispatchEvent(y),y.defaultPrevented||Lr(g??document.body,{select:!0}),a.removeEventListener(vf,c),iw.remove(p)},0)}}},[a,u,c,p]);const _=E.useCallback(g=>{if(!n&&!r||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const m=g.currentTarget,[v,T]=Y$(m);v&&T?!g.shiftKey&&y===T?(g.preventDefault(),n&&Lr(v,{select:!0})):g.shiftKey&&y===v&&(g.preventDefault(),n&&Lr(T,{select:!0})):y===m&&g.preventDefault()}},[n,r,p.paused]);return E.createElement(xi.div,dt({tabIndex:-1},s,{ref:f,onKeyDown:_}))});function Q$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Lr(r,{select:e}),document.activeElement!==n)return}function Y$(t){const e=TC(t),n=rw(e,t),r=rw(e.reverse(),t);return[n,r]}function TC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rw(t,e){for(const n of t)if(!X$(n,{upTo:e}))return n}function X$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function J$(t){return t instanceof HTMLInputElement&&"select"in t}function Lr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&J$(t)&&e&&t.select()}}const iw=Z$();function Z$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ow(t,e),t.unshift(e)},remove(e){var n;t=ow(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function ow(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ej(t){return t.filter(e=>e.tagName!=="A")}const tj=E.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?NS.createPortal(E.createElement(xi.div,dt({},i,{ref:e})),r):null});function nj(t,e){return E.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const oh=t=>{const{present:e,children:n}=t,r=rj(e),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),o=Rl(r.ref,i.ref);return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:o}):null};oh.displayName="Presence";function rj(t){const[e,n]=E.useState(),r=E.useRef({}),i=E.useRef(t),o=E.useRef("none"),s=t?"mounted":"unmounted",[a,l]=nj(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=ku(r.current);o.current=a==="mounted"?u:"none"},[a]),cg(()=>{const u=r.current,c=i.current;if(c!==t){const f=o.current,p=ku(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),cg(()=>{if(e){const u=d=>{const p=ku(r.current).includes(d.animationName);d.target===e&&p&&Tl.flushSync(()=>l("ANIMATION_END"))},c=d=>{d.target===e&&(o.current=ku(r.current))};return e.addEventListener("animationstart",c),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",c),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function ku(t){return(t==null?void 0:t.animationName)||"none"}let _f=0;function ij(){E.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:sw()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:sw()),_f++,()=>{_f===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),_f--}},[])}function sw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var ic="right-scroll-bar-position",oc="width-before-scroll-bar",oj="with-scroll-bars-hidden",sj="--removed-body-scroll-bar-size";function wf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function aj(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var lj=typeof window<"u"?E.useLayoutEffect:E.useEffect,aw=new WeakMap;function uj(t,e){var n=aj(e||null,function(r){return t.forEach(function(i){return wf(i,r)})});return lj(function(){var r=aw.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||wf(a,null)}),o.forEach(function(a){i.has(a)||wf(a,s)})}aw.set(n,t)},[t]),n}function cj(t){return t}function dj(t,e){e===void 0&&(e=cj);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function hj(t){t===void 0&&(t={});var e=dj(null);return e.options=Un({async:!0,ssr:!1},t),e}var CC=function(t){var e=t.sideCar,n=Wl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Un({},n))};CC.isSideCarExport=!0;function fj(t,e){return t.useMedium(e),CC}var IC=hj(),Ef=function(){},sh=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:Ef,onWheelCapture:Ef,onTouchMoveCapture:Ef}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,c=t.enabled,d=t.shards,f=t.sideCar,p=t.noIsolation,_=t.inert,g=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,m=Wl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),v=f,T=uj([n,e]),R=Un(Un({},m),i);return E.createElement(E.Fragment,null,c&&E.createElement(v,{sideCar:IC,removeScrollBar:u,shards:d,noIsolation:p,inert:_,setCallbacks:o,allowPinchZoom:!!g,lockRef:n}),s?E.cloneElement(E.Children.only(a),Un(Un({},R),{ref:T})):E.createElement(y,Un({},R,{className:l,ref:T}),a))});sh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sh.classNames={fullWidth:oc,zeroRight:ic};var pj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gj(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pj();return e&&t.setAttribute("nonce",e),t}function mj(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yj(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var vj=function(){var t=0,e=null;return{add:function(n){t==0&&(e=gj())&&(mj(e,n),yj(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_j=function(){var t=vj();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},RC=function(){var t=_j(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},wj={left:0,top:0,right:0,gap:0},Sf=function(t){return parseInt(t||"",10)||0},Ej=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Sf(n),Sf(r),Sf(i)]},Sj=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return wj;var e=Ej(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},xj=RC(),es="data-scroll-locked",Tj=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(oj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(es,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ic,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(oc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ic," .").concat(ic,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(oc," .").concat(oc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(es,`] {
    `).concat(sj,": ").concat(a,`px;
  }
`)},lw=function(){var t=parseInt(document.body.getAttribute(es)||"0",10);return isFinite(t)?t:0},Cj=function(){E.useEffect(function(){return document.body.setAttribute(es,(lw()+1).toString()),function(){var t=lw()-1;t<=0?document.body.removeAttribute(es):document.body.setAttribute(es,t.toString())}},[])},Ij=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Cj();var o=E.useMemo(function(){return Sj(i)},[i]);return E.createElement(xj,{styles:Tj(o,!e,i,n?"":"!important")})},hg=!1;if(typeof window<"u")try{var Du=Object.defineProperty({},"passive",{get:function(){return hg=!0,!0}});window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{hg=!1}var wo=hg?{passive:!1}:!1,Rj=function(t){return t.tagName==="TEXTAREA"},PC=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Rj(t)&&n[e]==="visible")},Pj=function(t){return PC(t,"overflowY")},Aj=function(t){return PC(t,"overflowX")},uw=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=AC(t,n);if(r){var i=kC(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},kj=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Dj=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},AC=function(t,e){return t==="v"?Pj(e):Aj(e)},kC=function(t,e){return t==="v"?kj(e):Dj(e)},Nj=function(t,e){return t==="h"&&e==="rtl"?-1:1},bj=function(t,e,n,r,i){var o=Nj(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),u=!1,c=s>0,d=0,f=0;do{var p=kC(t,a),_=p[0],g=p[1],w=p[2],y=g-w-o*_;(_||y)&&AC(t,a)&&(d+=y,f+=_),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(c&&(i&&d===0||!i&&s>d)||!c&&(i&&f===0||!i&&-s>f))&&(u=!0),u},Nu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},cw=function(t){return[t.deltaX,t.deltaY]},dw=function(t){return t&&"current"in t?t.current:t},Mj=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Oj=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Fj=0,Eo=[];function Lj(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(Fj++)[0],o=E.useState(function(){return RC()})[0],s=E.useRef(t);E.useEffect(function(){s.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=iL([t.lockRef.current],(t.shards||[]).map(dw),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(g,w){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var y=Nu(g),m=n.current,v="deltaX"in g?g.deltaX:m[0]-y[0],T="deltaY"in g?g.deltaY:m[1]-y[1],R,S=g.target,P=Math.abs(v)>Math.abs(T)?"h":"v";if("touches"in g&&P==="h"&&S.type==="range")return!1;var A=uw(P,S);if(!A)return!0;if(A?R=P:(R=P==="v"?"h":"v",A=uw(P,S)),!A)return!1;if(!r.current&&"changedTouches"in g&&(v||T)&&(r.current=R),!R)return!0;var M=r.current||R;return bj(M,w,g,M==="h"?v:T,!0)},[]),l=E.useCallback(function(g){var w=g;if(!(!Eo.length||Eo[Eo.length-1]!==o)){var y="deltaY"in w?cw(w):Nu(w),m=e.current.filter(function(R){return R.name===w.type&&R.target===w.target&&Mj(R.delta,y)})[0];if(m&&m.should){w.cancelable&&w.preventDefault();return}if(!m){var v=(s.current.shards||[]).map(dw).filter(Boolean).filter(function(R){return R.contains(w.target)}),T=v.length>0?a(w,v[0]):!s.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),u=E.useCallback(function(g,w,y,m){var v={name:g,delta:w,target:y,should:m};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(T){return T!==v})},1)},[]),c=E.useCallback(function(g){n.current=Nu(g),r.current=void 0},[]),d=E.useCallback(function(g){u(g.type,cw(g),g.target,a(g,t.lockRef.current))},[]),f=E.useCallback(function(g){u(g.type,Nu(g),g.target,a(g,t.lockRef.current))},[]);E.useEffect(function(){return Eo.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,wo),document.addEventListener("touchmove",l,wo),document.addEventListener("touchstart",c,wo),function(){Eo=Eo.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,wo),document.removeEventListener("touchmove",l,wo),document.removeEventListener("touchstart",c,wo)}},[]);var p=t.removeScrollBar,_=t.inert;return E.createElement(E.Fragment,null,_?E.createElement(o,{styles:Oj(i)}):null,p?E.createElement(Ij,{gapMode:"margin"}):null)}const Vj=fj(IC,Lj);var DC=E.forwardRef(function(t,e){return E.createElement(sh,Un({},t,{ref:e,sideCar:Vj}))});DC.classNames=sh.classNames;const $j=DC;var jj=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},So=new WeakMap,bu=new WeakMap,Mu={},xf=0,NC=function(t){return t&&(t.host||NC(t.parentNode))},Uj=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=NC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},zj=function(t,e,n,r){var i=Uj(e,Array.isArray(t)?t:[t]);Mu[n]||(Mu[n]=new WeakMap);var o=Mu[n],s=[],a=new Set,l=new Set(i),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};i.forEach(u);var c=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))c(f);else try{var p=f.getAttribute(r),_=p!==null&&p!=="false",g=(So.get(f)||0)+1,w=(o.get(f)||0)+1;So.set(f,g),o.set(f,w),s.push(f),g===1&&_&&bu.set(f,!0),w===1&&f.setAttribute(n,"true"),_||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return c(e),a.clear(),xf++,function(){s.forEach(function(d){var f=So.get(d)-1,p=o.get(d)-1;So.set(d,f),o.set(d,p),f||(bu.has(d)||d.removeAttribute(r),bu.delete(d)),p||d.removeAttribute(n)}),xf--,xf||(So=new WeakMap,So=new WeakMap,bu=new WeakMap,Mu={})}},Bj=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||jj(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),zj(r,i,n,"aria-hidden")):function(){return null}};const bC="Dialog",[MC,xU]=b$(bC),[Hj,nr]=MC(bC),Wj=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=E.useRef(null),l=E.useRef(null),[u=!1,c]=L$({prop:r,defaultProp:i,onChange:o});return E.createElement(Hj,{scope:e,triggerRef:a,contentRef:l,contentId:mf(),titleId:mf(),descriptionId:mf(),open:u,onOpenChange:c,onOpenToggle:E.useCallback(()=>c(d=>!d),[c]),modal:s},n)},OC="DialogPortal",[Gj,FC]=MC(OC,{forceMount:void 0}),qj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=nr(OC,e);return E.createElement(Gj,{scope:e,forceMount:n},E.Children.map(r,s=>E.createElement(oh,{present:n||o.open},E.createElement(tj,{asChild:!0,container:i},s))))},fg="DialogOverlay",Kj=E.forwardRef((t,e)=>{const n=FC(fg,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=nr(fg,t.__scopeDialog);return o.modal?E.createElement(oh,{present:r||o.open},E.createElement(Qj,dt({},i,{ref:e}))):null}),Qj=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=nr(fg,n);return E.createElement($j,{as:wd,allowPinchZoom:!0,shards:[i.contentRef]},E.createElement(xi.div,dt({"data-state":VC(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),vl="DialogContent",Yj=E.forwardRef((t,e)=>{const n=FC(vl,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=nr(vl,t.__scopeDialog);return E.createElement(oh,{present:r||o.open},o.modal?E.createElement(Xj,dt({},i,{ref:e})):E.createElement(Jj,dt({},i,{ref:e})))}),Xj=E.forwardRef((t,e)=>{const n=nr(vl,t.__scopeDialog),r=E.useRef(null),i=Rl(e,n.contentRef,r);return E.useEffect(()=>{const o=r.current;if(o)return Bj(o)},[]),E.createElement(LC,dt({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Hi(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:Hi(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Hi(t.onFocusOutside,o=>o.preventDefault())}))}),Jj=E.forwardRef((t,e)=>{const n=nr(vl,t.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return E.createElement(LC,dt({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=t.onCloseAutoFocus)===null||s===void 0||s.call(t,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=t.onInteractOutside)===null||s===void 0||s.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),LC=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=nr(vl,n),l=E.useRef(null),u=Rl(e,l);return ij(),E.createElement(E.Fragment,null,E.createElement(K$,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},E.createElement(W$,dt({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":VC(a.open)},s,{ref:u,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),Zj="DialogTitle",e4=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=nr(Zj,n);return E.createElement(xi.h2,dt({id:i.titleId},r,{ref:e}))}),t4="DialogDescription",n4=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=nr(t4,n);return E.createElement(xi.p,dt({id:i.descriptionId},r,{ref:e}))}),r4="DialogClose",i4=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=nr(r4,n);return E.createElement(xi.button,dt({type:"button"},r,{ref:e,onClick:Hi(t.onClick,()=>i.onOpenChange(!1))}))});function VC(t){return t?"open":"closed"}const o4=Wj,s4=qj,$C=Kj,jC=Yj,UC=e4,zC=n4,a4=i4,Ry=o4,l4=s4,BC=E.forwardRef(({className:t,...e},n)=>h.jsx($C,{ref:n,className:jt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));BC.displayName=$C.displayName;const ah=E.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(l4,{children:[h.jsx(BC,{}),h.jsxs(jC,{ref:r,className:jt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(a4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(mN,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ah.displayName=jC.displayName;const lh=({className:t,...e})=>h.jsx("div",{className:jt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});lh.displayName="DialogHeader";const uh=({className:t,...e})=>h.jsx("div",{className:jt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});uh.displayName="DialogFooter";const ch=E.forwardRef(({className:t,...e},n)=>h.jsx(UC,{ref:n,className:jt("text-lg font-semibold leading-none tracking-tight",t),...e}));ch.displayName=UC.displayName;const u4=E.forwardRef(({className:t,...e},n)=>h.jsx(zC,{ref:n,className:jt("text-sm text-muted-foreground",t),...e}));u4.displayName=zC.displayName;const Cn=E.forwardRef((t,e)=>E.createElement(xi.label,dt({},t,{ref:e,onMouseDown:n=>{var r;(r=t.onMouseDown)===null||r===void 0||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}})));function c4({openDialog:t,setOpenDialog:e,handleCashBalanceInfo:n,previousCashBalance:r}){const[i,o]=E.useState(!1);function s(a){if(a.preventDefault(),a.currentTarget.classList.contains("bg-background"))return e(!1);const c=new FormData(a.target).get("cashBalance").trim();if(c.split(",").length>1||isNaN(c))return o(!0);const f=parseFloat(c)||0;o(!1),n(f)}return h.jsx(Ry,{open:t,onOpenChange:e,children:h.jsxs(ah,{className:"sm:max-w-[425px]",children:[h.jsx(lh,{children:h.jsx(ch,{className:"lg:text-2xl",children:"Customer Info"})}),h.jsxs("form",{onSubmit:s,children:[h.jsxs("div",{className:"flex flex-col gap-1 lg:gap-3 lg:text-lg",children:[h.jsx(Cn,{htmlFor:"cashBalance",children:"Previous Cash Balance"}),h.jsx(Bt,{id:"cashBalance",name:"cashBalance",defaultValue:r,className:"lg:text-lg"})]}),i?h.jsx("p",{className:"mt-1 text-red-600",children:"Input invalid, please check again!"}):h.jsx("p",{className:"invisible mt-1",children:"Space for error purpose"}),h.jsxs(uh,{className:"mt-5 gap-2",children:[h.jsx(Ce,{variant:"outline",type:"button",onClick:s,className:"lg:text-lg",children:"Cancel"}),h.jsx(Ce,{type:"submit",className:"lg:text-lg",children:"Save changes"})]})]})]})})}function HC({mutationFn:t,onSuccess:e}){const[n,r]=E.useState(!1),[i,o]=E.useState(!1);async function s(a,l){try{r(!0),o(!1),await t(a,l),o(!1),e()}catch(u){console.log(u),o(!0)}finally{r(!1)}}return{isLoading:n,error:i,mutate:s}}function d4(){var w,y;const{day:t}=Il(),e=Cr(),{data:n,isLoading:r,error:i,setData:o,setRefetch:s}=Ed({getAllDaysInfo:ih,dateString:t}),{mutate:a,isLoading:l,error:u}=HC({mutationFn:T$,onSuccess:()=>s(m=>!m)}),[c,d]=E.useState(!1);let f=null;r&&(f=h.jsx("p",{className:"my-3 text-center lg:text-lg",children:"Fetching data..."})),i&&(f=h.jsx("p",{className:"my-3 text-center text-red-600 lg:text-lg",children:"Something went wrong with fetching data"})),Ht(n)||(f=h.jsx(N$,{monthData:n,previousCashBalance:((w=n==null?void 0:n.previousCashBalance)==null?void 0:w.amount)||0,day:t}));let p=h.jsx("p",{className:"invisible mt-1 text-center",children:"Space for fetching and setting purpose"});l&&(p=h.jsx("p",{className:"mt-1 text-center",children:"Setting data..."})),u&&(p=h.jsx("p",{className:"mt-1 text-center text-red-600",children:"Something went wrong with setting data"}));function _(m){o(v=>({...v,previousCashBalance:{amount:m}})),d(!1)}async function g(){var m;a(t,{amount:((m=n==null?void 0:n.previousCashBalance)==null?void 0:m.amount)||0})}return h.jsxs("section",{children:[h.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl lg:text-4xl",children:"Cash Account"}),h.jsxs("div",{className:"mt-5 flex flex-col gap-2 sm:flex-row sm:justify-center md:gap-4",children:[h.jsx(Ce,{onClick:()=>e(`/calendar/${t}`),className:" bg-yellow-400 text-yellow-900 hover:bg-yellow-400/90 lg:text-lg",children:"Go Back To Calendar"}),h.jsx(Ce,{onClick:()=>d(!0),className:"lg:text-lg",children:"Add Previous Cash Balance"}),h.jsx(Ce,{onClick:g,className:" bg-red-400 text-red-900 hover:bg-red-400/90 lg:text-lg",children:"Save Data"})]}),p,f,h.jsx(c4,{openDialog:c,setOpenDialog:d,handleCashBalanceInfo:_,previousCashBalance:((y=n==null?void 0:n.previousCashBalance)==null?void 0:y.amount)||0}),h.jsx(Ql,{})]})}function h4({monthData:t,numberOfDaysInTheMonth:e}){function n(i){const{todayCustomersInfo:o}=i;return Object.values(o).reduce((s,a)=>(s.totalProduct=(parseFloat(s.totalProduct)+(parseFloat(a.productSales)||0)).toFixed(2),s.totalCourse=(parseFloat(s.totalCourse)+(parseFloat(a.course)||0)).toFixed(2),s.totalOfTheDay=(parseFloat(s.totalProduct)+parseFloat(s.totalCourse)).toFixed(2),s.totalCash=(parseFloat(s.totalCash)+(parseFloat(a.cash)||0)).toFixed(2),s.totalCard=(parseFloat(s.totalCard)+(parseFloat(a.card)||0)).toFixed(2),s.totalMP=(parseFloat(s.totalMP)+(parseFloat(a.mp)||0)).toFixed(2),a.vip10.includes("cash")?s.totalVIPCash=(parseFloat(s.totalVIPCash)+(parseFloat(a.vip10)||0)).toFixed(2):s.totalVIPCash=parseFloat(s.totalVIPCash).toFixed(2),a.vip10.includes("card")?s.totalVIPCard=(parseFloat(s.totalVIPCard)+(parseFloat(a.vip10)||0)).toFixed(2):s.totalVIPCard=parseFloat(s.totalVIPCard).toFixed(2),{...s}),{totalProduct:0 .toFixed(2),totalCourse:0 .toFixed(2),totalOfTheDay:0 .toFixed(2),totalCash:0 .toFixed(2),totalCard:0 .toFixed(2),totalMP:0 .toFixed(2),totalVIPCash:0 .toFixed(2),totalVIPCard:0 .toFixed(2)})}function r(i){const o=Object.keys(i).reduce((s,a)=>{if(a==="totalSalesForEachDay"||a==="id"||a==="previousCashBalance")return{...s};const l=n(i[a]);return s.grandTotalProduct=(parseFloat(s.grandTotalProduct)+parseFloat(l.totalProduct)).toFixed(2),s.grandTotalCourse=(parseFloat(s.grandTotalCourse)+parseFloat(l.totalCourse)).toFixed(2),s.grandTotalOfTheDay=(parseFloat(s.grandTotalProduct)+parseFloat(s.grandTotalCourse)).toFixed(2),s.grandTotalCash=(parseFloat(s.grandTotalCash)+parseFloat(l.totalCash)).toFixed(2),s.grandTotalCard=(parseFloat(s.grandTotalCard)+parseFloat(l.totalCard)).toFixed(2),s.grandTotalMP=(parseFloat(s.grandTotalMP)+parseFloat(l.totalMP)).toFixed(2),s.grandTotalVIPCash=(parseFloat(s.grandTotalVIPCash)+parseFloat(l.totalVIPCash)).toFixed(2),s.grandTotalVIPCard=(parseFloat(s.grandTotalVIPCard)+parseFloat(l.totalVIPCard)).toFixed(2),{...s}},{grandTotalProduct:0,grandTotalCourse:0,grandTotalOfTheDay:0,grandTotalCash:0,grandTotalCard:0,grandTotalMP:0,grandTotalVIPCash:0,grandTotalVIPCard:0});return["grandTotalProduct","grandTotalCourse","grandTotalOfTheDay","grandTotalCash","grandTotalCard","grandTotalMP","grandTotalVIPCash","grandTotalVIPCard"].map(s=>h.jsx(x,{className:`${parseFloat(o[s])>0&&"bg-green-300 text-green-700"}`,children:o[s]},s))}return h.jsxs(Yl,{className:"my-3 lg:text-lg",children:[h.jsxs(Xl,{children:[h.jsxs(ye,{className:"border-t",children:[h.jsx(xe,{colSpan:7,className:"text-center"}),h.jsx(xe,{colSpan:2,className:"text-center",children:"VIP"})]}),h.jsxs(ye,{children:[h.jsx(xe,{className:"text-center",children:"DATE"}),h.jsx(xe,{className:"text-center",children:"PRODUCT"}),h.jsx(xe,{className:"text-center",children:"COURSE"}),h.jsx(xe,{className:"text-center",children:"TOTAL"}),h.jsx(xe,{className:"text-center",children:"CASH"}),h.jsx(xe,{className:"text-center",children:"CARD"}),h.jsx(xe,{className:"text-center",children:"M.POINT(EW)"}),h.jsx(xe,{className:"text-center",children:"CASH"}),h.jsx(xe,{className:"text-center",children:"CARD"})]})]}),h.jsx(Jl,{className:"text-center",children:Array.from({length:e},(i,o)=>o+1).map(i=>{if(t[i]){const{totalProduct:o,totalCourse:s,totalOfTheDay:a,totalCash:l,totalCard:u,totalMP:c,totalVIPCash:d,totalVIPCard:f}=n(t[i]);return h.jsxs(ye,{children:[h.jsx(x,{className:"font-medium",children:i}),h.jsx(x,{className:`${parseFloat(o)>0&&"bg-green-300 text-green-700"}`,children:o}),h.jsx(x,{className:`${parseFloat(s)>0&&"bg-green-300 text-green-700"}`,children:s}),h.jsx(x,{className:`${parseFloat(a)>0&&"bg-green-300 text-green-700"}`,children:a}),h.jsx(x,{className:`${parseFloat(l)>0&&"bg-green-300 text-green-700"}`,children:l}),h.jsx(x,{className:`${parseFloat(u)>0&&"bg-green-300 text-green-700"}`,children:u}),h.jsx(x,{className:`${parseFloat(c)>0&&"bg-green-300 text-green-700"}`,children:c}),h.jsx(x,{className:`${parseFloat(d)>0&&"bg-green-300 text-green-700"}`,children:d}),h.jsx(x,{className:`${parseFloat(f)>0&&"bg-green-300 text-green-700"}`,children:f})]},`${e}_${i}`)}return h.jsxs(ye,{children:[h.jsx(x,{className:"font-medium",children:i}),h.jsx(x,{children:"0.00"}),h.jsx(x,{children:"0.00"}),h.jsx(x,{children:"0.00"}),h.jsx(x,{children:"0.00"}),h.jsx(x,{children:"0.00"}),h.jsx(x,{children:"0.00"}),h.jsx(x,{children:"0.00"}),h.jsx(x,{children:"0.00"})]},`${e}_${i}`)})}),h.jsxs(Iy,{className:"bg-transparent text-center [&>tr]:last:border-b",children:[h.jsxs(ye,{children:[h.jsx(x,{children:"Total"}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{})]}),h.jsxs(ye,{children:[h.jsx(x,{children:"GST(EW)"}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{}),h.jsx(x,{})]}),h.jsxs(ye,{children:[h.jsx(x,{children:"G. Total"}),r(t)]})]})]})}function f4(){const{day:t}=Il(),e=new Date(t),n=sN(e),r=Cr(),{data:i,isLoading:o,error:s}=Ed({getAllDaysInfo:ih,dateString:t});let a=null;return o&&(a=h.jsx("p",{className:"my-3 text-center lg:text-lg",children:"Fetching data..."})),s&&(a=h.jsx("p",{className:"my-3 text-center text-red-600 lg:text-lg",children:"Something went wrong with fetching data"})),Ht(i)||(a=h.jsx(h4,{monthData:i,numberOfDaysInTheMonth:n})),h.jsxs("section",{children:[h.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl lg:text-4xl",children:"Total Monthly Sales"}),h.jsx("div",{className:"mt-5 flex flex-col sm:flex-row sm:justify-center",children:h.jsx(Ce,{onClick:()=>r(`/calendar/${t}`),className:" bg-yellow-400 text-yellow-900 hover:bg-yellow-400/90 lg:text-lg",children:"Go Back To Calendar"})}),a,h.jsx(Ql,{})]})}function p4({todayCustomersInfo:t,deleteCustomer:e,setEditId:n,totalSalesBeforeToday:r}){const i=Object.values(t),o=i.reduce((g,w)=>g+(parseFloat(w.cash)||0),0).toFixed(2),s=i.reduce((g,w)=>g+(parseFloat(w.card)||0),0).toFixed(2),a=i.reduce((g,w)=>g+(parseFloat(w.mp)||0),0).toFixed(2),l=i.reduce((g,w)=>g+(parseFloat(w.productSales)||0),0).toFixed(2),u=i.reduce((g,w)=>g+(parseFloat(w.course)||0),0).toFixed(2),c=i.reduce((g,w)=>g+(parseFloat(w.vip10)||0),0).toFixed(2),d=(parseFloat(l)+parseFloat(u)).toFixed(2),f=(parseFloat(d)+parseFloat(r)).toFixed(2);function p(g){n(g)}function _(g){window.confirm("Are you sure you want to delete the customer?")&&e(g)}return h.jsxs(Yl,{className:"my-3 lg:text-lg",children:[h.jsx(Xl,{children:h.jsxs(ye,{children:[h.jsx(xe,{children:"No."}),h.jsx(xe,{children:"Cash"}),h.jsx(xe,{children:"Card"}),h.jsx(xe,{children:"MP"}),h.jsx(xe,{children:"Customer Name"}),h.jsx(xe,{children:"Product Sales"}),h.jsx(xe,{children:"Course"}),h.jsx(xe,{children:"Inv No."}),h.jsx(xe,{children:"VIP RM 10"}),h.jsx(xe,{})]})}),h.jsxs(Jl,{children:[i.map((g,w)=>h.jsxs(ye,{children:[h.jsx(x,{className:"font-medium",children:w+1}),h.jsx(x,{children:g.cash}),h.jsx(x,{children:g.card}),h.jsx(x,{children:g.mp}),h.jsx(x,{children:g.customerName}),h.jsx(x,{children:g.productSales}),h.jsx(x,{children:g.course}),h.jsx(x,{children:g.invNo}),h.jsx(x,{children:g.vip10}),h.jsx(x,{children:h.jsxs("div",{className:"flex flex-row gap-1 lg:flex-col ",children:[h.jsx(Ce,{onClick:()=>p(g.id),className:"h-7 w-7 bg-yellow-400 text-yellow-900 hover:bg-yellow-400/90 lg:h-10 lg:w-10",size:"icon",children:h.jsx(hN,{className:"h-5 w-5 lg:h-6 lg:w-6"})}),h.jsx(Ce,{onClick:()=>_(g.id),className:" h-7 w-7 bg-red-400 text-red-900 hover:bg-red-400/90 lg:h-10 lg:w-10",size:"icon",children:h.jsx(dN,{className:"h-5 w-5 lg:h-6 lg:w-6"})})]})})]},g.customerName)),h.jsxs(ye,{children:[h.jsx(x,{colSpan:5}),h.jsxs(x,{children:["Total(a): ",l]}),h.jsxs(x,{children:["Total(b): ",u]}),h.jsx(x,{}),h.jsxs(x,{children:["Total: ",c]})]})]}),h.jsx(Iy,{children:h.jsxs(ye,{children:[h.jsx(x,{children:"Amount received:"}),h.jsxs(x,{children:["Cash: ",o]}),h.jsxs(x,{children:["Card: ",s]}),h.jsxs(x,{children:["EW: ",a]}),h.jsx(x,{children:"CHQ:"}),h.jsxs(x,{children:["TOTAL(a+b): ",d]}),h.jsxs(x,{colSpan:4,children:["Accumulated Sales: RM",f]})]})})]})}function g4({openDialog:t,closeCustomerDialog:e,handleCustomerInfo:n,editCustomerInfo:r}){const[i,o]=E.useState(!1);function s(){e(),o(!1)}function a(l){if(l.preventDefault(),l.currentTarget.classList.contains("bg-background"))return s();const c=new FormData(l.target),d=c.get("cash"),f=c.get("card"),p=c.get("mp"),_=c.get("vip10"),g=c.get("productSales"),w=c.get("course");if([d,f,p,_,g,w].map(T=>{const R=T.trim();return R===""?0:parseFloat(R)}).some(T=>isNaN(T)))return o(!0);const m=c.get("customerName");if(m===""||m.length<3)return o(!0);const v={};for(const[T,R]of c.entries())v[T]=R;v.id=c.get("customerName").toLowerCase().split(" ").join("-"),o(!1),n(v)}return h.jsx(Ry,{open:t,onOpenChange:s,children:h.jsxs(ah,{className:"max-h-96 overflow-y-scroll p-3 min-[480px]:max-h-fit min-[480px]:overflow-y-auto sm:max-w-xl sm:p-6 lg:max-w-2xl lg:p-8",children:[h.jsx(lh,{children:h.jsx(ch,{className:"lg:text-2xl",children:"Customer Info"})}),h.jsxs("form",{onSubmit:a,children:[h.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-4 lg:text-lg",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Cn,{htmlFor:"cash",children:"Cash"}),h.jsx(Bt,{id:"cash",name:"cash",defaultValue:(r==null?void 0:r.cash)||"",className:"lg:text-lg"})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Cn,{htmlFor:"card",children:"Card"}),h.jsx(Bt,{id:"card",name:"card",defaultValue:(r==null?void 0:r.card)||"",className:"lg:text-lg"})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Cn,{htmlFor:"mp",children:"MP"}),h.jsx(Bt,{id:"mp",name:"mp",defaultValue:(r==null?void 0:r.mp)||"",className:"lg:text-lg"})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Cn,{htmlFor:"vip10",children:"VIP 10"}),h.jsx(Bt,{id:"vip10",name:"vip10",defaultValue:(r==null?void 0:r.vip10)||"",className:"lg:text-lg"})]})]}),h.jsxs("div",{className:"mt-3 grid gap-y-3 min-[480px]:grid-cols-2 min-[480px]:gap-3 lg:text-lg",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Cn,{htmlFor:"customerName",children:"Customer Name"}),h.jsx(Bt,{id:"customerName",name:"customerName",defaultValue:(r==null?void 0:r.customerName)||"",className:"lg:text-lg"})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Cn,{htmlFor:"productSales",children:"Product Sales"}),h.jsx(Bt,{id:"productSales",name:"productSales",defaultValue:(r==null?void 0:r.productSales)||"",className:"lg:text-lg"})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Cn,{htmlFor:"course",children:"Course"}),h.jsx(Bt,{id:"course",name:"course",defaultValue:(r==null?void 0:r.course)||"",className:"lg:text-lg"})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Cn,{htmlFor:"invNo",children:"Inv No"}),h.jsx(Bt,{id:"invNo",name:"invNo",defaultValue:(r==null?void 0:r.invNo)||"",className:"lg:text-lg"})]})]}),i?h.jsx("p",{className:"mt-1 text-red-600",children:"Input invalid, please check again!"}):h.jsx("p",{className:"invisible mt-1",children:"Space for error purpose"}),h.jsxs(uh,{className:"mt-6 gap-2 sm:gap-0 lg:space-x-3",children:[h.jsx(Ce,{variant:"outline",type:"button",onClick:a,className:"lg:text-lg",children:"Cancel"}),h.jsx(Ce,{type:"submit",className:"lg:text-lg",children:"Save changes"})]})]})]})})}function m4({openDialog:t,setOpenDialog:e,handleBankInInfo:n,bankInInfo:r}){var l,u;const[i,o]=E.useState(!1);function s(){e(!1),o(!1)}function a(c){if(c.preventDefault(),c.currentTarget.classList.contains("bg-background"))return s();const f=new FormData(c.target),p=f.get("amount"),_=f.get("bankType"),g=p.split(","),w=_.split(",");if(g.length!==w.length||g.some(v=>isNaN(v))||!g.some(v=>isNaN(v))&&g.every(v=>!!parseFloat(v))&&w.some(v=>v.length===0))return o(!0);if(o(!1),g.every(v=>v.length===0)&&w.every(v=>v.length===0))return n({});const y=g.map(v=>parseFloat(v.trim())),m=w.map(v=>v.trim());n({amount:y,bankType:m})}return h.jsx(Ry,{open:t,onOpenChange:s,children:h.jsxs(ah,{className:"sm:max-w-[425px] lg:max-w-fit",children:[h.jsx(lh,{children:h.jsx(ch,{className:"lg:text-2xl",children:"Bank In Info"})}),h.jsxs("form",{onSubmit:a,children:[h.jsxs("div",{className:"grid grid-cols-2 gap-3  lg:text-lg",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Cn,{htmlFor:"amount",children:"Bank In Amount"}),h.jsx(Bt,{id:"amount",name:"amount",defaultValue:((l=r==null?void 0:r.amount)==null?void 0:l.join(", "))||"",className:"lg:text-lg"})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Cn,{htmlFor:"bankType",children:"Type Of Bank"}),h.jsx(Bt,{id:"bankType",name:"bankType",defaultValue:((u=r==null?void 0:r.bankType)==null?void 0:u.join(", "))||"",className:"lg:text-lg"})]})]}),i?h.jsx("p",{className:"mt-1 text-red-600",children:"Input invalid, please check again!"}):h.jsx("p",{className:"invisible mt-1",children:"Space for error purpose"}),h.jsxs(uh,{className:"mt-6 gap-2 sm:gap-0 lg:space-x-3",children:[h.jsx(Ce,{variant:"outline",type:"button",onClick:a,className:"lg:text-lg",children:"Cancel"}),h.jsx(Ce,{type:"submit",className:"lg:text-lg",children:"Save changes"})]})]})]})})}function y4({getDayInfo:t,day:e}){const[n,r]=E.useState(!1),[i,o]=E.useState(!1),[s,a]=E.useState({}),[l,u]=E.useState(!0);return E.useEffect(()=>{async function c(){try{r(!0),o(!1);const d=await t(e);a(d),o(!1)}catch(d){console.log(d),o(!0)}finally{r(!1)}}c()},[t,e,l]),{isLoading:n,error:i,data:s,setData:a,setRefetch:u}}function v4(){const{day:t}=Il(),e=new Date(t),{data:{dayData:{todayCustomersInfo:n={},todayBankInInfo:r={}}={},monthlyTotalSalesData:i={}}={},isLoading:o,error:s,setData:a,setRefetch:l}=y4({getDayInfo:S$,day:t}),{mutate:u,isLoading:c,error:d}=HC({mutationFn:x$,onSuccess:()=>l(j=>!j)});let f=h.jsx("p",{className:"invisible mt-1 text-center",children:"Space for fetching and setting purpose"});o&&(f=h.jsx("p",{className:"mt-1 text-center",children:"Fetching data..."})),s&&(f=h.jsx("p",{className:"mt-1 text-center text-red-600",children:"Something went wrong with fetching data"})),c&&(f=h.jsx("p",{className:"mt-1 text-center",children:"Setting data..."})),d&&(f=h.jsx("p",{className:"mt-1 text-center text-red-600",children:"Something went wrong with setting data"}));let p;Ht(i)?p=0:p=Object.keys(i).reduce((j,te)=>{const we=parseFloat(te)<parseFloat(Ke(e,"d"))?parseFloat(i[te]):0;return j+we},0);const[_,g]=E.useState(null),[w,y]=E.useState(!1),[m,v]=E.useState(!1),T=Cr();function R(j){j==="customer"&&y(!0),j==="bankIn"&&v(!0)}function S(){y(!1),g(null)}function P(j){a(te=>{const{dayData:{todayCustomersInfo:we={}}={}}=te,{[_]:ot,...Ze}=we,ge={...Ze,[j.id]:j},F={...te.dayData,todayCustomersInfo:ge};return{...te,dayData:F}}),S()}function A(j){a(te=>{const we=j,ot={...te.dayData,todayBankInInfo:we};return{...te,dayData:ot}}),v(!1)}async function M(){const j={todayCustomersInfo:n,todayBankInInfo:r};j.todayTotalSales=Object.values(n).reduce((we,ot)=>we+(parseFloat(ot.cash)||0)+(parseFloat(ot.card)||0)+(parseFloat(ot.mp)||0),0).toFixed(2);const te={...i,[Ke(e,"d")]:j.todayTotalSales};u(e,{formattedData:j,updatedTotalSales:te})}function $(j){a(te=>{const{dayData:{todayCustomersInfo:we={}}={}}=te,{[j]:ot,...Ze}=we,ge={...te.dayData,todayCustomersInfo:Ze};return{...te,dayData:ge}})}function H(){window.confirm("Have you saved the data before going back to calendar?")&&T(`/calendar/${t}`)}return h.jsxs("section",{children:[h.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl lg:text-4xl",children:"Daily Sales Report"}),h.jsxs("div",{className:"mt-3 flex flex-col gap-3 md:flex-row md:justify-between md:gap-0",children:[h.jsxs("p",{className:"text-center md:text-start lg:text-lg",children:["CENTER: ",h.jsx("span",{className:"font-semibold underline",children:"Sri Rampai"})]}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-center lg:text-lg",children:[h.jsx("span",{className:"ms-1 underline",children:Ke(e,"d")}),"D",h.jsx("span",{className:"ms-1 underline",children:Ke(e,"M")}),"M",h.jsx("span",{className:"ms-1 underline",children:Ke(e,"y")}),"Y"]}),h.jsx("div",{className:"flex justify-center lg:text-lg",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map((j,te)=>{const we=e.getDay();return h.jsxs("p",{className:"me-2",children:[h.jsx("span",{className:`${te===we?"rounded-full border-2 border-primary":""}`,children:j}),h.jsx("span",{children:`${te===6?"":"/"}`})]},j)})})]}),h.jsxs("div",{className:"text-center md:text-end lg:text-lg",children:[h.jsxs("p",{children:["TARGET TODAY: RM",h.jsx("span",{className:"ms-1 underline"})]}),h.jsxs("p",{children:["TOTAL SALES B/F: RM",h.jsx("span",{className:"ms-1 font-semibold underline",children:p.toFixed(2)})]})]})]}),h.jsxs("div",{className:"mt-5 flex flex-col gap-2 sm:flex-row sm:justify-center md:gap-4",children:[h.jsx(Ce,{onClick:H,className:" bg-yellow-400 text-yellow-900 hover:bg-yellow-400/90 lg:text-lg",children:"Go Back To Calendar"}),h.jsx(Ce,{onClick:()=>R("customer"),className:" bg-sky-400 text-sky-900 hover:bg-sky-400/90 lg:text-lg",children:"Add New Customer"}),h.jsx(Ce,{onClick:()=>R("bankIn"),className:"lg:text-lg",children:"Add Bank In"}),h.jsx(Ce,{onClick:M,disabled:c,className:" bg-red-400 text-red-900 hover:bg-red-400/90 lg:text-lg",children:"Save Data"})]}),f,h.jsx(p4,{todayCustomersInfo:n,deleteCustomer:$,setEditId:g,totalSalesBeforeToday:p}),h.jsx(g4,{openDialog:w||!!_,closeCustomerDialog:S,handleCustomerInfo:P,editCustomerInfo:n[_]}),h.jsx(m4,{openDialog:m,setOpenDialog:v,handleBankInInfo:A,bankInInfo:r}),h.jsx(Ql,{})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Qr(t,e){return typeof t=="function"?t(e):t}function cn(t,e){return n=>{e.setState(r=>({...r,[t]:Qr(n,r[t])}))}}function dh(t){return t instanceof Function}function _4(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function w4(t,e){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=e(o);s!=null&&s.length&&r(s)})};return r(t),n}function Y(t,e,n){let r=[],i;return o=>{let s;n.key&&n.debug&&(s=Date.now());const a=t(o);if(!(a.length!==r.length||a.some((c,d)=>r[d]!==c)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=e(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-s)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,p=(_,g)=>{for(_=String(_);_.length<g;)_=" "+_;return _};console.info(`%c ${p(d,5)} /${p(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function X(t,e,n,r){return{debug:()=>{var i;return(i=t==null?void 0:t.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function E4(t,e,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:t.options.renderFallbackValue},o={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Y(()=>[t,n,e,o],(s,a,l,u)=>({table:s,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),X(t.options,"debugCells"))};return t._features.forEach(s=>{s.createCell==null||s.createCell(o,n,e,t)},{}),o}function S4(t,e,n,r){var i,o;const a={...t._getDefaultColumnDef(),...e},l=a.accessorKey;let u=(i=(o=a.id)!=null?o:l?l.replace(".","_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=f=>{let p=f;for(const g of l.split(".")){var _;p=(_=p)==null?void 0:_[g]}return p}:c=f=>f[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Y(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(p=>p.getFlatColumns())]},X(t.options,"debugColumns")),getLeafColumns:Y(()=>[t._getOrderColumnsFn()],f=>{var p;if((p=d.columns)!=null&&p.length){let _=d.columns.flatMap(g=>g.getLeafColumns());return f(_)}return[d]},X(t.options,"debugColumns"))};for(const f of t._features)f.createColumn==null||f.createColumn(d,t);return d}const Nt="debugHeaders";function hw(t,e,n){var r;let o={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:t,header:o,column:e})};return t._features.forEach(s=>{s.createHeader==null||s.createHeader(o,t)}),o}const x4={createTable:t=>{t.getHeaderGroups=Y(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var o,s;const a=(o=r==null?void 0:r.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],l=(s=i==null?void 0:i.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return Ou(e,[...a,...u,...l],t)},X(t.options,Nt)),t.getCenterHeaderGroups=Y(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),Ou(e,n,t,"center")),X(t.options,Nt)),t.getLeftHeaderGroups=Y(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return Ou(e,o,t,"left")},X(t.options,Nt)),t.getRightHeaderGroups=Y(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return Ou(e,o,t,"right")},X(t.options,Nt)),t.getFooterGroups=Y(()=>[t.getHeaderGroups()],e=>[...e].reverse(),X(t.options,Nt)),t.getLeftFooterGroups=Y(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),X(t.options,Nt)),t.getCenterFooterGroups=Y(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),X(t.options,Nt)),t.getRightFooterGroups=Y(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),X(t.options,Nt)),t.getFlatHeaders=Y(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),X(t.options,Nt)),t.getLeftFlatHeaders=Y(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),X(t.options,Nt)),t.getCenterFlatHeaders=Y(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),X(t.options,Nt)),t.getRightFlatHeaders=Y(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),X(t.options,Nt)),t.getCenterLeafHeaders=Y(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),X(t.options,Nt)),t.getLeftLeafHeaders=Y(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),X(t.options,Nt)),t.getRightLeafHeaders=Y(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),X(t.options,Nt)),t.getLeafHeaders=Y(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,o,s,a,l,u;return[...(i=(o=e[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},X(t.options,Nt))}};function Ou(t,e,n,r){var i,o;let s=0;const a=function(f,p){p===void 0&&(p=1),s=Math.max(s,p),f.filter(_=>_.getIsVisible()).forEach(_=>{var g;(g=_.columns)!=null&&g.length&&a(_.columns,p+1)},0)};a(t);let l=[];const u=(f,p)=>{const _={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},g=[];f.forEach(w=>{const y=[...g].reverse()[0],m=w.column.depth===_.depth;let v,T=!1;if(m&&w.column.parent?v=w.column.parent:(v=w.column,T=!0),y&&(y==null?void 0:y.column)===v)y.subHeaders.push(w);else{const R=hw(n,v,{id:[r,p,v.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:T,placeholderId:T?`${g.filter(S=>S.column===v).length}`:void 0,depth:p,index:g.length});R.subHeaders.push(w),g.push(R)}_.headers.push(w),w.headerGroup=_}),l.push(_),p>0&&u(g,p-1)},c=e.map((f,p)=>hw(n,f,{depth:s,index:p}));u(c,s-1),l.reverse();const d=f=>f.filter(_=>_.column.getIsVisible()).map(_=>{let g=0,w=0,y=[0];_.subHeaders&&_.subHeaders.length?(y=[],d(_.subHeaders).forEach(v=>{let{colSpan:T,rowSpan:R}=v;g+=T,y.push(R)})):g=1;const m=Math.min(...y);return w=w+m,_.colSpan=g,_.rowSpan=w,{colSpan:g,rowSpan:w}});return d((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const Py=(t,e,n,r,i,o,s)=>{let a={id:e,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=t.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=t.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:t.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>w4(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?t.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:Y(()=>[t.getAllLeafColumns()],l=>l.map(u=>E4(t,a,u,u.id)),X(t.options,"debugRows")),_getAllCellsByColumnId:Y(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),X(t.options,"debugRows"))};for(let l=0;l<t._features.length;l++){const u=t._features[l];u==null||u.createRow==null||u.createRow(a,t)}return a},T4={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},WC=(t,e,n)=>{var r;const i=n.toLowerCase();return!!(!((r=t.getValue(e))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(i))};WC.autoRemove=t=>Nn(t);const GC=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};GC.autoRemove=t=>Nn(t);const qC=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};qC.autoRemove=t=>Nn(t);const KC=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};KC.autoRemove=t=>Nn(t)||!(t!=null&&t.length);const QC=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});QC.autoRemove=t=>Nn(t)||!(t!=null&&t.length);const YC=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});YC.autoRemove=t=>Nn(t)||!(t!=null&&t.length);const XC=(t,e,n)=>t.getValue(e)===n;XC.autoRemove=t=>Nn(t);const JC=(t,e,n)=>t.getValue(e)==n;JC.autoRemove=t=>Nn(t);const Ay=(t,e,n)=>{let[r,i]=n;const o=t.getValue(e);return o>=r&&o<=i};Ay.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,o=e===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};Ay.autoRemove=t=>Nn(t)||Nn(t[0])&&Nn(t[1]);const or={includesString:WC,includesStringSensitive:GC,equalsString:qC,arrIncludes:KC,arrIncludesAll:QC,arrIncludesSome:YC,equals:XC,weakEquals:JC,inNumberRange:Ay};function Nn(t){return t==null||t===""}const C4={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:cn("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?or.includesString:typeof r=="number"?or.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?or.equals:Array.isArray(r)?or.arrIncludes:or.weakEquals},t.getFilterFn=()=>{var n,r;return dh(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:or[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),o=r==null?void 0:r.find(c=>c.id===t.id),s=Qr(n,o?o.value:void 0);if(fw(i,s,t)){var a;return(a=r==null?void 0:r.filter(c=>c.id!==t.id))!=null?a:[]}const l={id:t.id,value:s};if(o){var u;return(u=r==null?void 0:r.map(c=>c.id===t.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var o;return(o=Qr(e,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(fw(l,s.value,a))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function fw(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const I4=(t,e,n)=>n.reduce((r,i)=>{const o=i.getValue(t);return r+(typeof o=="number"?o:0)},0),R4=(t,e,n)=>{let r;return n.forEach(i=>{const o=i.getValue(t);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},P4=(t,e,n)=>{let r;return n.forEach(i=>{const o=i.getValue(t);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},A4=(t,e,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(t);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},k4=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let o=i.getValue(t);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},D4=(t,e)=>{if(!e.length)return;const n=e.map(o=>o.getValue(t));if(!_4(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},N4=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),b4=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,M4=(t,e)=>e.length,Tf={sum:I4,min:R4,max:P4,extent:A4,mean:k4,median:D4,unique:N4,uniqueCount:b4,count:M4},O4={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:cn("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return Tf.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Tf.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return dh(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:Tf[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function F4(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(o=>!e.includes(o.id));return n==="remove"?r:[...e.map(o=>t.find(s=>s.id===o)).filter(Boolean),...r]}const L4={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:cn("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Y(n=>[Ma(e,n)],n=>n.findIndex(r=>r.id===t.id),X(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=Ma(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=Ma(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Y(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let o=[];if(!(e!=null&&e.length))o=i;else{const s=[...e],a=[...i];for(;a.length&&s.length;){const l=s.shift(),u=a.findIndex(c=>c.id===l);u>-1&&o.push(a.splice(u,1)[0])}o=[...o,...a]}return F4(o,n,r)},X(t.options,"debugTable"))}},Cf=()=>({left:[],right:[]}),V4={getInitialState:t=>({columnPinning:Cf(),...t}),getDefaultOptions:t=>({onColumnPinningChange:cn("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,c;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((c=i==null?void 0:i.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d))),right:((s=i==null?void 0:i.right)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=e.options.enableColumnPinning)!=null?s:e.options.enablePinning)!=null?o:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(a=>a.id),{left:r,right:i}=e.getState().columnPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"left":s?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Y(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},X(e.options,"debugRows")),t.getLeftVisibleCells=Y(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),X(e.options,"debugRows")),t.getRightVisibleCells=Y(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),X(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?Cf():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:Cf())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Y(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),X(t.options,"debugColumns")),t.getRightLeafColumns=Y(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),X(t.options,"debugColumns")),t.getCenterLeafColumns=Y(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(o=>!i.includes(o.id))},X(t.options,"debugColumns"))}},Fu={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},If=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),$4={getDefaultColumnDef:()=>Fu,getInitialState:t=>({columnSizing:{},columnSizingInfo:If(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:cn("columnSizing",t),onColumnSizingInfoChange:cn("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const o=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Fu.minSize,(r=o??t.columnDef.size)!=null?r:Fu.size),(i=t.columnDef.maxSize)!=null?i:Fu.maxSize)},t.getStart=Y(n=>[n,Ma(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,o)=>i+o.getSize(),0),X(e.options,"debugColumns")),t.getAfter=Y(n=>[n,Ma(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,o)=>i+o.getSize(),0),X(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r==null?void 0:r.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),Rf(o)&&o.touches&&o.touches.length>1))return;const s=t.getSize(),a=t?t.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],l=Rf(o)?Math.round(o.touches[0].clientX):o.clientX,u={},c=(y,m)=>{typeof m=="number"&&(e.setColumnSizingInfo(v=>{var T,R;const S=e.options.columnResizeDirection==="rtl"?-1:1,P=(m-((T=v==null?void 0:v.startOffset)!=null?T:0))*S,A=Math.max(P/((R=v==null?void 0:v.startSize)!=null?R:0),-.999999);return v.columnSizingStart.forEach(M=>{let[$,H]=M;u[$]=Math.round(Math.max(H+H*A,0)*100)/100}),{...v,deltaOffset:P,deltaPercentage:A}}),(e.options.columnResizeMode==="onChange"||y==="end")&&e.setColumnSizing(v=>({...v,...u})))},d=y=>c("move",y),f=y=>{c("end",y),e.setColumnSizingInfo(m=>({...m,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=n||typeof document<"u"?document:null,_={moveHandler:y=>d(y.clientX),upHandler:y=>{p==null||p.removeEventListener("mousemove",_.moveHandler),p==null||p.removeEventListener("mouseup",_.upHandler),f(y.clientX)}},g={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),d(y.touches[0].clientX),!1),upHandler:y=>{var m;p==null||p.removeEventListener("touchmove",g.moveHandler),p==null||p.removeEventListener("touchend",g.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),f((m=y.touches[0])==null?void 0:m.clientX)}},w=j4()?{passive:!1}:!1;Rf(o)?(p==null||p.addEventListener("touchmove",g.moveHandler,w),p==null||p.addEventListener("touchend",g.upHandler,w)):(p==null||p.addEventListener("mousemove",_.moveHandler,w),p==null||p.addEventListener("mouseup",_.upHandler,w)),e.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?If():(n=t.initialState.columnSizingInfo)!=null?n:If())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let Lu=null;function j4(){if(typeof Lu=="boolean")return Lu;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return Lu=t,Lu}function Rf(t){return t.type==="touchstart"}const U4={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:cn("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(o=>o.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Y(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),X(e.options,"debugRows")),t.getVisibleCells=Y(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],X(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Y(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),X(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Ma(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const z4={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},B4={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:cn("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,o;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((o=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?o:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>or.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return dh(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:or[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},H4={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:cn("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,o;t.setExpanded(r?{}:(i=(o=t.initialState)==null?void 0:o.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[t.id]);let s={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[t.id]:!0};if(o&&!n){const{[t.id]:a,...l}=s;return l}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},pg=0,gg=10,Pf=()=>({pageIndex:pg,pageSize:gg}),W4={getInitialState:t=>({...t,pagination:{...Pf(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:cn("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=o=>Qr(r,o);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?Pf():(i=t.initialState.pagination)!=null?i:Pf())},t.setPageIndex=r=>{t.setPagination(i=>{let o=Qr(r,i.pageIndex);const s=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},t.resetPageIndex=r=>{var i,o;t.setPageIndex(r?pg:(i=(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:pg)},t.resetPageSize=r=>{var i,o;t.setPageSize(r?gg:(i=(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:gg)},t.setPageSize=r=>{t.setPagination(i=>{const o=Math.max(1,Qr(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},t.setPageCount=r=>t.setPagination(i=>{var o;let s=Qr(r,(o=t.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),t.getPageOptions=Y(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},X(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},Af=()=>({top:[],bottom:[]}),G4={getInitialState:t=>({rowPinning:Af(),...t}),getDefaultOptions:t=>({onRowPinningChange:cn("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const o=r?t.getLeafRows().map(l=>{let{id:u}=l;return u}):[],s=i?t.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...s,t.id,...o]);e.setRowPinning(l=>{var u,c;if(n==="bottom"){var d,f;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(g=>!(a!=null&&a.has(g))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(g=>!(a!=null&&a.has(g))),...Array.from(a)]}}if(n==="top"){var p,_;return{top:[...((p=l==null?void 0:l.top)!=null?p:[]).filter(g=>!(a!=null&&a.has(g))),...Array.from(a)],bottom:((_=l==null?void 0:l.bottom)!=null?_:[]).filter(g=>!(a!=null&&a.has(g)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(g=>!(a!=null&&a.has(g))),bottom:((c=l==null?void 0:l.bottom)!=null?c:[]).filter(g=>!(a!=null&&a.has(g)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"top":s?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const o=(n=e._getPinnedRows(i))==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o==null?void 0:o.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?Af():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:Af())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=Y(e=>[t.getRowModel().rows,t.getState().rowPinning[e],e],(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(s=>{const a=t.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(s=>e.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:r}))},X(t.options,"debugRows")),t.getTopRows=()=>t._getPinnedRows("top"),t.getBottomRows=()=>t._getPinnedRows("bottom"),t.getCenterRows=Y(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(o=>!i.has(o.id))},X(t.options,"debugRows"))}},q4={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:cn("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(o=>{mg(i,o.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Y(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?kf(t,n):{rows:[],flatRows:[],rowsById:{}},X(t.options,"debugTable")),t.getFilteredSelectedRowModel=Y(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?kf(t,n):{rows:[],flatRows:[],rowsById:{}},X(t.options,"debugTable")),t.getGroupedSelectedRowModel=Y(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?kf(t,n):{rows:[],flatRows:[],rowsById:{}},X(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return o;const a={...o};return mg(a,t.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,e),a})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return ky(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return yg(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return yg(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},mg=(t,e,n,r,i)=>{var o;const s=i.getRow(e,!0);n?(s.getCanMultiSelect()||Object.keys(t).forEach(a=>delete t[a]),s.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>mg(t,a.id,n,r,i))};function kf(t,e){const n=t.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var u;const c=ky(l,n);if(c&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:o(l.subRows)}),c)return l}).filter(Boolean)};return{rows:o(e.rows),flatRows:r,rowsById:i}}function ky(t,e){var n;return(n=e[t.id])!=null?n:!1}function yg(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return t.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(ky(s,e)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=yg(s,e);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const vg=/([0-9]+)/gm,K4=(t,e,n)=>ZC(pi(t.getValue(n)).toLowerCase(),pi(e.getValue(n)).toLowerCase()),Q4=(t,e,n)=>ZC(pi(t.getValue(n)),pi(e.getValue(n))),Y4=(t,e,n)=>Dy(pi(t.getValue(n)).toLowerCase(),pi(e.getValue(n)).toLowerCase()),X4=(t,e,n)=>Dy(pi(t.getValue(n)),pi(e.getValue(n))),J4=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},Z4=(t,e,n)=>Dy(t.getValue(n),e.getValue(n));function Dy(t,e){return t===e?0:t>e?1:-1}function pi(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function ZC(t,e){const n=t.split(vg).filter(Boolean),r=e.split(vg).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const oa={alphanumeric:K4,alphanumericCaseSensitive:Q4,text:Y4,textCaseSensitive:X4,datetime:J4,basic:Z4},eU={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:cn("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(o)==="[object Date]")return oa.datetime;if(typeof o=="string"&&(r=!0,o.split(vg).length>1))return oa.alphanumeric}return r?oa.text:oa.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return dh(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:oa[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),o=typeof n<"u"&&n!==null;e.setSorting(s=>{const a=s==null?void 0:s.find(p=>p.id===t.id),l=s==null?void 0:s.findIndex(p=>p.id===t.id);let u=[],c,d=o?n:i==="desc";if(s!=null&&s.length&&t.getCanMultiSort()&&r?a?c="toggle":c="add":s!=null&&s.length&&l!==s.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(o||i||(c="remove")),c==="add"){var f;u=[...s,{id:t.id,desc:d}],u.splice(0,u.length-((f=e.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=s.map(p=>p.id===t.id?{...p,desc:d}:p):c==="remove"?u=s.filter(p=>p.id!==t.id):u=[{id:t.id,desc:d}];return u})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const o=t.getFirstSortDir(),s=t.getIsSorted();return s?s!==o&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},tU=[x4,U4,L4,V4,T4,C4,z4,B4,eU,O4,H4,W4,G4,q4,$4];function nU(t){var e,n;const r=[...tU,...(e=t._features)!=null?e:[]];let i={_features:r};const o=i._features.reduce((f,p)=>Object.assign(f,p.getDefaultOptions==null?void 0:p.getDefaultOptions(i)),{}),s=f=>i.options.mergeOptions?i.options.mergeOptions(o,f):{...o,...f};let l={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(f=>{var p;l=(p=f.getInitialState==null?void 0:f.getInitialState(l))!=null?p:l});const u=[];let c=!1;const d={_features:r,options:{...o,...t},initialState:l,_queue:f=>{u.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const p=Qr(f,i.options);i.options=s(p)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,p,_)=>{var g;return(g=i.options.getRowId==null?void 0:i.options.getRowId(f,p,_))!=null?g:`${_?[_.id,p].join("."):p}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,p)=>{let _=(p?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!_&&(_=i.getCoreRowModel().rowsById[f],!_))throw new Error;return _},_getDefaultColumnDef:Y(()=>[i.options.defaultColumn],f=>{var p;return f=(p=f)!=null?p:{},{header:_=>{const g=_.header.column.columnDef;return g.accessorKey?g.accessorKey:g.accessorFn?g.id:null},cell:_=>{var g,w;return(g=(w=_.renderValue())==null||w.toString==null?void 0:w.toString())!=null?g:null},...i._features.reduce((_,g)=>Object.assign(_,g.getDefaultColumnDef==null?void 0:g.getDefaultColumnDef()),{}),...f}},X(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Y(()=>[i._getColumnDefs()],f=>{const p=function(_,g,w){return w===void 0&&(w=0),_.map(y=>{const m=S4(i,y,w,g),v=y;return m.columns=v.columns?p(v.columns,m,w+1):[],m})};return p(f)},X(t,"debugColumns")),getAllFlatColumns:Y(()=>[i.getAllColumns()],f=>f.flatMap(p=>p.getFlatColumns()),X(t,"debugColumns")),_getAllFlatColumnsById:Y(()=>[i.getAllFlatColumns()],f=>f.reduce((p,_)=>(p[_.id]=_,p),{}),X(t,"debugColumns")),getAllLeafColumns:Y(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,p)=>{let _=f.flatMap(g=>g.getLeafColumns());return p(_)},X(t,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const p=i._features[f];p==null||p.createTable==null||p.createTable(i)}return i}function rU(){return t=>Y(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let u=0;u<i.length;u++){const c=Py(t,t._getRowId(i[u],u,s),i[u],u,o,void 0,s==null?void 0:s.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),t.options.getSubRows){var l;c.originalSubRows=t.options.getSubRows(i[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,o+1,c))}}return a};return n.rows=r(e),n},X(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function iU(t,e,n){return n.options.filterFromLeafRows?oU(t,e,n):sU(t,e,n)}function oU(t,e,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){var d;let p=l[f];const _=Py(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(_.columnFilters=p.columnFilters,(d=p.subRows)!=null&&d.length&&u<s){if(_.subRows=a(p.subRows,u+1),p=_,e(p)&&!_.subRows.length){c.push(p),o[p.id]=p,i.push(p);continue}if(e(p)||_.subRows.length){c.push(p),o[p.id]=p,i.push(p);continue}}else p=_,e(p)&&(c.push(p),o[p.id]=p,i.push(p))}return c};return{rows:a(t),flatRows:i,rowsById:o}}function sU(t,e,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){let p=l[f];if(e(p)){var d;if((d=p.subRows)!=null&&d.length&&u<s){const g=Py(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);g.subRows=a(p.subRows,u+1),p=g}c.push(p),i.push(p),o[p.id]=p}}return c};return{rows:a(t),flatRows:i,rowsById:o}}function aU(){return t=>Y(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<e.flatRows.length;f++)e.flatRows[f].columnFilters={},e.flatRows[f].columnFiltersMeta={};return e}const i=[],o=[];(n??[]).forEach(f=>{var p;const _=t.getColumn(f.id);if(!_)return;const g=_.getFilterFn();g&&i.push({id:f.id,filterFn:g,resolvedValue:(p=g.resolveFilterValue==null?void 0:g.resolveFilterValue(f.value))!=null?p:f.value})});const s=n.map(f=>f.id),a=t.getGlobalFilterFn(),l=t.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(s.push("__global__"),l.forEach(f=>{var p;o.push({id:f.id,filterFn:a,resolvedValue:(p=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?p:r})}));let u,c;for(let f=0;f<e.flatRows.length;f++){const p=e.flatRows[f];if(p.columnFilters={},i.length)for(let _=0;_<i.length;_++){u=i[_];const g=u.id;p.columnFilters[g]=u.filterFn(p,g,u.resolvedValue,w=>{p.columnFiltersMeta[g]=w})}if(o.length){for(let _=0;_<o.length;_++){c=o[_];const g=c.id;if(c.filterFn(p,g,c.resolvedValue,w=>{p.columnFiltersMeta[g]=w})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const d=f=>{for(let p=0;p<s.length;p++)if(f.columnFilters[s[p]]===!1)return!1;return!0};return iU(e.rows,d,t)},X(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function lU(){return t=>Y(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],o=r.filter(l=>{var u;return(u=t.getColumn(l.id))==null?void 0:u.getCanSort()}),s={};o.forEach(l=>{const u=t.getColumn(l.id);u&&(s[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,d)=>{for(let p=0;p<o.length;p+=1){var f;const _=o[p],g=s[_.id],w=g.sortUndefined,y=(f=_==null?void 0:_.desc)!=null?f:!1;let m=0;if(w){const v=c.getValue(_.id),T=d.getValue(_.id),R=v===void 0,S=T===void 0;if(R||S){if(w==="first")return R?-1:1;if(w==="last")return R?1:-1;m=R&&S?0:R?w:-w}}if(m===0&&(m=g.sortingFn(c,d,_.id)),m!==0)return y&&(m*=-1),g.invertSorting&&(m*=-1),m}return c.index-d.index}),u.forEach(c=>{var d;i.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},X(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function pw(t,e){return t?uU(t)?E.createElement(t,e):t:null}function uU(t){return cU(t)||typeof t=="function"||dU(t)}function cU(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function dU(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function hU(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=E.useState(()=>({current:nU(e)})),[r,i]=E.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...t,state:{...r,...t.state},onStateChange:s=>{i(s),t.onStateChange==null||t.onStateChange(s)}})),n.current}function fU({data:t,columns:e}){var a,l;const[n,r]=E.useState([]),[i,o]=E.useState([]),s=hU({data:t,columns:e,getCoreRowModel:rU(),onSortingChange:r,getSortedRowModel:lU(),onColumnFiltersChange:o,getFilteredRowModel:aU(),state:{sorting:n,columnFilters:i}});return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mt-5",children:h.jsx(Bt,{placeholder:"Filter customers...",value:((a=s.getColumn("customerName"))==null?void 0:a.getFilterValue())??"",onChange:u=>{var c;return(c=s.getColumn("customerName"))==null?void 0:c.setFilterValue(u.target.value)},className:"sm:mx-auto sm:max-w-[320px] lg:h-12 lg:text-lg"})}),h.jsxs(Yl,{className:"my-4 lg:text-lg",children:[h.jsx(Xl,{children:s.getHeaderGroups().map(u=>h.jsx(ye,{children:u.headers.map(c=>h.jsx(xe,{className:"text-center",children:c.isPlaceholder?null:pw(c.column.columnDef.header,c.getContext())},c.id))},u.id))}),h.jsx(Jl,{className:"text-center",children:(l=s.getRowModel().rows)!=null&&l.length?s.getRowModel().rows.map(u=>h.jsx(ye,{children:u.getVisibleCells().map(c=>h.jsx(x,{children:pw(c.column.columnDef.cell,c.getContext())},c.id))},u.id)):h.jsx(ye,{children:h.jsx(x,{colSpan:e.length,className:"h-24 text-center",children:"No results."})})})]})]})}function pU({monthData:t,day:e}){const n=new Date(e),r=Ke(n,"MMM"),i=Ke(n,"yyyy"),o=R$(t),s=[{header:({column:l})=>h.jsxs(Ce,{variant:"ghost",onClick:()=>l.toggleSorting(l.getIsSorted()==="asc"),className:"lg:text-lg",children:["No.",h.jsx(I0,{className:"ml-2 h-4 w-4"})]}),accessorKey:"id"},{header:({column:l})=>h.jsxs(Ce,{variant:"ghost",onClick:()=>l.toggleSorting(l.getIsSorted()==="asc"),className:"lg:text-lg",children:["Customer Name",h.jsx(I0,{className:"ml-2 h-4 w-4"})]}),accessorKey:"customerName"},...Array.from({length:12},(l,u)=>{const c=Ke(new Date(parseFloat(i),u,1),"MMM");return{header:c,accessorKey:c.toLowerCase()}})],a=Object.keys(o).map((l,u)=>{const c=Array.from({length:12},(d,f)=>{const p=Ke(new Date(parseFloat(i),f,1),"MMM");return p===r?{[p.toLowerCase()]:o[l].join(", ")}:{[p.toLowerCase()]:""}});return Object.assign({id:u+1,customerName:l.split("-").join(" ")},...c)});return h.jsx(fU,{data:a,columns:s})}function gU(){const{day:t}=Il(),e=Cr(),{data:n,isLoading:r,error:i}=Ed({getAllDaysInfo:ih,dateString:t});let o=null;return r&&(o=h.jsx("p",{className:"my-3 text-center lg:text-lg",children:"Fetching data..."})),i&&(o=h.jsx("p",{className:"my-3 text-center text-red-600 lg:text-lg",children:"Something went wrong with fetching data"})),Ht(n)||(o=h.jsx(pU,{monthData:n,day:t})),h.jsxs("section",{children:[h.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl lg:text-4xl",children:"Customer Attendance"}),h.jsx("div",{className:"mt-5 flex flex-col sm:flex-row sm:justify-center",children:h.jsx(Ce,{onClick:()=>e(`/calendar/${t}`),className:" bg-yellow-400 text-yellow-900 hover:bg-yellow-400/90 lg:text-lg",children:"Go Back To Calendar"})}),o,h.jsx(Ql,{})]})}function mU({children:t}){const{userState:e}=SC();return e?t:h.jsx(gm,{to:"/login"})}const yU=KA([{path:"/",element:h.jsx(mU,{children:h.jsx(uk,{})}),errorElement:h.jsx(Yk,{}),children:[{index:!0,element:h.jsx(gm,{to:"calendar"})},{path:"calendar/:day?",element:h.jsx(P$,{})},{path:"cashaccount/:day",element:h.jsx(d4,{})},{path:"totalmonthlysales/:day",element:h.jsx(f4,{})},{path:"dailysales/:day",element:h.jsx(v4,{})},{path:"customerattendance/:day",element:h.jsx(gU,{})}]},{path:"/login",element:h.jsx(k$,{})}]);function vU(){return h.jsx(A$,{children:h.jsx(rk,{router:yU})})}Df.createRoot(document.getElementById("root")).render(h.jsx(Iw.StrictMode,{children:h.jsx(vU,{})}));
